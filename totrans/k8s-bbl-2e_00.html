<html><head></head><body>
  <div id="_idContainer012">
    <h1 class="mainHeading" id="_idParaDest-7">Preface</h1>
    <p class="normal">Containers have allowed a real leap forward since their massive adoption in the world of virtualization because they have allowed greater flexibility, especially these days, when buzzwords such as <strong class="keyWord">cloud</strong>, <strong class="keyWord">agile</strong>, and <strong class="keyWord">DevOps</strong> are on everyone’s lips.</p>
    <p class="normal">Today, almost no one questions the use of containers—they’re basically everywhere, especially after the success of Docker and the rise of Kubernetes as the leading platform for container orchestration.</p>
    <p class="normal">Containers have brought tremendous flexibility to organizations, but they have remained questionable for a very long time when organizations face the challenge of deploying them in production. For years, companies have been using containers for proof-of-concept projects, local development, and similar purposes, but the idea of using containers for real production workloads was inconceivable for many organizations.</p>
    <p class="normal">Container orchestrators were the game-changer, with Kubernetes in the lead. Originally built by Google, today, Kubernetes is the leading container orchestrator that provides you with all the features you need in order to deploy containers in production at scale. Kubernetes is popular, but it is also complex. This tool is so versatile that getting started with it and progressing to advanced usage is not an easy task: it is not an easy tool to learn and operate.</p>
    <p class="normal">As an orchestrator, Kubernetes has its own concepts independent of those of a container engine. But when both container engines and orchestrators are used together, you get a very strong platform ready to deploy your cloud-native applications in production. As engineers working with Kubernetes daily, we were convinced, like many, that it was a technology to master, and we decided to share our knowledge in order to make Kubernetes accessible by covering most of this orchestrator.</p>
    <p class="normal">This book is entirely dedicated to Kubernetes and is the result of our work. It provides a broad view of Kubernetes and covers a lot of aspects of the orchestrator, from pure container Pod creation to deploying the orchestrator on the public cloud. We didn’t want this book to be a <em class="italic">Getting Started</em> guide.</p>
    <p class="normal">We hope this book will teach you everything you want to learn about Kubernetes!</p>
    <h1 class="heading-1" id="_idParaDest-8">Who this book is for</h1>
    <p class="normal">This book is for people who intend to use Kubernetes with container runtimes. Although Kubernetes supports various container engines through the <strong class="keyWord">Container Runtime Interface</strong> (<strong class="keyWord">CRI</strong>) and is not tied to any specific one, the combination of Kubernetes with <code class="inlineCode">containerd</code> remains one of the most common use cases.</p>
    <p class="normal">This book is highly technical, with a primary focus on Kubernetes and container runtimes from an engineering perspective. It is intended for engineers, whether they come from a development or system administration background and is not aimed at project managers. It is a Kubernetes bible for people who are going to use Kubernetes daily, or for people who wish to discover this tool. You shouldn’t be afraid of typing some commands on a terminal.</p>
    <p class="normal">Being a total beginner to Kubernetes or having an intermediate level is not a problem for following this book. While we cover some container fundamentals within the chapters, it’s helpful to have basic technical familiarity with containers. This book can also serve as a guide if you are in the process of migrating an existing application to Kubernetes.</p>
    <p class="normal">The book incorporates content that will allow readers to deploy Kubernetes on public cloud offerings such as Amazon EKS or Google GKE. Cloud users who wish to add Kubernetes to their stack on the cloud will appreciate this book.</p>
    <h1 class="heading-1" id="_idParaDest-9">What this book covers</h1>
    <p class="normal"><em class="chapterRef">Chapter 1</em>, <em class="italic">Kubernetes Fundamentals</em>, is an introduction to Kubernetes. We’re going to explain what Kubernetes is, why it was created, who created it, who keeps this project alive, and when and why you should use it as part of your stack.</p>
    <p class="normal"><em class="chapterRef">Chapter 2</em>, <em class="italic">Kubernetes Architecture – from Container Images to Running Pods</em>, covers how Kubernetes is built as a distributed software and is technically not a single monolith binary but built as a set of microservices interacting with each other. We’re going to explain this architecture and how Kubernetes proceeds to translate your instructions into running containers in this chapter.</p>
    <p class="normal"><em class="chapterRef">Chapter 3</em>, <em class="italic">Installing Your First Kubernetes Cluster</em>, explains that Kubernetes is really difficult to install due to its distributed nature, so as to make the learning process easier, it is possible to install Kubernetes clusters by using one of its distributions. Kind and minikube are two options we’re going to discover in this chapter to have a Kubernetes cluster working on your machine.</p>
    <p class="normal"><em class="chapterRef">Chapter 4</em>, <em class="italic">Running Your Containers in Kubernetes</em>, is an introduction to the concept of Pods.</p>
    <p class="normal"><em class="chapterRef">Chapter 5</em>, <em class="italic">Using Multi-Container Pods and Design Patterns</em>, introduces multi-container Pods and design patterns such as a proxy, adapter, or sidecar that you can build when running several containers as part of the same Pod.</p>
    <p class="normal"><em class="chapterRef">Chapter 6</em>, <em class="italic">Namespaces, Quotas</em>,<em class="italic"> and Limits for Multi-Tenancy in Kubernetes</em>, explains how using namespaces is a key aspect of cluster management and, inevitably, you’ll have to deal with namespaces during your journey with Kubernetes. Though it’s a simple notion, it is a key one, and you’ll have to master namespaces perfectly in order to be successful with Kubernetes. We will also learn how to implement multi-tenancy in Kubernetes using Namespaces, Quotas and Limits.</p>
    <p class="normal"><em class="chapterRef">Chapter 7</em>, <em class="italic">Configuring Your Pods Using ConfigMaps and Secrets</em>, explains how, in Kubernetes, we separate Kubernetes applications from their configurations. Both applications and configurations have their own life cycle, thanks to the ConfigMap and Secret resources. This chapter will be dedicated to these two objects and how to mount data in a ConfigMap or Secret as environment variables or volumes mounted on your Pod.</p>
    <p class="normal"><em class="chapterRef">Chapter 8</em>, <em class="italic">Exposing Your Pods with Services</em>, teaches you about the notion of services in Kubernetes. Each Pod in Kubernetes gets assigned its own IP address dynamically. Services are extremely useful if you want to provide a consistent one to expose Pods within your cluster to other Pods or to the outside world, with a single static DNS name. You’ll learn here that there are three main service types, called ClusterIp, NodePort, and LoadBalancer, which are all dedicated to a single use case in terms of Pod exposition.</p>
    <p class="normal"><em class="chapterRef">Chapter 9</em>, <em class="italic">Persistent Storage in Kubernetes</em>, covers how, by default, Pods are not persistent. As they’re just managing raw containers, destroying them will result in the loss of your data. The solution to that is the usage of persistent storage thanks to the PersistentVolume and PersistentVolumeClaim resources. This chapter is dedicated to these two objects and the StorageClass object: it will teach you that Kubernetes is extremely versatile in terms of storage and that your Pods can be interfaced with a lot of different storage technologies.</p>
    <p class="normal"><em class="chapterRef">Chapter 10</em>, <em class="italic">Running Production-Grade Kubernetes Workloads</em>, takes a deep dive into high availability and fault tolerance in Kubernetes using ReplicationController and ReplicaSet.</p>
    <p class="normal"><em class="chapterRef">Chapter 11</em>, <em class="italic">Using Kubernetes Deployments for Stateless Workloads</em>, is a continuation of the previous chapter and explains how to manage multiple versions of ReplicaSets using the Deployment object. This is the basic building block for stateless applications running on Kubernetes.</p>
    <p class="normal"><em class="chapterRef">Chapter 12</em>, <em class="italic">StatefulSet – Deploying Stateful Applications</em>, takes a look at the next important Kubernetes object: StatefulSet. This object is the backbone of running stateful applications on Kubernetes. We’ll explain the most important differences between running stateless and stateful applications using Kubernetes.</p>
    <p class="normal"><em class="chapterRef">Chapter 13</em>, <em class="italic">DaemonSet – Maintaining Pod Singletons on Nodes</em>, covers DaemonSet, which are a special Kubernetes object that can be used for running operational or supporting workloads on Kubernetes clusters. Whenever you need to run precisely one container Pod on a single Kubernetes node, DaemonSet is what you need.</p>
    <p class="normal"><em class="chapterRef">Chapter 14</em>, <em class="italic">Working with Helm Charts and Operators</em>, covers Helm Charts, which is a dedicated packaging and redistribution tool for Kubernetes applications. Armed with knowledge from this chapter, you will be able to quickly set up your Kubernetes development environment or even plan for the redistribution of your Kubernetes application as a dedicated Helm Chart. In this chapter, we will also introduce the Kubernetes operators and how they will help you to deploy application stacks.</p>
    <p class="normal"><em class="chapterRef">Chapter 15</em>, <em class="italic">Kubernetes Clusters on Google Kubernetes Engine</em>, looks at how we can move our Kubernetes workload to Google Cloud using both the native command-line client and the Google Cloud console.</p>
    <p class="normal"><em class="chapterRef">Chapter 16</em>, <em class="italic">Launching a Kubernetes Cluster on Amazon Web Services with Amazon Elastic Kubernetes Service</em>, looks at moving the workload we launched in the previous chapter to Amazon’s Kubernetes offering.</p>
    <p class="normal"><em class="chapterRef">Chapter 17</em>, <em class="italic">Kubernetes Clusters on Microsoft Azure with Azure Kubernetes Service</em>, looks at launching a cluster in Microsoft Azure.</p>
    <p class="normal"><em class="chapterRef">Chapter 18</em>, <em class="italic">Security in Kubernetes</em>, covers authorization using built-in role-based access control and authorization schemes together with user management. This chapter also teaches you about admission controllers, TLS certificates based communication, and security context implementations.</p>
    <p class="normal"><em class="chapterRef">Chapter 19</em>, <em class="italic">Advanced Techniques for Scheduling Pods</em>, takes a deeper look at Node affinity, Node taints and tolerations, and advanced scheduling policies in general.</p>
    <p class="normal"><em class="chapterRef">Chapter 20</em>, <em class="italic">Autoscaling Kubernetes Pods and Nodes</em>, introduces the principles behind autoscaling in Kubernetes and explains how to use Vertical Pod Autoscaler, Horizontal Pod Autoscaler, and Cluster Autoscaler.</p>
    <p class="normal"><em class="chapterRef">Chapter 21</em>, <em class="italic">Advanced Kubernetes: Traffic Management</em>, <em class="italic">Multi-Cluster Strategies, and More</em>, covers Ingress objects and IngressController in Kubernetes. We explain how to use nginx as an implementation of IngressController and how you can use Azure Application Gateway as a native IngressController in Azure environments. We will also explain advanced Kubernetes topics including Cluster Day 2 tasks, best practices, and troubleshooting.</p>
    <h1 class="heading-1" id="_idParaDest-10">To get the most out of this book</h1>
    <p class="normal">While we cover container fundamentals in the chapters, this book is focused on Kubernetes. Although Kubernetes supports multiple container engines, the content primarily discusses using Kubernetes with <code class="inlineCode">containerd</code> as the runtime. You don’t need to be an expert, but having a basic understanding of launching and managing applications with containers will be helpful before diving into this book.</p>
    <p class="normal">While it is possible to run Windows containers with Kubernetes, most of the topics covered in this book will be Linux-based. Having a good knowledge of Linux will be helpful, but is not required. Again, you don’t have to be an expert: knowing how to use a terminal session and basic Bash scripting should be enough.</p>
    <p class="normal">Lastly, having some general knowledge of software architecture such as REST APIs will be beneficial.</p>
    <table class="table-container" id="table001">
      <tbody>
        <tr>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">Software/hardware covered in the book</strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord">OS Requirements</strong></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">Kubernetes &gt;= 1.31</p>
          </td>
          <td class="table-cell">
            <p class="normal">Windows, macOS, Linux</p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal">kubectl &gt;= 1.31</p>
          </td>
          <td class="table-cell">
            <p class="normal">Windows, macOS, Linux</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="normal">We strongly advise you to not attempt to install Kubernetes or <code class="inlineCode">kubectl</code> on your machine for now. Kubernetes is not a single binary but is distributed software composed of several components and, as such, it is really complex to install a complete Kubernetes cluster from scratch. Instead, we recommend that you follow the third chapter of this book, which is dedicated to the setup of Kubernetes.</p>
    <p class="normal"><strong class="keyWord">If you are using the digital version of this book, we advise you to type the code yourself or access the code via the GitHub repository (link available in the next section). Doing so will help you avoid any potential errors related to the copying and pasting of code.</strong></p>
    <p class="normal">Please note that <code class="inlineCode">kubectl</code>, <code class="inlineCode">helm</code>, etc. are the tools we’re going to use most frequently in this book, but there is a huge ecosystem around Kubernetes and we might install additional software not mentioned in this section. This book is also about using Kubernetes in the cloud, and we’re going to discover how to provision Kubernetes clusters on public cloud platforms such as Amazon Web Services and Google Cloud Platform. As part of this setup, we might install additional software dedicated to these platforms that are not strictly bound to Kubernetes, but also to other services provided by these platforms.</p>
    <h1 class="heading-1" id="_idParaDest-11">Download the example code files</h1>
    <p class="normal">You can download the example code files for this book from GitHub at <a href="https://github.com/PacktPublishing/The-Kubernetes-Bible-Second-Edition"><span class="url">https://github.com/PacktPublishing/The-Kubernetes-Bible-Second-Edition</span></a>. In case there’s an update to the code, it will be updated on the existing GitHub repository.</p>
    <p class="normal">We also have other code bundles from our rich catalogue of books and videos available at <a href="https://github.com/PacktPublishing/"><span class="url">https://github.com/PacktPublishing/</span></a>. Check them out!</p>
    <h1 class="heading-1" id="_idParaDest-12">Download the color images</h1>
    <p class="normal">We also provide a PDF file that has color images of the screenshots/diagrams used in this book. You can download it here: <a href="https://static.packt-cdn.com/downloads/9781835464717_ColorImages.pdf"><span class="url">https://static.packt-cdn.com/downloads/9781835464717_ColorImages.pdf</span></a>.</p>
    <h1 class="heading-1" id="_idParaDest-13">Conventions used</h1>
    <p class="normal">There are a number of text conventions used throughout this book.</p>
    <p class="normal"><code class="inlineCode">Code in text</code>: Indicates code words in the text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: “Now, we need to create a <code class="inlineCode">kubeconfig</code> file for our local <code class="inlineCode">kubectl</code> CLI.”</p>
    <p class="normal">A block of code is set as follows:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Pod</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-Pod</span>
</code></pre>
    <p class="normal">When we wish to draw your attention to a particular part of a code block, the relevant lines or items are set in bold:</p>
    <pre class="programlisting code"><code class="hljs-code"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="code-highlight"><strong class="hljs-string-slc">ReplicationController</strong></span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">nginx-replicationcontroller-example</span>
</code></pre>
    <p class="normal">Any command-line input or output is written as follows:</p>
    <pre class="programlisting con"><code class="hljs-con"><span class="hljs-con-meta">$ </span>kubectl get nodes
</code></pre>
    <p class="normal"><strong class="keyWord">Bold</strong>: Indicates a new term, an important word, or words that you see on screen. For example, words in menus or dialog boxes appear in the text like this. Here is an example: “On this screen, you should see an <strong class="screenText">Enable Billing</strong> button.”</p>
    <div class="note">
      <p class="normal"><strong class="keyWord">IMPORTANT NOTES</strong></p>
      <p class="normal">appear like this</p>
    </div>
    <div class="packt_tip">
      <p class="normal"><strong class="keyWord">Tips</strong></p>
      <p class="normal">appear like this.</p>
    </div>
    <h1 class="heading-1" id="_idParaDest-14">Get in touch</h1>
    <p class="normal">Feedback from our readers is always welcome.</p>
    <p class="normal"><strong class="keyWord">General feedback</strong>: If you have questions about any aspect of this book, mention the book title in the subject of your message and email us at <a href="mailto:customercare@packtpub.com"><span class="url">customercare@packtpub.com</span></a>.</p>
    <p class="normal"><strong class="keyWord">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata"><span class="url">www.packtpub.com/support/errata</span></a>, selecting your book, clicking on the Errata Submission Form link, and entering the details.</p>
    <p class="normal"><strong class="keyWord">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at <a href="mailto:copyright@packt.com"><span class="url">copyright@packt.com</span></a> with a link to the material.</p>
    <p class="normal"><strong class="keyWord">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please visit <a href="http://authors.packtpub.com"><span class="url">authors.packtpub.com</span></a>.</p>
  </div>
  <div class="Basic-Text-Frame" id="_idContainer014">
    <h1 class="heading-1" id="_idParaDest-15">Leave a Review!</h1>
    <p class="normal">Thank you for purchasing this book from Packt Publishing—we hope you enjoy it! Your feedback is invaluable and helps us improve and grow. Once you’ve completed reading it, please take a moment to leave an Amazon review; it will only take a minute, but it makes a big difference for readers like you. </p>
    <p class="normal">Scan the QR code below to receive a free ebook of your choice.</p>
    <figure class="mediaobject"><img alt="A qr code with black squares&#10;&#10;Description automatically generated" src="image/review.png"/></figure>
    <p class="packt_figref"><a href="https://packt.link/NzOWQ"><span class="url">https://packt.link/NzOWQ</span></a></p>
  </div>
  <div class="Basic-Text-Frame" id="_idContainer016">
    <p class="eop"/>
    <h1 class="heading-1" id="_idParaDest-16">Download a free PDF copy of this book</h1>
    <p class="normal">Thanks for purchasing this book!</p>
    <p class="normal">Do you like to read on the go but are unable to carry your print books everywhere?</p>
    <p class="normal">Is your eBook purchase not compatible with the device of your choice?</p>
    <p class="normal">Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at no cost.</p>
    <p class="normal">Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into your application.</p>
    <p class="normal">The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your inbox daily.</p>
    <p class="normal">Follow these simple steps to get the benefits:</p>
    <ol>
      <li class="numberedList" value="1">Scan the QR code or visit the link below:</li>
    </ol>
    <figure class="mediaobject"><img alt="" src="image/B22019_Free_PDF_QR.png"/></figure>
    <p class="packt_figref"><a href="https://packt.link/free-ebook/9781835464717"><span class="url">https://packt.link/free-ebook/9781835464717</span></a></p>
    <ol>
      <li class="numberedList" value="2">Submit your proof of purchase.</li>
      <li class="numberedList">That’s it! We’ll send your free PDF and other benefits to your email directly.</li>
    </ol>
  </div>
</body></html>