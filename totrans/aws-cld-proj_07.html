<html><head></head><body>
		<div id="_idContainer136">
			<h1 id="_idParaDest-155" class="chapter-number"><a id="_idTextAnchor203"/><st c="0">7</st></h1>
			<h1 id="_idParaDest-156"><a id="_idTextAnchor204"/><st c="2">Implementing a Chatbot Using Machine Learning</st></h1>
			<p><st c="47">In the previous chapters, you already had the opportunity to experiment and familiarize yourself with </st><strong class="bold"><st c="150">Artificial Intelligence</st></strong><st c="173"> (</st><strong class="bold"><st c="175">AI</st></strong><st c="177">) technologies for different domains. </st><st c="216">Starting with computer vision</st><a id="_idIndexMarker414"/><st c="245"> by analyzing your photos to the automation of text translation, you should, by now, have two fully functional projects that demonstrate the power of AI in modern applications, but that is just the tip of </st><span class="No-Break"><st c="450">the iceberg.</st></span></p>
			<p><st c="462">In today’s digital landscape, users increasingly look for engaging and interactive experiences within applications, and chatbots have emerged as a powerful way to fulfill this demand, leveraging </st><strong class="bold"><st c="658">Natural Language Processing</st></strong><st c="685"> (</st><strong class="bold"><st c="687">NLP</st></strong><st c="690">) and </st><a id="_idIndexMarker415"/><st c="697">conversational AI to provide personalized, real-time assistance and foster a sense of </st><span class="No-Break"><st c="783">human-like interaction.</st></span></p>
			<p><st c="806">In summary, this chapter covers the following topics, </st><span class="No-Break"><st c="861">in order:</st></span></p>
			<ul>
				<li><st c="870">What you are going to build – a chatbot application for </st><span class="No-Break"><st c="927">scheduling meetings</st></span></li>
				<li><st c="946">How you are going to build it – using </st><span class="No-Break"><st c="985">Amazon Lex</st></span></li>
				<li><st c="995">Building it – through CloudFormation and using the </st><span class="No-Break"><st c="1047">AWS console</st></span></li>
				<li><st c="1058">How to improve the solution – extend your chatbot with additional features from </st><span class="No-Break"><st c="1139">Amazon Lex</st></span></li>
			</ul>
			<p><st c="1149">Throughout this chapter, you will improve your knowledge of AI technologies and explore the use case of developing a chatbot to help schedule meetings without any human interaction. </st><st c="1332">By the end of the chapter, you will understand how Amazon Lex works and, more importantly, how to incorporate a chatbot into your </st><span class="No-Break"><st c="1462">own projects.</st></span></p>
			<h1 id="_idParaDest-157"><a id="_idTextAnchor205"/><st c="1475">Technical requirements</st></h1>
			<p><st c="1498">To set up your own chatbot application, you will require access to an AWS account. </st><st c="1582">This book has a dedicated folder within its GitHub repository where you can find the necessary code snippets to follow </st><span class="No-Break"><st c="1701">along: </st></span><a href="https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter7/code"><span class="No-Break"><st c="1708">https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter7/code</st></span></a><span class="No-Break"><st c="1785">.</st></span></p>
			<h1 id="_idParaDest-158"><a id="_idTextAnchor206"/><st c="1786">Scenario</st></h1>
			<p><st c="1795">After successfully </st><a id="_idIndexMarker416"/><st c="1815">building and deploying several applications leveraging cloud and serverless technologies, you have become proficient in these modern architectures. </st><st c="1963">However, one area that still demands critical time and effort is scheduling meetings. </st><st c="2049">On average, you need three or more interactions to coordinate availability, discuss agenda items, and finalize logistics for each meeting. </st><st c="2188">This back-and-forth communication can be tedious and time-consuming, often distracting you from more </st><span class="No-Break"><st c="2289">important tasks.</st></span></p>
			<p><st c="2305">While exploring ways to optimize and accelerate these repetitive processes, you stumble upon the concept of chatbots. </st><st c="2424">With your growing interest in AI and its practical applications, you realize that chatbots could be more than just conversational interfaces – they could potentially handle specific actions and </st><span class="No-Break"><st c="2618">automate workflows.</st></span></p>
			<p><st c="2637">The idea of creating a chatbot to streamline the meeting scheduling process piques your interest. </st><st c="2736">By leveraging NLP and conversational AI, a well-designed chatbot could understand meeting-related requests and automatically create the </st><span class="No-Break"><st c="2872">meeting requests.</st></span></p>
			<p><st c="2889">Excited by the potential efficiency gains and the opportunity to apply your AI knowledge, you decide to embark on a new project: developing an intelligent chatbot application to change the way you schedule meetings. </st><st c="3106">With the right combination of cloud technologies, serverless architectures, and AI capabilities, you aim to create a seamless, conversational experience that can automate the entire meeting scheduling process, freeing up valuable time and allowing you to focus on more </st><span class="No-Break"><st c="3375">strategic tasks.</st></span></p>
			<h2 id="_idParaDest-159"><a id="_idTextAnchor207"/><st c="3391">Requirements</st></h2>
			<p><st c="3404">Now you will start by gathering the requirements for this project. </st><st c="3472">This exercise, aligned with what you’ve done so far for the previous chapters, will help you design your application and define the technical choices for </st><span class="No-Break"><st c="3626">the implementation.</st></span></p>
			<p><st c="3645">Gathering requirements implies understanding the profiles that will be interacting with your application, the actions they will perform, and any constraints you may have from a technical and </st><span class="No-Break"><st c="3837">functional standpoint.</st></span></p>
			<p><st c="3859">Overall, you still want to serve two different personas interacting with </st><span class="No-Break"><st c="3933">your application:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="3950">End user/meeting requester</st></strong><st c="3977">: Part of the platform that is publicly accessible with a chatbot to help </st><span class="No-Break"><st c="4052">schedule meetings.</st></span></li>
				<li><strong class="bold"><st c="4070">Admin/meeting owner</st></strong><st c="4090">: Manage meeting requests with a calendar view of the </st><span class="No-Break"><st c="4145">accepted meetings.</st></span></li>
			</ul>
			<p><st c="4163">These requirements can be translated into functional, non-functional, and </st><span class="No-Break"><st c="4238">data requirements.</st></span></p>
			<h3><st c="4256">Functional requirements</st></h3>
			<p><st c="4280">With your </st><a id="_idIndexMarker417"/><st c="4291">applications’ personas well defined, you can break down the functional requirements per </st><span class="No-Break"><st c="4379">user type:</st></span></p>
			<ul>
				<li><span class="No-Break"><strong class="bold"><st c="4389">Meeting requester</st></strong></span><span class="No-Break"><st c="4407">:</st></span><ul><li><st c="4409">Applications should be publicly available and not </st><span class="No-Break"><st c="4459">require authentication.</st></span></li><li><st c="4482">Responsive so anyone can interact with your application over </st><span class="No-Break"><st c="4544">any device.</st></span></li><li><st c="4555">Your chatbot should be able to handle small typos in </st><span class="No-Break"><st c="4609">the inputs.</st></span></li><li><st c="4620">Ability to understand descriptive dates such as “tomorrow” or “</st><span class="No-Break"><st c="4684">next Monday”.</st></span></li></ul></li>
				<li><span class="No-Break"><strong class="bold"><st c="4698">Meeting owner</st></strong></span><span class="No-Break"><st c="4712">:</st></span><ul><li><st c="4714">List pending meeting requests, and the ability to approve or </st><span class="No-Break"><st c="4775">reject them.</st></span></li><li><st c="4787">Include a calendar with all the approved meetings where the admin </st><span class="No-Break"><st c="4854">can navigate.</st></span></li><li><st c="4867">The calendar should support different views by day, week, </st><span class="No-Break"><st c="4926">and month.</st></span></li><li><st c="4936">The admin page should only be available </st><span class="No-Break"><st c="4977">through authentication.</st></span></li><li><st c="5000">Conflicting meetings should not be rejected by the chatbot; if the proposed slot is already taken, the application should include a warning sign associated with the </st><span class="No-Break"><st c="5166">meeting request.</st></span></li></ul></li>
			</ul>
			<p><st c="5182">While listing the primary functionalities or capabilities is an effective approach to defining functional requirements, complementing them with visual representations can significantly enhance value and accelerate the development process. </st><st c="5422">With this in mind, you have created two simple mockups: one for the end user interface and another for the admin </st><a id="_idIndexMarker418"/><st c="5535">interface, as depicted in </st><em class="italic"><st c="5561">Figures 7.1</st></em><st c="5572"> and </st><span class="No-Break"><em class="italic"><st c="5577">7.2</st></em></span><span class="No-Break"><st c="5580">, respectively:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="5595">/home</st></strong><st c="5601"> looks </st><span class="No-Break"><st c="5608">like this:</st></span></li>
			</ul>
			<div>
				<div id="_idContainer108" class="IMG---Figure">
					<img src="image/B22051_07_1.jpg" alt="Figure 7.1 – UI mockup of the user page"/><st c="5618"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="5672">Figure 7.1 – UI mockup of the user page</st></p>
			<ul>
				<li><strong class="bold"><st c="5711">/admin</st></strong><st c="5718"> looks </st><span class="No-Break"><st c="5725">like this:</st></span></li>
			</ul>
			<div>
				<div id="_idContainer109" class="IMG---Figure">
					<img src="image/B22051_07_2.jpg" alt="Figure 7.2 – UI mockup of the admin page"/><st c="5735"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="5894">Figure 7.2 – UI mockup of the admin page</st></p>
			<h3><st c="5934">Non-functional requirements</st></h3>
			<p><st c="5962">Based on your </st><a id="_idIndexMarker419"/><st c="5977">research, you found that conversational AI is a hot topic nowadays due to the emergence of generative AI technologies and large language models specialized in </st><span class="No-Break"><st c="6136">chatbot development.</st></span></p>
			<p><st c="6156">For this first project, you want to start with a simple solution by adopting a managed service that is easily configurable and requires the least amount of </st><span class="No-Break"><st c="6313">maintenance effort.</st></span></p>
			<p><st c="6332">Moreover, you want to keep this solution as optimized as possible from a cost standpoint and, whenever possible, adopt serverless technologies to leverage a pure </st><span class="No-Break"><st c="6495">pay-as-you-go model.</st></span></p>
			<h3><st c="6515">Data requirements</st></h3>
			<p><st c="6533">Your application’s </st><a id="_idIndexMarker420"/><st c="6553">purpose is to store and manage meetings. </st><st c="6594">It is crucial to review the operations you want to perform to help you define the right data structure. </st><st c="6698">Let’s start with the operations you want to perform over the </st><span class="No-Break"><st c="6759">meeting requests:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="6776">Create a meeting</st></strong><st c="6793">: Create a </st><span class="No-Break"><st c="6805">new meeting.</st></span></li>
				<li><strong class="bold"><st c="6817">Get pending meeting requests</st></strong><st c="6846">: Show a list of the meeting requests with a </st><strong class="bold"><st c="6892">Pending</st></strong><st c="6899"> status to either accept or reject, with a warning for </st><span class="No-Break"><st c="6954">overlapping requests.</st></span></li>
				<li><strong class="bold"><st c="6975">Change meeting status</st></strong><st c="6997">: Change the status of a pending meeting to accepted </st><span class="No-Break"><st c="7051">or rejected.</st></span></li>
				<li><strong class="bold"><st c="7063">Check approved meetings within a time window</st></strong><st c="7108">: The ability to get a list of the approved meetings to include in </st><span class="No-Break"><st c="7176">your calendar.</st></span></li>
			</ul>
			<p><st c="7190">Considering the</st><a id="_idIndexMarker421"/><st c="7206"> operations listed, a meeting can be described </st><span class="No-Break"><st c="7253">as </st></span><span class="No-Break"><strong class="source-inline"><st c="7256">meeting_example.json</st></strong></span><span class="No-Break"><st c="7276">:</st></span></p>
			<pre class="source-code"><st c="7278">
{
  "meetingId": "GUID",
  "startTime": "time when the meeting starts",
  "endTime": "time when the meeting ends",
  "duration": "duration of the meeting in minutes",
  "attendeeName": "the name of the participant",
  "email": "the email of the participant",
  "status": "meeting request status",
  "date": "meeting date",
  "isConflict": "for a meeting request, define if there is any overlap with a pre-accepted meeting"
};</st></pre>			<p><st c="7686">There is no relationship between meetings, and you do not foresee any need to run complex queries, so you want to adopt a high-performing, serverless data service that supports the</st><a id="_idIndexMarker422"/><st c="7867"> execution of all the </st><span class="No-Break"><st c="7889">enumerated actions.</st></span></p>
			<h2 id="_idParaDest-160"><a id="_idTextAnchor208"/><st c="7908">Architecture patterns</st></h2>
			<p><st c="7930">AI solutions have</st><a id="_idIndexMarker423"/><st c="7948"> the potential to bring significant value to businesses across various industries, but often, finding the resources to plan them from scratch can be time-consuming, expensive, and complex. </st><st c="8137">As part of the AWS Solutions Library, AWS has a dedicated section called </st><strong class="bold"><st c="8210">Solutions for Artificial Intelligence</st></strong><st c="8247"> (</st><a href="https://aws.amazon.com/solutions/ai/"><st c="8249">https://aws.amazon.com/solutions/ai/</st></a><st c="8285">), with a curated set </st><a id="_idIndexMarker424"/><st c="8308">of architectures that can help you accelerate AI adoption and decrease the time to embed it in your current products. </st><st c="8426">These solutions belong to different domains, ranging from predictive analytics and computer vision to personalization and recommendation, among others. </st><st c="8578">This is always a good place to start when thinking about an AI project </st><span class="No-Break"><st c="8649">in AWS.</st></span></p>
			<p><st c="8656">More specifically, there is a subsection </st><a id="_idIndexMarker425"/><st c="8698">called </st><strong class="bold"><st c="8705">Chatbots &amp; Virtual Assistants</st></strong><st c="8734"> (</st><a href="https://aws.amazon.com/solutions/ai/chatbots-virtual-assistants/"><st c="8736">https://aws.amazon.com/solutions/ai/chatbots-virtual-assistants/</st></a><st c="8800">). </st><st c="8804">It is part of the language understanding domain, which can be a good baseline for </st><span class="No-Break"><st c="8886">this project.</st></span></p>
			<h2 id="_idParaDest-161"><a id="_idTextAnchor209"/><st c="8899">Architecture</st></h2>
			<p><st c="8912">To architect your</st><a id="_idIndexMarker426"/><st c="8930"> applications, it is key to define the building blocks that compose them. </st><st c="9004">Starting from the higher level, you defined a layered approach composed of </st><span class="No-Break"><st c="9079">four layers:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="9091">Presentation layer</st></strong><st c="9110">: How to host and serve </st><span class="No-Break"><st c="9135">your frontend</st></span></li>
				<li><strong class="bold"><st c="9148">Compute layer</st></strong><st c="9162">: How to incorporate and execute </st><span class="No-Break"><st c="9196">business logic</st></span></li>
				<li><strong class="bold"><st c="9210">Data layer</st></strong><st c="9221">: Where to store and retrieve </st><span class="No-Break"><st c="9252">your data</st></span></li>
				<li><strong class="bold"><st c="9261">Chatbot layer</st></strong><st c="9275">: Layer responsible for developing </st><span class="No-Break"><st c="9311">your chatbot</st></span></li>
			</ul>
			<p><st c="9323">For the presentation layer, you decided to adopt a similar strategy to the one you used in the previous chapter and develop a single-page application in React. </st><st c="9484">For your compute layer, you started by designing the API that will be the interface between your frontend and the business logic included in your compute layer. </st><st c="9645">Considering your functional requirements, you listed the various actions to be performed and structured your API as represented in </st><span class="No-Break"><em class="italic"><st c="9776">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="9784">.3</st></em></span><span class="No-Break"><st c="9786">:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="9788">GET /meetings</st></strong><st c="9801">: Get the list of approved meetings within a </st><span class="No-Break"><st c="9847">time window</st></span></li>
				<li><strong class="bold"><st c="9858">GET /pending</st></strong><st c="9871">: Get the list of pending </st><span class="No-Break"><st c="9898">meeting requests</st></span></li>
				<li><strong class="bold"><st c="9914">POST /chatbot</st></strong><st c="9928">: Interact with the chatbot by sending the </st><span class="No-Break"><st c="9972">user prompts</st></span></li>
				<li><strong class="bold"><st c="9984">PUT /status</st></strong><st c="9996">: Change the status of a meeting request to approved </st><span class="No-Break"><st c="10050">or rejected</st></span></li>
			</ul>
			<div>
				<div id="_idContainer110" class="IMG---Figure">
					<img src="image/B22051_07_3.jpg" alt="Figure 7.3 – API structure"/><st c="10061"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10107">Figure 7.3 – API structure</st></p>
			<p><span class="No-Break"><em class="italic"><st c="10133">Figure 7</st></em></span><em class="italic"><st c="10142">.4</st></em><st c="10144"> illustrates</st><a id="_idIndexMarker427"/><st c="10156"> the architecture you will implement based on all </st><span class="No-Break"><st c="10206">the requirements.</st></span></p>
			<div>
				<div id="_idContainer111" class="IMG---Figure">
					<img src="image/B22051_07_4.jpg" alt="Figure 7.4 – AWS architecture for your chatbot application"/><st c="10223"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="10469">Figure 7.4 – AWS architecture for your chatbot application</st></p>
			<p><st c="10527">The frontend will be hosted and served through a combination of S3 and CloudFront services. </st><st c="10620">For the API, you will leverage Amazon API Gateway HTTP API with endpoints that map the actions </st><a id="_idIndexMarker428"/><st c="10715">you have listed. </st><st c="10732">After reviewing the data requirements, you have chosen DynamoDB as your data store. </st><st c="10816">The last component is the chatbot, and after conducting research, you have selected Amazon Lex as a managed solution due to its cost-effectiveness, simplicity, and overall integration with other AWS services such as Lambda functions, allowing you to extend your chatbot’s capabilities and perform actions on </st><span class="No-Break"><st c="11124">your behalf.</st></span></p>
			<p><st c="11136">Each of the services mentioned and the main advantages and reasons for these choices will be </st><a id="_idIndexMarker429"/><span class="No-Break"><st c="11230">described next.</st></span></p>
			<h1 id="_idParaDest-162"><a id="_idTextAnchor210"/><st c="11245">AWS services</st></h1>
			<p><st c="11258">Selecting from </st><a id="_idIndexMarker430"/><st c="11274">the extensive range of available services can be a daunting task, and a thorough understanding of the requirements is crucial for making an informed decision. </st><st c="11433">Some of the services have already been covered in previous chapters, so to avoid redundancy, we will only highlight the advantages specific to the current use case if they have not been previously mentioned and provide references to the relevant chapters where you can find </st><span class="No-Break"><st c="11707">detailed explanations.</st></span></p>
			<h2 id="_idParaDest-163"><a id="_idTextAnchor211"/><st c="11729">Amazon CloudFront and Amazon Simple Storage Service (S3)</st></h2>
			<p><st c="11786">We have </st><a id="_idIndexMarker431"/><st c="11795">extensively</st><a id="_idIndexMarker432"/><st c="11806"> covered Amazon </st><a id="_idIndexMarker433"/><st c="11822">S3 and Amazon</st><a id="_idIndexMarker434"/><st c="11835"> CloudFront for hosting a single-page application frontend. </st><st c="11895">These two AWS services played a crucial role in the previous projects mentioned, and if you want to review them, we recommend checking </st><em class="italic"><st c="12030">Chapters 2</st></em> <span class="No-Break"><st c="12040">and </st></span><span class="No-Break"><em class="italic"><st c="12045">3</st></em></span><span class="No-Break"><st c="12046">.</st></span></p>
			<h2 id="_idParaDest-164"><a id="_idTextAnchor212"/><st c="12047">Amazon DynamoDB</st></h2>
			<p><st c="12063">Amazon </st><a id="_idIndexMarker435"/><st c="12071">DynamoDB was introduced in </st><a href="B22051_03.xhtml#_idTextAnchor054"><span class="No-Break"><em class="italic"><st c="12098">Chapter 3</st></em></span></a><st c="12107"> as part </st><a id="_idIndexMarker436"/><st c="12116">of the first version of the recipe-sharing application. </st><st c="12172">If you are not familiar with the service and its purpose, we recommend reviewing </st><a href="B22051_03.xhtml#_idTextAnchor054"><span class="No-Break"><em class="italic"><st c="12253">Chapter 3</st></em></span></a><st c="12262">’s </st><em class="italic"><st c="12266">AWS </st></em><span class="No-Break"><em class="italic"><st c="12270">services</st></em></span><span class="No-Break"><st c="12278"> section.</st></span></p>
			<h2 id="_idParaDest-165"><a id="_idTextAnchor213"/><st c="12287">Amazon Cognito, Amazon API Gateway, and Amazon Lambda</st></h2>
			<p><st c="12341">Amazon API </st><a id="_idIndexMarker437"/><st c="12353">Gateway </st><a id="_idIndexMarker438"/><st c="12361">has been </st><a id="_idIndexMarker439"/><st c="12370">used </st><a id="_idIndexMarker440"/><st c="12375">for the </st><a id="_idIndexMarker441"/><st c="12383">API</st><a id="_idIndexMarker442"/><st c="12386"> layer, Amazon Lambda for the compute layer, and Amazon Cognito for authentication in previous projects due to their seamless integration. </st><st c="12525">If you wish to explore any of these services in depth, detailed explanations are provided in </st><a href="B22051_04.xhtml#_idTextAnchor089"><span class="No-Break"><em class="italic"><st c="12618">Chapter 4</st></em></span></a><span class="No-Break"><st c="12627">.</st></span></p>
			<h2 id="_idParaDest-166"><a id="_idTextAnchor214"/><st c="12628">Amazon Lex</st></h2>
			<p><st c="12639">Amazon Lex</st><a id="_idIndexMarker443"/><st c="12650"> is an </st><a id="_idIndexMarker444"/><st c="12657">AWS service that makes it easy to build conversational interfaces, called chatbots or virtual assistants. </st><st c="12763">As part of the AWS AI services, Amazon Lex simplifies and streamlines the creation of applications where users can communicate through voice or text, understand their intents, respond in a natural and human way and, most importantly, perform actions as responses to users’ requests. </st><st c="13046">Being a managed service, with Amazon Lex, you do not need to manage any infrastructure, and therefore, you do not have to pay for any </st><span class="No-Break"><st c="13180">unused capacity.</st></span></p>
			<p><st c="13196">With Amazon Lex, you can leverage more than 25 languages and locales, at the time of this writing, which </st><a id="_idIndexMarker445"/><st c="13302">makes it easier to build versatile chatbots that can serve users across </st><span class="No-Break"><st c="13374">the world.</st></span></p>
			<p><st c="13384">Amazon Lex has some basic concepts associated that are important to familiarize yourself with before configuring </st><span class="No-Break"><st c="13498">your chatbot:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="13511">Intents</st></strong><st c="13519">: These</st><a id="_idIndexMarker446"/><st c="13527"> represent the goal or action that a user wants to accomplish through their conversation with the chatbot. </st><st c="13634">When you create a bot, you define the different intents it should understand and handle. </st><st c="13723">In this chapter’s case, an intent</st><a id="_idIndexMarker447"/><st c="13756"> could be </st><strong class="bold"><st c="13766">Book Meetings</st></strong><st c="13779">, but more complex chatbots may need to handle different actions from the users through several distinct intents. </st><st c="13893">By default, Amazon Lex includes a default </st><strong class="source-inline"><st c="13935">AMAZON.FallbackIntent</st></strong><st c="13956">, which is used whenever no other intent can </st><span class="No-Break"><st c="14001">be identified.</st></span></li>
				<li><strong class="bold"><st c="14015">Utterances</st></strong><st c="14026">: These are one or more sentences you need to provide when configuring each intent, which the chatbot will use to identify the intent based on the user input. </st><st c="14186">For example, following the case of this chapter, the utterances associated with the Book Meetings intent could be </st><span class="No-Break"><st c="14300">as follows:</st></span><ul><li><st c="14311">“I want to book </st><span class="No-Break"><st c="14328">a meeting”</st></span></li><li><st c="14338">“Help me book </st><span class="No-Break"><st c="14353">a meeting”</st></span></li></ul></li>
				<li><strong class="bold"><st c="14363">Slots</st></strong><st c="14369">: Slots are pieces of information that Amazon Lex needs to gather from the user to successfully fulfill an intent. </st><st c="14485">Each slot is associated with a slot type, which defines the kind of data expected for that slot. </st><st c="14582">AWS already provides built-in slot types such as numbers or dates, but you can extend it by creating custom slot types. </st><st c="14702">Following the example of this chapter, examples of slots could be any information needed to schedule a meeting, such as the attendee’s name, the date, the</st><a id="_idIndexMarker448"/><st c="14856"> time to start, and the duration of </st><span class="No-Break"><st c="14892">the meeting.</st></span></li>
			</ul>
			<p><st c="14904">Besides these basic blocks, Amazon Lex integrates with other services from the AWS landscape, namely Amazon Lambda. </st><st c="15021">There, you can trigger a Lambda function upon achieving a specific state, for example, the fulfillment of the intent. </st><st c="15139">This integration, in the context of this project’s scope, will enable you to trigger a Lambda function to store the meeting details </st><a id="_idIndexMarker449"/><st c="15271">collected during the</st><a id="_idIndexMarker450"/><st c="15291"> conversation with the user in a data store of </st><span class="No-Break"><st c="15338">your choice.</st></span></p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor215"/><st c="15350">Coding the solution</st></h1>
			<p><st c="15370">After understanding the architecture and all the AWS services that comprise it, now it’s time to implement the solution based on the requirements and </st><span class="No-Break"><st c="15521">technologies selected.</st></span></p>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor216"/><st c="15543">Cloning the project</st></h2>
			<p><st c="15563">The first step is to clone</st><a id="_idIndexMarker451"/><st c="15590"> the Git repository associated with this book, as mentioned in the </st><em class="italic"><st c="15657">Technical requirements</st></em><st c="15679"> section. </st><st c="15689">If you are following along from the previous chapter, you should have it already cloned locally, but if you are just starting with this chapter, check whether you can clone it from Git or download it as a </st><span class="No-Break"><st c="15894">ZIP file.</st></span></p>
			<p><st c="15903">Navigate to the </st><strong class="source-inline"><st c="15920">chapter7/code</st></strong><st c="15933"> folder, and inside you will find </st><span class="No-Break"><st c="15967">two subfolders:</st></span></p>
			<ul>
				<li><strong class="source-inline"><st c="15982">frontend</st></strong><st c="15991">: Contains the code for </st><span class="No-Break"><st c="16016">your frontend.</st></span></li>
				<li><strong class="source-inline"><st c="16030">platform</st></strong><st c="16039">: Includes the CloudFormation template to deploy the main infrastructure for </st><span class="No-Break"><st c="16117">your application.</st></span></li>
			</ul>
			<h2 id="_idParaDest-169"><a id="_idTextAnchor217"/><st c="16134">Solution deployment</st></h2>
			<p><st c="16154">Start by deploying </st><a id="_idIndexMarker452"/><st c="16174">all your application infrastructure through the CloudFormation template found in the </st><strong class="source-inline"><st c="16259">/platform</st></strong><st c="16268"> folder. </st><em class="italic"><st c="16277">Table 7.1</st></em><st c="16286"> lists all the resources created by your template that map to the architecture presented in </st><span class="No-Break"><em class="italic"><st c="16378">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="16386">.4</st></em></span><span class="No-Break"><st c="16388">.</st></span></p>
			<table id="table001-3" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="16389">Template</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="16398">Ch7-application-template.yaml</st></strong></span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16428">Frontend</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="16437">CloudFront </st><span class="No-Break"><st c="16449">and S3</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16455">Backend</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16463">DynamoDB</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16472">Authentication</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="16487">Cognito </st><span class="No-Break"><st c="16496">User Pool</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16505">Backend</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="16513">One HTTP API with </st><span class="No-Break"><st c="16532">four endpoints</st></span></p>
							<p><st c="16546">Four lambda functions, one for </st><span class="No-Break"><st c="16578">each endpoint</st></span></p>
							<p><st c="16591">One Cognito </st><span class="No-Break"><st c="16604">user pool</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16613">Data store</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16624">DynamoDB</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><st c="16633">Chatbot</st></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="16641">One </st><span class="No-Break"><st c="16646">Lex Chatbot</st></span></p>
							<p><st c="16657">One lambda function to be triggered by </st><span class="No-Break"><st c="16697">the chatbot</st></span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="16708">Table 7.1 – CloudFormation template details</st></p>
			<p><st c="16752">From the console, go to the CloudFormation service at </st><a href="https://console.aws.amazon.com/cloudformation/"><st c="16807">https://console.aws.amazon.com/cloudformation/</st></a><st c="16853"> and select the AWS region where you want to host </st><span class="No-Break"><st c="16903">your application.</st></span></p>
			<p class="callout-heading"><st c="16920">Important note – Choosing the AWS region for this project</st></p>
			<p class="callout"><st c="16978">Service availability is one of the reasons behind choosing an AWS region for your projects. </st><st c="17071">Amazon Lex, the service you will use for your chatbot, is one example of a service that is not available in all AWS regions. </st><st c="17196">Trying to deploy a CloudFormation template in a region where Amazon Lex is not available would cause an error. </st><st c="17307">You can see the full list of AWS regions supported </st><span class="No-Break"><st c="17358">at </st></span><a href="https://docs.aws.amazon.com/general/latest/gr/lex.html"><span class="No-Break"><st c="17361">https://docs.aws.amazon.com/general/latest/gr/lex.html</st></span></a><span class="No-Break"><st c="17415">.</st></span></p>
			<p><st c="17416">Region selection is available through the drop-down menu located in the upper-right corner, as depicted in </st><span class="No-Break"><em class="italic"><st c="17524">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="17532">.5</st></em></span></p>
			<div>
				<div id="_idContainer112" class="IMG---Figure">
					<img src="image/B22051_07_5.jpg" alt="Figure 7.5 – Console access to CloudFormation and AWS Region dropdown menu"/><st c="17534"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="17745">Figure 7.5 – Console access to CloudFormation and AWS Region dropdown menu</st></p>
			<p><st c="17819">To deploy the CloudFormation stack associated with this project, follow </st><span class="No-Break"><st c="17892">these steps:</st></span></p>
			<ol>
				<li><st c="17904">Click</st><a id="_idIndexMarker453"/><st c="17910"> on </st><span class="No-Break"><strong class="bold"><st c="17914">Create Stack</st></strong></span><span class="No-Break"><st c="17926">.</st></span></li>
				<li><st c="17927">In the </st><strong class="bold"><st c="17935">Prerequisite – Prepare Template</st></strong><st c="17966"> section, select </st><strong class="bold"><st c="17983">Choose an </st></strong><span class="No-Break"><strong class="bold"><st c="17993">existing template</st></strong></span><span class="No-Break"><st c="18010">.</st></span></li>
				<li><st c="18011">In the </st><strong class="bold"><st c="18019">Specify template</st></strong><st c="18035"> section, choose </st><strong class="bold"><st c="18052">Upload a </st></strong><span class="No-Break"><strong class="bold"><st c="18061">template file</st></strong></span><span class="No-Break"><st c="18074">.</st></span></li>
				<li><st c="18075">Click on </st><span class="No-Break"><strong class="bold"><st c="18085">Choose file</st></strong></span><span class="No-Break"><st c="18096">.</st></span></li>
				<li><st c="18097">Select the template from the </st><span class="No-Break"><strong class="source-inline"><st c="18127">chapter7/code/platform</st></strong></span><span class="No-Break"><st c="18149"> folder.</st></span></li>
				<li><span class="No-Break"><st c="18157">Click </st></span><span class="No-Break"><strong class="bold"><st c="18164">Next</st></strong></span><span class="No-Break"><st c="18168">.</st></span></li>
			</ol>
			<p><st c="18169">Your </st><strong class="bold"><st c="18175">Create stack</st></strong><st c="18187"> window should look like </st><span class="No-Break"><em class="italic"><st c="18212">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="18220">.6</st></em></span><span class="No-Break"><st c="18222">.</st></span></p>
			<div>
				<div id="_idContainer113" class="IMG---Figure">
					<img src="image/B22051_07_6.jpg" alt="Figure 7.6 –CloudFormation Create stack form"/><st c="18223"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="19321">Figure 7.6 –CloudFormation Create stack form</st></p>
			<p><st c="19365">Next, you will be asked</st><a id="_idIndexMarker454"/><st c="19389"> to configure the parameters in your CloudFormation stack. </st><st c="19448">In </st><em class="italic"><st c="19451">Table 7.2</st></em><st c="19460">, you can find a detailed explanation of </st><span class="No-Break"><st c="19501">each parameter.</st></span></p>
			<table id="table002-2" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="19516">Parameter</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="19526">Description</st></strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="19538">APIName</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="19546">This is the project’s </st><span class="No-Break"><st c="19569">API name.</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="19578">UserEmail</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="19588">This is the email address you want to associate with your user. </st><st c="19653">This must be a valid email address because you will receive the temporary password and verify </st><span class="No-Break"><st c="19747">it later.</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="19756">UserPoolName</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="19769">This is the name you will give to your Cognito </st><span class="No-Break"><st c="19817">User Pool.</st></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="19827">Username</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><st c="19836">Later in your application, this is the username you will use to </st><span class="No-Break"><st c="19901">log in.</st></span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="19908">Table 7.2 – CloudFormation template parameters</st></p>
			<p><span class="No-Break"><em class="italic"><st c="19955">Figure 7</st></em></span><em class="italic"><st c="19964">.7</st></em><st c="19966"> shows an example of how your stack configurations should look after filling out all the parameters. </st><st c="20067">The values shown serve as an example; your values </st><span class="No-Break"><st c="20117">may differ.</st></span></p>
			<div>
				<div id="_idContainer114" class="IMG---Figure">
					<img src="image/B22051_07_7.jpg" alt="Figure 7.7 – Stack parameters in CloudFormation"/><st c="20128"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20649">Figure 7.7 – Stack parameters in CloudFormation</st></p>
			<p><st c="20696">You can click </st><strong class="bold"><st c="20711">Next</st></strong><st c="20715"> and </st><a id="_idIndexMarker455"/><st c="20720">proceed to the last page, where you will be requested to acknowledge the creation of IAM roles. </st><st c="20816">This notification is related to the roles to be created and associated with each of the lambda functions, to provide the minimum permissions to interact with the DynamoDB table where the meetings </st><span class="No-Break"><st c="21012">are stored.</st></span></p>
			<p><st c="21023">Click </st><strong class="bold"><st c="21030">Submit</st></strong><st c="21036"> and wait until the stack status changes to </st><strong class="bold"><st c="21080">CREATE_COMPLETE</st></strong><st c="21095">, as depicted in </st><span class="No-Break"><em class="italic"><st c="21112">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="21120">.8</st></em></span><span class="No-Break"><st c="21122">.</st></span></p>
			<div>
				<div id="_idContainer115" class="IMG---Figure">
					<img src="image/B22051_07_8.jpg" alt="Figure 7.8 – CloudFormation stack created status"/><st c="21123"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="21188">Figure 7.8 – CloudFormation stack created status</st></p>
			<p><st c="21236">This will mean</st><a id="_idIndexMarker456"/><st c="21251"> that all the resources are provisioned, and you can </st><span class="No-Break"><st c="21304">now proceed.</st></span></p>
			<h2 id="_idParaDest-170"><a id="_idTextAnchor218"/><st c="21316">Frontend configuration and deployment</st></h2>
			<p><st c="21354">Now that all the</st><a id="_idIndexMarker457"/><st c="21371"> necessary AWS services have been provisioned, it is time to configure your frontend application and deploy </st><span class="No-Break"><st c="21479">the files.</st></span></p>
			<p><st c="21489">Navigate to the </st><strong class="source-inline"><st c="21506">…/frontend/src/configs</st></strong><st c="21528"> folder, and you will find </st><span class="No-Break"><st c="21555">two files:</st></span></p>
			<ul>
				<li><strong class="source-inline"><st c="21565">aws-exports.ts</st></strong><st c="21580">: Configure your application authentication, with data from the Cognito User Pool. </st><st c="21664">This file is composed of four </st><span class="No-Break"><st c="21694">configuration variables:</st></span><ul><li><strong class="source-inline"><st c="21718">AWS_PROJECT_REGION</st></strong><st c="21737">: The region where you deployed </st><span class="No-Break"><st c="21770">your solution</st></span></li><li><strong class="source-inline"><st c="21783">AWS_COGNITO_REGION</st></strong><st c="21802">: Your Cognito user Pool region (the same as the </st><span class="No-Break"><st c="21852">previous variable)</st></span></li><li><strong class="source-inline"><st c="21870">AWS_USER_POOLS_ID</st></strong><st c="21888">: The ID of your </st><span class="No-Break"><st c="21906">user pool</st></span></li><li><strong class="source-inline"><st c="21915">AWS_USER_POOLS_WEB_CLIENT_ID</st></strong><st c="21944">: The client ID of your Cognito User </st><span class="No-Break"><st c="21982">Pool application</st></span></li></ul></li>
				<li><strong class="source-inline"><st c="21998">configs.tsx</st></strong><st c="22010">: Define the URL of your API to be used in your application. </st><st c="22072">The </st><strong class="source-inline"><st c="22076">configs.tsx</st></strong><st c="22087"> file is composed of one </st><span class="No-Break"><st c="22112">configuration variable:</st></span><ul><li><strong class="source-inline"><st c="22135">CONFIG_API_URL</st></strong><st c="22150">: </st><span class="No-Break"><st c="22153">API endpoint</st></span></li></ul></li>
			</ul>
			<p><st c="22165">To simplify the process of obtaining these values, we have already included them in the </st><strong class="bold"><st c="22254">Outputs</st></strong><st c="22261"> section of our </st><strong class="bold"><st c="22277">CloudFormation</st></strong><st c="22291"> template. </st><st c="22302">To access it, follow </st><span class="No-Break"><st c="22323">these steps:</st></span></p>
			<ol>
				<li><st c="22335">Go to the CloudFormation console </st><span class="No-Break"><st c="22369">at </st></span><a href="https://console.aws.amazon.com/cloudformation/"><span class="No-Break"><st c="22372">https://console.aws.amazon.com/cloudformation/</st></span></a><span class="No-Break"><st c="22418">.</st></span></li>
				<li><st c="22419">Click on </st><span class="No-Break"><st c="22429">your stack.</st></span></li>
				<li><st c="22440">On the right menu, select the </st><strong class="bold"><st c="22471">Outputs</st></strong><st c="22478"> tab, as shown in </st><span class="No-Break"><em class="italic"><st c="22496">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="22504">.9</st></em></span><span class="No-Break"><st c="22506">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer116" class="IMG---Figure">
					<img src="image/B22051_07_9.jpg" alt="Figure 7.9 – CloudFormation stack Outputs tab"/><st c="22507"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="23113">Figure 7.9 – CloudFormation stack Outputs tab</st></p>
			<p class="list-inset"><em class="italic"><st c="23158">Table 7.3</st></em><st c="23168"> maps</st><a id="_idIndexMarker458"/><st c="23173"> the Stack outputs with the </st><span class="No-Break"><st c="23201">configuration files:</st></span></p>
			<table id="table003-2" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="23221">File</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="bold"><st c="23226">Parameter name</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><strong class="bold"><st c="23241">Cloudformation </st></strong><span class="No-Break"><strong class="bold"><st c="23257">stack outputs</st></strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body" rowspan="2">
							<p><span class="No-Break"><strong class="source-inline"><st c="23270">aws-exports.ts</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23285">aws_user_pools_id</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23303">UserPoolId</st></strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23314">aws_user_pools_web_client_id</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23343">ClientId</st></strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23352">configs.tsx</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23364">API_URL</st></strong></span></p>
						</td>
						<td class="No-Table-Style T---Body">
							<p><span class="No-Break"><strong class="source-inline"><st c="23372">CognitoUserPoolId</st></strong></span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="23390">Table 7.3 – Mapping between CloudFormation outputs and aws-exports.ts parameters</st></p>
			<p><st c="23471">4.	</st><st c="23475">Save </st><span class="No-Break"><st c="23480">the files.</st></span></p>
			<p><st c="23490">By the end, your configuration files should look </st><span class="No-Break"><st c="23540">like this:</st></span></p>
			<p><span class="No-Break"><strong class="bold"><st c="23550">configs.tsx</st></strong></span></p>
			<pre class="source-code"><st c="23562">
export const API_URL = '[ApiUrl CloudFormation Output]';</st></pre>			<p><span class="No-Break"><strong class="bold"><st c="23619">aws-exports.tsx</st></strong></span></p>
			<pre class="source-code"><st c="23635">
export const amplifyConfig = {
  aws_project_region: 'AWS Region code where you deployed your application. </st><st c="23741">E.g.: us-west-2',
  aws_cognito_region: ' AWS Region code where you deployed your application. </st><st c="23834">E.g.: us-west-2',
  aws_user_pools_id: '[UserPoolId CloudFormation Output]',
  aws_user_pools_web_client_id: '[ClientId CloudFormation Output]',
  };</st></pre>			<p><st c="23977">After updating the configuration files, you can begin the </st><strong class="source-inline"><st c="24036">build</st></strong><st c="24041"> process to convert the code into a web-optimized bundle that can be served to browsers. </st><st c="24130">In our example, we used </st><strong class="source-inline"><st c="24154">npm</st></strong><st c="24157"> as the package</st><a id="_idIndexMarker459"/><st c="24172"> manager, so you’ll need to install the dependencies and start the </st><span class="No-Break"><strong class="source-inline"><st c="24239">build</st></strong></span><span class="No-Break"><st c="24244"> process:</st></span></p>
			<pre class="console"><st c="24253">
$ npm install &amp;&amp; npm run build</st></pre>			<p class="callout-heading"><st c="24284">Note</st></p>
			<p class="callout"><st c="24289">The previous command should be executed in the </st><strong class="source-inline"><st c="24337">root</st></strong><st c="24341"> directory of the </st><strong class="source-inline"><st c="24359">frontend</st></strong><st c="24367"> folder. </st><st c="24376">To verify whether you are at the root, use the </st><span class="No-Break"><st c="24423">following command:</st></span></p>
			<p class="callout"><strong class="source-inline"><st c="24441">$ </st></strong><span class="No-Break"><strong class="source-inline"><st c="24444">pwd</st></strong></span></p>
			<p class="callout"><strong class="source-inline"><st c="24447">…/</st></strong><span class="No-Break"><strong class="source-inline"><st c="24449">chapter7/code/frontend</st></strong></span></p>
			<p><st c="24472">The </st><strong class="source-inline"><st c="24477">build</st></strong><st c="24482"> process generates a folder containing the files that need to be uploaded to our S3 buckets. </st><st c="24575">The folder name may vary, but it is typically </st><strong class="source-inline"><st c="24621">build/</st></strong><st c="24627"> or </st><strong class="source-inline"><st c="24631">dist/</st></strong><st c="24636">, and it is created within the </st><strong class="source-inline"><st c="24667">root</st></strong><st c="24671"> directory of the </st><span class="No-Break"><st c="24689">frontend application.</st></span></p>
			<p><st c="24710">The last step is to copy the build folder to S3, with the </st><span class="No-Break"><st c="24769">following instructions:</st></span></p>
			<ol>
				<li><st c="24792">Firstly, you need to locate the S3 bucket that you created earlier using the CloudFormation template. </st><st c="24895">The bucket’s name should start with </st><strong class="source-inline"><st c="24931">frontend-chapter-7-</st></strong><st c="24950"> followed by a random sequence of characters (</st><span class="No-Break"><st c="24996">e.g., </st></span><span class="No-Break"><strong class="source-inline"><st c="25003">frontend-chapter-7-XXXXX</st></strong></span><span class="No-Break"><st c="25027">).</st></span></li>
				<li><st c="25030">Click on the bucket’s name to </st><span class="No-Break"><st c="25061">open it.</st></span></li>
				<li><st c="25069">Within the S3 bucket, locate and click on the </st><strong class="bold"><st c="25116">Upload</st></strong><st c="25122"> button. </st><st c="25131">This action will enable you to transfer files from your local machine to the </st><span class="No-Break"><st c="25208">S3 bucket.</st></span></li>
				<li><st c="25218">Click on </st><strong class="bold"><st c="25228">Add Files</st></strong><st c="25237"> and navigate to the </st><strong class="source-inline"><st c="25258">dist</st></strong><st c="25262"> folder on your local machine. </st><st c="25293">Select all the files inside the folder and confirm (you should have two files at the root of the </st><strong class="source-inline"><st c="25390">dist</st></strong><st c="25394"> folder: </st><strong class="source-inline"><st c="25403">index.html</st></strong> <span class="No-Break"><st c="25413">and </st></span><span class="No-Break"><strong class="source-inline"><st c="25418">penguin.png</st></strong></span><span class="No-Break"><st c="25429">).</st></span></li>
				<li><st c="25432">Next, click on </st><strong class="bold"><st c="25448">Add folder</st></strong><st c="25458">, locate the </st><strong class="source-inline"><st c="25471">dist</st></strong><st c="25475"> folder on your local machine, select the </st><strong class="source-inline"><st c="25517">assets</st></strong><st c="25523"> folder, </st><span class="No-Break"><st c="25532">and confirm.</st></span></li>
				<li><st c="25544">Now your </st><a id="_idIndexMarker460"/><st c="25554">S3 </st><strong class="bold"><st c="25557">Upload</st></strong><st c="25563"> window should look like </st><span class="No-Break"><em class="italic"><st c="25588">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="25596">.10</st></em></span><span class="No-Break"><st c="25599">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer117" class="IMG---Figure">
					<img src="image/B22051_07_10.jpg" alt="Figure 7.10 – Frontend files uploaded to S3"/><st c="25600"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="25900">Figure 7.10 – Frontend files uploaded to S3</st></p>
			<p class="list-inset"><st c="25943">Note that the file names are automatically generated during the build process, so the names you see might differ from the ones shown in the preceding figure. </st><st c="26102">However, ensure that you have the </st><span class="No-Break"><st c="26136">following files:</st></span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline"><st c="26152">i</st></strong></span><span class="No-Break"><strong class="source-inline"><st c="26154">ndex.html</st></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><st c="26163">assets/index-XXXXXX.css</st></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><st c="26187">assets/index-XXXXXX.js</st></strong></span></li>
				<li><st c="26210">Static files you may have included in your application, for </st><span class="No-Break"><st c="26271">example, images</st></span></li>
			</ul>
			<ol>
				<li value="7"><st c="26286">Scroll down to the bottom of the page and click </st><span class="No-Break"><st c="26335">on </st></span><span class="No-Break"><strong class="bold"><st c="26338">Upload</st></strong></span><span class="No-Break"><st c="26344">.</st></span></li>
			</ol>
			<p><st c="26345">You have now completed the deployment and configuration process for your application, and</st><a id="_idIndexMarker461"/><st c="26435"> you can proceed to the </st><span class="No-Break"><st c="26459">chatbot setup.</st></span></p>
			<h2 id="_idParaDest-171"><a id="_idTextAnchor219"/><st c="26473">Amazon Lex configuration and build</st></h2>
			<p><st c="26508">You are almost </st><a id="_idIndexMarker462"/><st c="26524">done, and</st><a id="_idIndexMarker463"/><st c="26533"> the only step left is the configuration of your chatbot. </st><st c="26591">Most of the configurations were already performed by the CloudFormation template, and you were just left with the lambda function integration to perform the actions based on </st><span class="No-Break"><st c="26765">the conversation.</st></span></p>
			<p><st c="26782">To finalize it, follow </st><span class="No-Break"><st c="26806">these steps:</st></span></p>
			<ol>
				<li><st c="26818">Go to the Amazon Lex console in the region where you deployed the CloudFormation stack </st><span class="No-Break"><st c="26906">at </st></span><a href="https://console.aws.amazon.com/lexv2/home?"><span class="No-Break"><st c="26909">https://console.aws.amazon.com/lexv2/home?</st></span></a><span class="No-Break"><st c="26951">.</st></span></li>
				<li><st c="26952">On the left menu, </st><span class="No-Break"><st c="26971">select </st></span><span class="No-Break"><strong class="bold"><st c="26978">Bots</st></strong></span><span class="No-Break"><st c="26982">.</st></span></li>
				<li><st c="26983">In the </st><strong class="bold"><st c="26991">Bots</st></strong><st c="26995"> list, select </st><strong class="bold"><st c="27009">MeetyBot</st></strong><st c="27017">, as shown in </st><span class="No-Break"><em class="italic"><st c="27031">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="27039">.11</st></em></span><span class="No-Break"><st c="27042">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer118" class="IMG---Figure">
					<img src="image/B22051_07_11.jpg" alt="Figure 7.11 – Amazon Lex bot selection"/><st c="27043"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="27165">Figure 7.11 – Amazon Lex bot selection</st></p>
			<ol>
				<li value="4"><st c="27203">Under the </st><strong class="bold"><st c="27214">Deployment</st></strong><st c="27224"> section, select </st><strong class="bold"><st c="27241">Aliases</st></strong><st c="27248"> and click on </st><strong class="bold"><st c="27262">TestBotAlias</st></strong><st c="27274">, as depicted in </st><span class="No-Break"><em class="italic"><st c="27291">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="27299">.12</st></em></span><span class="No-Break"><st c="27302">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer119" class="IMG---Figure">
					<img src="image/B22051_07_12.jpg" alt="Figure 7.12 – Amazon Lex bot alias section"/><st c="27303"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="27746">Figure 7.12 – Amazon Lex bot alias section</st></p>
			<ol>
				<li value="5"><st c="27788">From the </st><strong class="bold"><st c="27798">Languages</st></strong><st c="27807"> list, select </st><span class="No-Break"><strong class="bold"><st c="27821">English (US)</st></strong></span><span class="No-Break"><st c="27833">.</st></span></li>
				<li><st c="27834">In the </st><strong class="bold"><st c="27842">Lambda function</st></strong><st c="27857"> configuration menu, select </st><strong class="source-inline"><st c="27885">bot-function-meety</st></strong><st c="27903"> as the</st><a id="_idIndexMarker464"/><st c="27910"> source, and </st><strong class="source-inline"><st c="27923">$LATEST</st></strong><st c="27930"> as </st><a id="_idIndexMarker465"/><st c="27934">the version, as shown in </st><span class="No-Break"><em class="italic"><st c="27959">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="27967">.13</st></em></span><span class="No-Break"><st c="27970">.</st></span></li>
				<li><span class="No-Break"><st c="27971">Click </st></span><span class="No-Break"><strong class="bold"><st c="27978">Save</st></strong></span><span class="No-Break"><st c="27982">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer120" class="IMG---Figure">
					<img src="image/B22051_07_13.jpg" alt="Figure 7.13 – Lambda function selection for your chatbot"/><st c="27983"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="28194">Figure 7.13 – Lambda function selection for your chatbot</st></p>
			<p><st c="28250">The last step is to configure the triggering of the function whenever the BookMeeting intent is fulfilled. </st><st c="28358">For that, do </st><span class="No-Break"><st c="28371">the following:</st></span></p>
			<ol>
				<li><st c="28385">On the left menu, select </st><strong class="bold"><st c="28411">Intents</st></strong><st c="28418"> under the </st><strong class="bold"><st c="28429">English (</st></strong><span class="No-Break"><strong class="bold"><st c="28438">US)</st></strong></span><span class="No-Break"><st c="28442"> menu.</st></span></li>
				<li><st c="28448">Click on the </st><span class="No-Break"><strong class="bold"><st c="28462">BookMeeting</st></strong></span><span class="No-Break"><st c="28473"> intent.</st></span></li>
				<li><st c="28481">Scroll down to the </st><strong class="bold"><st c="28501">Fullfilment</st></strong><st c="28512"> section and click on the toggle button to make it active. </st><st c="28571">This will ensure the lambda function is triggered every time this intent is fulfilled. </st><st c="28658">You can see the expected status in </st><span class="No-Break"><em class="italic"><st c="28693">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="28701">.14</st></em></span><span class="No-Break"><st c="28704">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer121" class="IMG---Figure">
					<img src="image/B22051_07_14.jpg" alt="Figure 7.14 – Amazon Lex chatbot – fulfillment configuration"/><st c="28705"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="28897">Figure 7.14 – Amazon Lex chatbot – fulfillment configuration</st></p>
			<ol>
				<li value="4"><st c="28957">Click </st><a id="_idIndexMarker466"/><st c="28964">on </st><strong class="bold"><st c="28967">Save Intent</st></strong><st c="28978"> in</st><a id="_idIndexMarker467"/><st c="28981"> the </st><span class="No-Break"><st c="28986">bottom right.</st></span></li>
				<li><st c="28999"> Select </st><strong class="bold"><st c="29007">Build</st></strong><st c="29012"> in the </st><span class="No-Break"><st c="29020">top right.</st></span><p class="list-inset"><st c="29030">The build process of your chatbot should take around two minutes. </st><st c="29097">Wait until you see a green banner with a success message, as shown in </st><span class="No-Break"><em class="italic"><st c="29167">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="29175">.15</st></em></span><span class="No-Break"><st c="29178">.</st></span></p></li>
			</ol>
			<div>
				<div id="_idContainer122" class="IMG---Figure">
					<img src="image/B22051_07_15.jpg" alt="Figure 7.15 – Success message from the Amazon Lex build process"/><st c="29179"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="29240">Figure 7.15 – Success message from the Amazon Lex build process</st></p>
			<p><st c="29303">Congratulations! </st><st c="29321">You have successfully finished the deployment and configuration of your application, and </st><a id="_idIndexMarker468"/><st c="29410">you should now have a fully functional </st><a id="_idIndexMarker469"/><st c="29449">project. </st><st c="29458">It is time to test </st><span class="No-Break"><st c="29477">it out!</st></span></p>
			<h2 id="_idParaDest-172"><a id="_idTextAnchor220"/><st c="29484">Test and explore your application</st></h2>
			<p><st c="29518">By now, everything </st><a id="_idIndexMarker470"/><st c="29538">should be ready to be tested. </st><st c="29568">To access your application, do </st><span class="No-Break"><st c="29599">the following:</st></span></p>
			<ol>
				<li><st c="29613">Go to the CloudFront console </st><span class="No-Break"><st c="29643">at </st></span><a href="https://console.aws.amazon.com/cloudformation/"><span class="No-Break"><st c="29646">https://console.aws.amazon.com/cloudformation/</st></span></a><span class="No-Break"><st c="29692">.</st></span></li>
				<li><st c="29693">Select the stack you deployed as part of </st><span class="No-Break"><st c="29735">this chapter.</st></span></li>
				<li><st c="29748">Go to the </st><span class="No-Break"><strong class="bold"><st c="29759">Outputs</st></strong></span><span class="No-Break"><st c="29766"> tab.</st></span></li>
				<li><st c="29771">Click on the </st><strong class="source-inline"><st c="29785">CloudFrontDistributionUrl</st></strong><st c="29810"> value as shown in </st><span class="No-Break"><em class="italic"><st c="29829">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="29837">.16</st></em></span><span class="No-Break"><st c="29840">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer123" class="IMG---Figure">
					<img src="image/B22051_07_16.jpg" alt="Figure 7.16 – CloudFormation Outputs tab"/><st c="29841"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="30451">Figure 7.16 – CloudFormation Outputs tab</st></p>
			<p class="list-inset"><st c="30491">This should redirect you to your application, which is expected to be like </st><span class="No-Break"><em class="italic"><st c="30567">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="30575">.17</st></em></span><span class="No-Break"><st c="30578">.</st></span></p>
			<div>
				<div id="_idContainer124" class="IMG---Figure">
					<img src="image/B22051_07_17.jpg" alt="Figure 7.17 – Application homepage"/><st c="30579"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="31034">Figure 7.17 – Application homepage</st></p>
			<p><st c="31068">This is the page where users can interact with a chatbot to schedule meetings. </st><st c="31148">By clicking on the chat icon, you will be able to initiate </st><span class="No-Break"><st c="31207">a conversation.</st></span></p>
			<p><st c="31222">As discussed in the </st><em class="italic"><st c="31243">AWS services</st></em><st c="31255"> section, utterances are predefined within an intent to help identify and understand the </st><span class="No-Break"><st c="31344">user’s request.</st></span></p>
			<p><st c="31359">This chapter’s</st><a id="_idIndexMarker471"/><st c="31374"> CloudFormation template creates a chatbot composed of </st><span class="No-Break"><st c="31429">three intents:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="31443">StartMeety</st></strong><st c="31454">: This is the first intent responsible for the </st><span class="No-Break"><st c="31502">welcome message</st></span></li>
				<li><strong class="bold"><st c="31517">BookMeeting</st></strong><st c="31529">: The intent responsible for booking </st><span class="No-Break"><st c="31567">a meeting</st></span></li>
				<li><strong class="bold"><st c="31576">FallbackIntent</st></strong><st c="31591">: Default intent to be triggered whenever no other intent can be identified based on the </st><span class="No-Break"><st c="31681">user input</st></span></li>
			</ul>
			<h3><st c="31691">Explore and customize your chatbot</st></h3>
			<p><st c="31726">To explore the utterances, responses, and logic of each of the intents, do </st><span class="No-Break"><st c="31802">the following:</st></span></p>
			<ol>
				<li><st c="31816">Navigate to the Amazon Lex console in the region where you deployed the CloudFormation stack </st><span class="No-Break"><st c="31910">at </st></span><a href="https://console.aws.amazon.com/lexv2/home?"><span class="No-Break"><st c="31913">https://console.aws.amazon.com/lexv2/home?</st></span></a><span class="No-Break"><st c="31955">.</st></span></li>
				<li><st c="31956">On the left menu, </st><span class="No-Break"><st c="31975">select </st></span><span class="No-Break"><strong class="bold"><st c="31982">Bots</st></strong></span><span class="No-Break"><st c="31986">.</st></span></li>
				<li><span class="No-Break"><st c="31987">Select </st></span><span class="No-Break"><strong class="bold"><st c="31995">MeetyBot</st></strong></span><span class="No-Break"><st c="32003">.</st></span></li>
				<li><st c="32004">Under </st><strong class="bold"><st c="32011">English (US)</st></strong><st c="32023">, click </st><span class="No-Break"><st c="32031">on </st></span><span class="No-Break"><strong class="bold"><st c="32034">Intents</st></strong></span><span class="No-Break"><st c="32041">.</st></span><p class="list-inset"><st c="32042">Your console should look like </st><span class="No-Break"><em class="italic"><st c="32073">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="32081">.18</st></em></span><span class="No-Break"><st c="32084">.</st></span></p></li>
			</ol>
			<div>
				<div id="_idContainer125" class="IMG---Figure">
					<img src="image/B22051_07_18.jpg" alt="Figure 7.18 – Amazon Lex Bot Intents section"/><st c="32085"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="32654">Figure 7.18 – Amazon Lex Bot Intents section</st></p>
			<ol>
				<li value="5"><st c="32698">Click on the </st><span class="No-Break"><strong class="bold"><st c="32712">StartMeety</st></strong></span><span class="No-Break"><st c="32722"> intent.</st></span></li>
				<li><st c="32730">Scroll down </st><a id="_idIndexMarker472"/><st c="32743">to the </st><strong class="bold"><st c="32750">Sample utterances</st></strong><st c="32767"> section to review the pre-defined utterances for this intent, as shown in </st><span class="No-Break"><em class="italic"><st c="32842">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="32850">.19</st></em></span><span class="No-Break"><st c="32853">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer126" class="IMG---Figure">
					<img src="image/B22051_07_19.jpg" alt="Figure 7.19 – Amazon Lex chatbot intent sample utterances"/><st c="32854"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="33482">Figure 7.19 – Amazon Lex chatbot intent sample utterances</st></p>
			<p><st c="33539">These are currently the ones available to identify the StartMeety intent, but feel free to add others or customize the existing one at will. </st><st c="33681">After any change, ensure you save the intent and rebuild the chatbot, as described in the </st><span class="No-Break"><st c="33771">previous section.</st></span></p>
			<p><st c="33788">Do the same exercise for the BookMeeting intent. </st><st c="33838">In this case, Amazon Lex expects different utterances, and </st><a id="_idIndexMarker473"/><st c="33897">unlike the StartMeety intent, it also includes five slots as the pieces of data needed to fulfils </st><span class="No-Break"><st c="33995">the intent:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="34006">FullName</st></strong><st c="34015">: The name of </st><span class="No-Break"><st c="34030">the attendee</st></span></li>
				<li><strong class="bold"><st c="34042">MeetingDate</st></strong><st c="34054">: The date the user wants </st><span class="No-Break"><st c="34081">to meet</st></span></li>
				<li><strong class="bold"><st c="34088">MeetingStime</st></strong><st c="34101">: The start time of </st><span class="No-Break"><st c="34122">the meeting</st></span></li>
				<li><strong class="bold"><st c="34133">MeetingDuration</st></strong><st c="34149">: The duration of the meeting, which should be either 30 or </st><span class="No-Break"><st c="34210">60 minutes</st></span></li>
				<li><strong class="bold"><st c="34220">AttendeeEmail</st></strong><st c="34234">: The email the user wants to use to </st><span class="No-Break"><st c="34272">be contacted</st></span></li>
			</ul>
			<p><st c="34284">We recommend spending some time exploring each slot and the prompt used by the chatbot to request it. </st><st c="34387">As mentioned earlier, feel free to customize the prompts and slots according to </st><span class="No-Break"><st c="34467">your preference.</st></span></p>
			<p><st c="34483">After getting familiar with all the configurations of your chatbot, you can proceed and start a conversation in your application to book </st><span class="No-Break"><st c="34621">a meeting.</st></span></p>
			<h3><st c="34631">Test your chatbot</st></h3>
			<p><st c="34649">With your chatbot and its intents configured, now it is time to test its behavior in </st><span class="No-Break"><st c="34735">your application:</st></span></p>
			<ol>
				<li><st c="34752">Begin by using one of the utterances defined in the StartMeety Intent, and take note of the </st><span class="No-Break"><st c="34845">chatbot’s response.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer127" class="IMG---Figure">
					<img src="image/B22051_07_20.jpg" alt="Figure 7.20 – Initial chatbot response from the StartMeety intent"/><st c="34864"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="34955">Figure 7.20 – Initial chatbot response from the StartMeety intent</st></p>
			<p class="list-inset"><st c="35020">Here, you </st><a id="_idIndexMarker474"/><st c="35031">can see that, based on the input that matches one of the sample utterances of the StartMeety intent, the chatbot responded with a welcome message as configured in </st><span class="No-Break"><st c="35194">the intent.</st></span></p>
			<p class="list-inset"><st c="35205">In this example, you can see that the chatbot identified and acknowledged the intent and </st><span class="No-Break"><st c="35295">replied accordingly.</st></span></p>
			<ol>
				<li value="2"><st c="35315">Next, you can respond with one of the utterances defined in the BookMeeting intent, so the chatbot can </st><span class="No-Break"><st c="35419">identify it.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer128" class="IMG---Figure">
					<img src="image/B22051_07_21.jpg" alt="Figure 7.21 – BookMeeting intent conversation flow"/><st c="35431"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="35529">Figure 7.21 – BookMeeting intent conversation flow</st></p>
			<p class="list-inset"><st c="35579">The chatbot identified the intent and started asking questions to gather the slot values with the </st><a id="_idIndexMarker475"/><st c="35678">objective of fulfilling it. </st><st c="35706">Note that the chatbot was able to interpret the </st><strong class="bold"><st c="35754">tomorrow</st></strong><st c="35762"> statement based on the </st><span class="No-Break"><st c="35786">current date.</st></span></p>
			<ol>
				<li value="3"><st c="35799">As part of the BookMeeting intent, your chatbot is configured to perform a confirmation before proceeding. </st><st c="35907">Here, a user can either proceed or cancel the request, as shown in </st><span class="No-Break"><em class="italic"><st c="35974">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="35982">.22</st></em></span><span class="No-Break"><st c="35985">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer129" class="IMG---Figure">
					<img src="image/B22051_07_22.jpg" alt="Figure 7.22 – Chatbot confirmation prompt"/><st c="35986"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="36153">Figure 7.22 – Chatbot confirmation prompt</st></p>
			<ol>
				<li value="4"><st c="36194">Upon confirmation, your intent reached the fulfillment state, and as per the bot configuration, the </st><strong class="source-inline"><st c="36295">bot-function-meety lambda</st></strong><st c="36320"> function was triggered. </st><st c="36345">The lambda function has three </st><span class="No-Break"><st c="36375">main actions:</st></span><ul><li><st c="36388">Evaluate whether there are any previously accepted meetings that could conflict with the proposed meeting time, according to the slot </st><span class="No-Break"><st c="36523">values provided.</st></span></li><li><st c="36539">Create the meeting request and store it in the </st><span class="No-Break"><st c="36587">DynamoDB table.</st></span></li><li><st c="36602">Respond with a customized message to the end user acknowledging the </st><span class="No-Break"><st c="36671">meeting request.</st></span></li></ul></li>
			</ol>
			<div>
				<div id="_idContainer130" class="IMG---Figure">
					<img src="image/B22051_07_23.jpg" alt="Figure 7.23 – Chatbot final response"/><st c="36687"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="36844">Figure 7.23 – Chatbot final response</st></p>
			<p class="list-inset"><st c="36880">If you want to </st><a id="_idIndexMarker476"/><st c="36896">explore the lambda function code in detail, follow </st><span class="No-Break"><st c="36947">these steps:</st></span></p>
			<ol>
				<li class="upper-roman"><st c="36959">Go to the AWS Lambda console in the region where you deployed the CloudFormation stack </st><span class="No-Break"><st c="37047">at </st></span><a href="https://console.aws.amazon.com/lambda/"><span class="No-Break"><st c="37050">https://console.aws.amazon.com/lambda/</st></span></a><span class="No-Break"><st c="37088">.</st></span></li>
				<li class="upper-roman"><st c="37089">On the left menu, </st><span class="No-Break"><st c="37108">select </st></span><span class="No-Break"><strong class="bold"><st c="37115">Functions</st></strong></span><span class="No-Break"><st c="37124">.</st></span></li>
				<li class="upper-roman"><st c="37125">Click on the </st><span class="No-Break"><strong class="source-inline"><st c="37139">bot-function-meety</st></strong></span><span class="No-Break"><st c="37157"> function.</st></span></li>
				<li class="upper-roman"><st c="37167">Scroll down to the </st><strong class="bold"><st c="37187">Code Source</st></strong><st c="37198"> section, and you will find all the code included in this </st><span class="No-Break"><st c="37256">lambda function.</st></span></li>
			</ol>
			<p><st c="37272">You have already examined how a user can initiate meeting requests through conversations with your chatbot. </st><st c="37381">Now, it is time to delve into the </st><strong class="bold"><st c="37415">Admin</st></strong><st c="37420"> page, where you can review the accepted meetings in your calendar and manage the pending </st><span class="No-Break"><st c="37510">meeting requests.</st></span></p>
			<h3><st c="37527">Manage meeting requests through the admin portal</st></h3>
			<p><st c="37576">So far, you have tested your chatbot, namely its capabilities to handle meeting requests with a human-like conversation, and now you will explore how to manage the </st><span class="No-Break"><st c="37741">requests created.</st></span></p>
			<p><st c="37758">During the process of deploying your CloudFormation stack, you should have received an email like the one in </st><span class="No-Break"><em class="italic"><st c="37868">Figure 7</st></em></span><em class="italic"><st c="37876">.24</st></em><st c="37879"> with your username and a temporary password. </st><st c="37925">This will be </st><a id="_idIndexMarker477"/><st c="37938">needed to finalize the authentication process and access the </st><span class="No-Break"><strong class="bold"><st c="37999">Admin</st></strong></span><span class="No-Break"><st c="38004"> page.</st></span></p>
			<div>
				<div id="_idContainer131" class="IMG---Figure">
					<img src="image/B22051_07_24.jpg" alt="Figure 7.24 – Email with a temporary password"/><st c="38010"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="38305">Figure 7.24 – Email with a temporary password</st></p>
			<p><st c="38350">To access the admin portal and manage the meeting requests, follow </st><span class="No-Break"><st c="38418">these steps:</st></span></p>
			<ol>
				<li><st c="38430">From your application’s homepage, click on </st><span class="No-Break"><strong class="bold"><st c="38474">Sign In</st></strong></span><span class="No-Break"><st c="38481">.</st></span></li>
				<li><st c="38482">Fill out the </st><strong class="bold"><st c="38496">Username</st></strong><st c="38504"> and </st><strong class="bold"><st c="38509">Password</st></strong><st c="38517"> fields with the values from the email you received </st><span class="No-Break"><st c="38569">and confirm.</st></span></li>
				<li><st c="38581">Set up a new password </st><span class="No-Break"><st c="38604">and proceed.</st></span></li>
				<li><st c="38616">Select your email and click on </st><strong class="bold"><st c="38648">Verify</st></strong><st c="38654">. You will now receive an email with a </st><span class="No-Break"><st c="38693">temporary code.</st></span></li>
				<li><st c="38708">Copy the verification code from your email and paste it into the </st><span class="No-Break"><st c="38774">confirmation form.</st></span></li>
			</ol>
			<p><st c="38792">You have now finalized the authentication setup, and your interface should look like </st><span class="No-Break"><em class="italic"><st c="38878">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="38886">.25</st></em></span><span class="No-Break"><st c="38889">.</st></span></p>
			<div>
				<div id="_idContainer132" class="IMG---Figure">
					<img src="image/B22051_07_25.jpg" alt="Figure 7.25 – Admin page for managing meeting requests"/><st c="38890"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="39367">Figure 7.25 – Admin page for managing meeting requests</st></p>
			<p><st c="39421">The admin page is</st><a id="_idIndexMarker478"/><st c="39439"> divided into two </st><span class="No-Break"><st c="39457">distinct sections:</st></span></p>
			<ul>
				<li><st c="39475">Meetings calendar, which displays all the </st><span class="No-Break"><st c="39518">accepted meetings.</st></span></li>
				<li><st c="39536">Pending meetings section, which presents a list of meeting requests awaiting </st><span class="No-Break"><st c="39614">your action.</st></span></li>
			</ul>
			<p><st c="39626">Within the </st><strong class="bold"><st c="39638">Actions</st></strong><st c="39645"> column, you have two buttons available: </st><strong class="bold"><st c="39686">Accept</st></strong><st c="39692"> and </st><strong class="bold"><st c="39697">Reject</st></strong><st c="39703">. Clicking the </st><strong class="bold"><st c="39718">Accept</st></strong><st c="39724"> button will update the meeting request’s status to </st><strong class="bold"><st c="39776">Accepted</st></strong><st c="39784">, while selecting the </st><strong class="bold"><st c="39806">Reject</st></strong><st c="39812"> button will mark it as </st><strong class="bold"><st c="39836">Rejected</st></strong><st c="39844">. To observe the functionality, try accepting a meeting request and watch it appear in the </st><strong class="bold"><st c="39935">Meetings </st></strong><span class="No-Break"><strong class="bold"><st c="39944">Calendar</st></strong></span><span class="No-Break"><st c="39952"> calendar.</st></span></p>
			<p><st c="39962">One of the functional requirements stated that you should receive a notification when a new meeting request overlaps with a previously accepted meeting. </st><st c="40116">To test this behavior, perform the </st><span class="No-Break"><st c="40151">following steps:</st></span></p>
			<ol>
				<li><st c="40167">Open a new tab in your browser with the homepage (you can copy the URL from the </st><strong class="bold"><st c="40248">Admin</st></strong><st c="40253"> page and delete </st><span class="No-Break"><st c="40270">the </st></span><span class="No-Break"><strong class="source-inline"><st c="40274">/admin</st></strong></span><span class="No-Break"><st c="40280">).</st></span></li>
				<li><st c="40283">Attempt to schedule a meeting during the same time slot as an already </st><span class="No-Break"><st c="40354">accepted meeting.</st></span></li>
				<li><st c="40371">Refresh the </st><strong class="bold"><st c="40384">Admin</st></strong><st c="40389"> page to display the new </st><span class="No-Break"><st c="40414">meeting request.</st></span></li>
			</ol>
			<p><st c="40430">You can verify that the new request now displays a warning icon and a tooltip indicating that it conflicts with a previously accepted meeting, as illustrated in </st><span class="No-Break"><em class="italic"><st c="40592">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="40600">.26</st></em></span><span class="No-Break"><st c="40603">.</st></span></p>
			<div>
				<div id="_idContainer133" class="IMG---Figure">
					<img src="image/B22051_07_26.jpg" alt="Figure 7.26 – Conflicting meeting warning"/><st c="40604"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="40744">Figure 7.26 – Conflicting meeting warning</st></p>
			<p><st c="40785">You now have a fully operational web application with a chatbot that can schedule meetings based on a conversation with an end user. </st><st c="40919">Additionally, you can consult a calendar with all </st><a id="_idIndexMarker479"/><st c="40969">the meetings that happened in the past and manage your agenda for the </st><span class="No-Break"><st c="41039">upcoming meetings.</st></span></p>
			<h2 id="_idParaDest-173"><a id="_idTextAnchor221"/><st c="41057">Clean up</st></h2>
			<p><st c="41066">Aligned with your</st><a id="_idIndexMarker480"/><st c="41084"> non-functional requirements, all the components of this architecture benefit from a pay-as-you-go model, meaning you pay only for what you use. </st><st c="41229">Nevertheless, if you leave an application running for an extended period, you may incur unnecessary costs. </st><st c="41336">Therefore, it is recommended to clean up your infrastructure when it is no longer in use. </st><st c="41426">Since you deployed the application using IaC, the cleanup process is straightforward and involves </st><span class="No-Break"><st c="41524">two steps:</st></span></p>
			<ol>
				<li><st c="41534">Empty the </st><span class="No-Break"><st c="41545">S3 bucket:</st></span><ol><li class="upper-roman"><st c="41555">Go to the S3 console in your </st><span class="No-Break"><st c="41585">AWS account.</st></span></li><li class="upper-roman"><st c="41597">Select your frontend S3 bucket (the name of the bucket should start with </st><strong class="source-inline"><st c="41671">frontend-chapter-7-</st></strong><st c="41690">, followed by a </st><span class="No-Break"><st c="41706">random string).</st></span></li><li class="upper-roman"><st c="41721">Click on </st><strong class="bold"><st c="41731">Empty</st></strong><st c="41736">; this will delete all the content inside </st><span class="No-Break"><st c="41779">your bucket.</st></span></li></ol></li>
			</ol>
			<div>
				<div id="_idContainer134" class="IMG---Figure">
					<img src="image/B22051_07_27.jpg" alt="Figure 7.27 – Process of emptying an S3 bucket"/><st c="41791"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="42082">Figure 7.27 – Process of emptying an S3 bucket</st></p>
			<ol>
				<li value="2"><st c="42128">Delete the </st><span class="No-Break"><st c="42140">CloudFormation stack:</st></span><ol><li class="upper-roman"><st c="42161">Navigate to the CloudFormation service console within your AWS account, ensuring you are in the same region where the initial deployment </st><span class="No-Break"><st c="42299">took place.</st></span></li><li class="upper-roman"><st c="42310">Select the stack </st><span class="No-Break"><st c="42328">you created.</st></span></li><li class="upper-roman"><st c="42340">Click on </st><strong class="bold"><st c="42350">Delete</st></strong><st c="42356">, as shown in </st><span class="No-Break"><em class="italic"><st c="42370">Figure 7</st></em></span><span class="No-Break"><em class="italic"><st c="42378">.28</st></em></span><span class="No-Break"><st c="42381">.</st></span></li></ol></li>
			</ol>
			<div>
				<div id="_idContainer135" class="IMG---Figure">
					<img src="image/B22051_07_28.jpg" alt="Figure 7.28 – CloudFormation stack deletion"/><st c="42382"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="42669">Figure 7.28 – CloudFormation stack deletion</st></p>
			<p><st c="42712">With these actions, all the resources created for this chapter should </st><span class="No-Break"><st c="42783">be deleted.</st></span></p>
			<p><st c="42794">While this project</st><a id="_idIndexMarker481"/><st c="42813"> provides a solid foundation for your chatbot application, there are several enhancements and future considerations that can further improve its functionality and user experience. </st><st c="42993">These will be presented in the </st><span class="No-Break"><st c="43024">next section.</st></span></p>
			<h1 id="_idParaDest-174"><a id="_idTextAnchor222"/><st c="43037">Future work</st></h1>
			<p><st c="43049">Congratulations on successfully implementing the chatbot application! </st><st c="43120">You have taken a significant step in harnessing the power of AWS for building intelligent conversational interfaces, and you now have the baseline for incorporating this technology into future projects. </st><st c="43323">This project represents an initial version. </st><st c="43367">We want to suggest some improvements and ideas you can implement to extend it and enrich </st><span class="No-Break"><st c="43456">your chatbot.</st></span></p>
			<h2 id="_idParaDest-175"><a id="_idTextAnchor223"/><st c="43469">Extend the actions performed by your chatbot</st></h2>
			<p><st c="43514">Your current chatbot </st><a id="_idIndexMarker482"/><st c="43536">can detect conflicts when a user attempts to schedule a meeting but consider expanding its capabilities by implementing logic to suggest available time slots to the user. </st><st c="43707">Additionally, you could introduce a scheduling window, for instance, from 9 AM to 5 PM, and only accept meeting requests within </st><span class="No-Break"><st c="43835">that timeframe:</st></span></p>
			<pre class="source-code"><st c="43850">
def check_meeting_slot(prop_date, prop_start, prop_dur):
#check if is there any conflict by querying the dynamoDB table for meeting already accepted at the proposed start time.</st></pre>			<p><st c="44027">You could improve this function, for example, by including two </st><span class="No-Break"><st c="44091">new arguments:</st></span></p>
			<ul>
				<li><strong class="source-inline"><st c="44105">min_time</st></strong><st c="44114">: Defined by the admin, the earliest time to accept </st><span class="No-Break"><st c="44167">a meeting.</st></span></li>
				<li><strong class="source-inline"><st c="44177">max_time</st></strong><st c="44186">: Defined by the admin, the latest time to accept </st><span class="No-Break"><st c="44237">a meeting.</st></span></li>
			</ul>
			<p><st c="44247">Now, inside your function, include the logic to test </st><span class="No-Break"><st c="44301">the following:</st></span></p>
			<ul>
				<li><st c="44315">Whether the meeting’s proposed date is </st><span class="No-Break"><st c="44355">before </st></span><span class="No-Break"><strong class="source-inline"><st c="44362">min_time</st></strong></span><span class="No-Break"><st c="44370">.</st></span></li>
				<li><st c="44371">Whether the meeting’s end date is </st><span class="No-Break"><st c="44406">after </st></span><span class="No-Break"><strong class="source-inline"><st c="44412">max_time</st></strong></span><span class="No-Break"><st c="44420">.</st></span></li>
				<li><st c="44421">Whether there is a conflict, and in case there is, query the DynamoDB table to get all the meetings happening on the proposed date and implement the logic to find an available slot considering the </st><span class="No-Break"><st c="44619">proposed duration.</st></span></li>
			</ul>
			<p><st c="44637">Here is an example of the updated structure for your </st><strong class="source-inline"><st c="44691">check_meeting_slot</st></strong><st c="44709"> function, which incorporates the necessary parameters to extend the logic as </st><span class="No-Break"><st c="44787">described above:</st></span></p>
			<pre class="source-code"><st c="44803">
def check_meeting_slot(prop_date, prop_start, prop_dur, min_time, max_time):
#future work</st></pre>			<p><st c="44893">Feel free to explore and customize the </st><strong class="source-inline"><st c="44933">bot-function-meety</st></strong><st c="44951"> lambda function to incorporate these ideas or any other enhancements you envision for </st><span class="No-Break"><st c="45038">your chatbot.</st></span></p>
			<h2 id="_idParaDest-176"><a id="_idTextAnchor224"/><st c="45051">Multilingual support</st></h2>
			<p><st c="45072">Currently, your </st><a id="_idIndexMarker483"/><st c="45089">chatbot only supports English, but Amazon Lex offers the capability to work with multiple languages. </st><st c="45190">As a future enhancement, you could configure your chatbot to support additional languages, making it more accessible to users from different linguistic backgrounds. </st><st c="45355">You can find the instructions on how to implement it in the AWS documentation </st><span class="No-Break"><st c="45433">at </st></span><a href="https://docs.aws.amazon.com/lexv2/latest/dg/add-language.html"><span class="No-Break"><st c="45436">https://docs.aws.amazon.com/lexv2/latest/dg/add-language.html</st></span></a><span class="No-Break"><st c="45497">.</st></span></p>
			<h2 id="_idParaDest-177"><a id="_idTextAnchor225"/><st c="45498">Maintain user profiles for different sessions</st></h2>
			<p><st c="45544">The CloudFormation </st><a id="_idIndexMarker484"/><st c="45564">deployment included a lambda function called </st><strong class="source-inline"><st c="45609">chatbot-meety</st></strong><st c="45622">, which is responsible for interacting with your Amazon Lex chatbot by sending user inputs and receiving responses. </st><st c="45738">One of the parameters when interacting with Amazon Lex is </st><strong class="source-inline"><st c="45796">sessionId</st></strong><st c="45805">, which helps the service identify </st><span class="No-Break"><st c="45840">different conversations:</st></span></p>
			<pre class="source-code"><st c="45864">
def lambda_handler(event, context):
…
response = bot.recognize_text(
botId = '${MeetyBot}',
botAliasId='TSTALIASID',
localeId='en_US',
sessionId='your_session_id',
text = user_input
)
…</st></pre>			<p><st c="46050">Currently, this value is hardcoded. </st><st c="46087">You can see this in the preceding snippet where we used the </st><strong class="source-inline"><st c="46147">your_session_id</st></strong><st c="46162"> string, meaning there is no way for the chatbot to handle multiple</st><a id="_idIndexMarker485"/><st c="46229"> concurrent conversations. </st><st c="46256">Can you think about a strategy to create a unique identifier for </st><span class="No-Break"><st c="46321">each session?</st></span></p>
			<h1 id="_idParaDest-178"><a id="_idTextAnchor226"/><st c="46334">Summary</st></h1>
			<p><st c="46342">In this chapter, you embarked on a journey to develop an intelligent chatbot application that streamlines the meeting scheduling process. </st><st c="46481">By leveraging the power of AWS services such as Amazon Lex, Lambda, API Gateway, and DynamoDB, you created a seamless, conversational experience that automates the entire meeting scheduling workflow. </st><st c="46681">Specifically, in the chatbot development, you explored the intricacies of Amazon Lex, including intents, utterances, and slots, and learned how to customize and extend the chatbot’s capabilities. </st><st c="46877">Overall, and in the previous three chapters, you have gained knowledge in the AI field and how to adopt these technologies with </st><span class="No-Break"><st c="47005">AWS services.</st></span></p>
			<p><st c="47018">In the next chapter, you will explore the business intelligence domain and learn how to analyze </st><span class="No-Break"><st c="47115">clickstream data.</st></span></p>
		</div>
	<div id="charCountTotal" value="47132"/></body></html>