<html><head></head><body>
		<div id="_idContainer014">
			<h1 id="_idParaDest-15" class="chapter-number"><a id="_idTextAnchor014"/><st c="0">1</st></h1>
			<h1 id="_idParaDest-16"><a id="_idTextAnchor015"/><st c="2">Deploying and Interacting with AWS Services</st></h1>
			<p><st c="45">Embarking on the journey to build solutions </st><a id="_idIndexMarker000"/><st c="90">on the </st><strong class="bold"><st c="97">Amazon Web Services</st></strong><st c="116"> (</st><strong class="bold"><st c="118">AWS</st></strong><st c="121">) platform requires a comprehensive understanding of the available tools and approaches. </st><st c="211">This chapter introduces various methodologies for architecting on AWS, beginning with preparatory activities such as requirements gathering, service selection, </st><span class="No-Break"><st c="371">and diagramming.</st></span></p>
			<p><st c="387">You will then explore the various methods and tools available for deploying and interacting with AWS </st><a id="_idIndexMarker001"/><st c="489">services, including</st><a id="_idIndexMarker002"/><st c="508"> the AWS </st><a id="_idIndexMarker003"/><st c="517">Console, AWS </st><strong class="bold"><st c="530">Command Line Interface</st></strong><st c="552"> (</st><strong class="bold"><st c="554">CLI</st></strong><st c="557">), AWS </st><strong class="bold"><st c="565">Software Development Kits</st></strong><st c="590"> (</st><strong class="bold"><st c="592">SDKs</st></strong><st c="596">), and </st><strong class="bold"><st c="604">Infrastructure as </st></strong><span class="No-Break"><strong class="bold"><st c="622">Code</st></strong></span><span class="No-Break"><st c="626"> (</st></span><span class="No-Break"><strong class="bold"><st c="628">IaC</st></strong></span><span class="No-Break"><st c="631">).</st></span></p>
			<p><st c="634">This is a theoretical chapter, structured around the following </st><span class="No-Break"><st c="698">main topics:</st></span></p>
			<ul>
				<li><st c="710">Architecting </st><span class="No-Break"><st c="724">on AWS</st></span></li>
				<li><st c="730">Getting started with </st><span class="No-Break"><st c="752">AWS Console</st></span></li>
				<li><st c="763">Navigating AWS CLI </st><span class="No-Break"><st c="783">and SDK</st></span></li>
				<li><span class="No-Break"><st c="790">Understanding IaC</st></span></li>
			</ul>
			<p><st c="808">By the end of this chapter, you will possess the knowledge and skills necessary to create, operate, and monitor AWS services using the approach that best aligns with your requirements and preferences, whether it be through the user-friendly AWS Console, the CLI, programmatic access via SDKs, or the powerful </st><span class="No-Break"><st c="1118">IaC tools.</st></span></p>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor016"/><st c="1128">Technical requirements</st></h1>
			<p><st c="1151">Although this is a theoretical chapter, you will find code snippets in the GitHub repository of this chapter </st><span class="No-Break"><st c="1261">at </st></span><a href="https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter1/code"><span class="No-Break"><st c="1264">https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter1/code</st></span></a><span class="No-Break"><st c="1341">.</st></span></p>
			<p><st c="1342">To follow along, you will need an </st><span class="No-Break"><st c="1377">AWS account.</st></span></p>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor017"/><st c="1389">Architecting on AWS</st></h1>
			<p><st c="1409">Architecting on AWS refers</st><a id="_idIndexMarker004"/><st c="1436"> to the process of designing and planning cloud-based solutions using AWS. </st><st c="1511">It involves understanding the various AWS services, their capabilities, and how they can be combined to build scalable, secure, and </st><span class="No-Break"><st c="1643">cost-effective architectures.</st></span></p>
			<p><st c="1672">When architecting on AWS, the following four aspects should be considered, each detailed later in </st><span class="No-Break"><st c="1771">this chapter:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="1784">Requirements gathering</st></strong><st c="1807">: This is a crucial step in the process of architecting solutions on AWS. </st><st c="1882">It involves understanding the business needs, functional requirements, non-functional requirements, and constraints that will shape the design and implementation of the </st><span class="No-Break"><st c="2051">AWS architecture.</st></span></li>
				<li><strong class="bold"><st c="2068">Architecture patterns</st></strong><st c="2090">: AWS provides various architecture patterns and reference architectures that serve as starting points for common use cases, such as web applications, data processing pipelines, or serverless architectures. </st><st c="2298">You can leverage these patterns and customize them to meet their </st><span class="No-Break"><st c="2363">specific requirements.</st></span></li>
				<li><strong class="bold"><st c="2385">Service selection</st></strong><st c="2403">: AWS offers a broad range of services, including compute, storage, databases, networking, analytics, machine learning, and more. </st><st c="2534">You must carefully evaluate the requirements of the applications and select the appropriate AWS services that best fit </st><span class="No-Break"><st c="2653">those needs.</st></span></li>
				<li><strong class="bold"><st c="2665">Diagramming</st></strong><st c="2677">: Creating visual representations of the proposed architecture is a crucial step in the architecting process. </st><st c="2788">There are no AWS official tools, but </st><strong class="bold"><st c="2825">draw.io</st></strong><st c="2832"> or simply Microsoft PowerPoint can be used to create architecture diagrams, which</st><a id="_idIndexMarker005"/><st c="2914"> helps communicate the design and facilitate collaboration </st><span class="No-Break"><st c="2973">and implementation.</st></span></li>
			</ul>
			<p><st c="2992">Let’s look at these aspects </st><span class="No-Break"><st c="3021">in detail.</st></span></p>
			<h2 id="_idParaDest-19"><a id="_idTextAnchor018"/><st c="3031">Requirements gathering</st></h2>
			<p><st c="3054">Clear and well-defined </st><a id="_idIndexMarker006"/><st c="3078">requirements are crucial for architects to design AWS solutions that meet the specific needs of the organization and provide the desired outcomes. </st><st c="3225">Gathering requirements can involve collaborating with stakeholders, conducting workshops, analyzing existing systems and data, and understanding the </st><span class="No-Break"><st c="3374">business context.</st></span></p>
			<p><st c="3391">However, if your project has a smaller scope, not all these steps may apply. </st><st c="3469">Nonetheless, it is important to understand what type of requirements can be gathered before a </st><span class="No-Break"><st c="3563">project starts:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="3578">Business requirements</st></strong><st c="3600">: The first step is to understand the business objectives, goals, and drivers behind the solution being architected. </st><st c="3718">This includes factors such as the target market, expected growth, revenue models, and any specific business constraints or regulations that need to </st><span class="No-Break"><st c="3866">be considered.</st></span></li>
				<li><strong class="bold"><st c="3880">Functional requirements</st></strong><st c="3904">: These requirements define the specific features, functionalities, and capabilities that the solution must provide. </st><st c="4022">This could include requirements related to user interfaces, data processing, integration with existing systems, or specific </st><span class="No-Break"><st c="4146">business logic.</st></span></li>
				<li><strong class="bold"><st c="4161">Non-functional requirements</st></strong><st c="4189">: Non-functional requirements define the qualitative attributes that the solution must possess, such as performance, scalability, availability, security, and compliance. </st><st c="4360">These requirements are often critical in determining the appropriate AWS services and architectural patterns to </st><span class="No-Break"><st c="4472">be used.</st></span></li>
				<li><strong class="bold"><st c="4480">Technical requirements</st></strong><st c="4503">: Technical requirements encompass the specific technologies, programming languages, frameworks, and tools that need to be used or integrated with the AWS solution. </st><st c="4669">This could include requirements for specific databases, messaging systems, or </st><span class="No-Break"><st c="4747">third-party services.</st></span></li>
				<li><strong class="bold"><st c="4768">Data requirements</st></strong><st c="4786">: Understanding the data requirements is essential when architecting on AWS. </st><st c="4864">This includes the types of data (structured, unstructured, or semi-structured), data volumes, data sources, data processing needs, and any specific data governance or </st><span class="No-Break"><st c="5031">compliance requirements.</st></span></li>
				<li><strong class="bold"><st c="5055">Integration requirements</st></strong><st c="5080">: If the AWS solution needs to integrate with existing on-premises systems, third-party services, or other cloud environments, the integration requirements must be clearly defined. </st><st c="5262">This includes identifying the integration points, data formats, protocols, and </st><span class="No-Break"><st c="5341">security considerations.</st></span></li>
				<li><strong class="bold"><st c="5365">Security and compliance requirements</st></strong><st c="5402">: Depending on the industry and the nature of the data being handled, there may be specific security and compliance requirements that need to be addressed in the AWS architecture. </st><st c="5583">These could include regulatory standards, data protection laws, or </st><span class="No-Break"><st c="5650">industry-specific certifications.</st></span></li>
				<li><strong class="bold"><st c="5683">Financial requirements</st></strong><st c="5706">: AWS offers a pay-as-you-go pricing model. </st><st c="5751">Understanding the budget constraints and cost requirements is essential for selecting the appropriate AWS services and implementing </st><span class="No-Break"><st c="5883">cost-effective architectures.</st></span></li>
			</ul>
			<p><st c="5912">Bear in mind that some folks consider costs or security requirements part of the umbrella of functional and non-functional requirements. </st><st c="6050">Don’t be pedantic about naming; just gather all </st><span class="No-Break"><st c="6098">your requirements.</st></span></p>
			<h2 id="_idParaDest-20"><a id="_idTextAnchor019"/><st c="6116">Choosing an architecture pattern</st></h2>
			<p><st c="6149">Architecture patterns</st><a id="_idIndexMarker007"/><st c="6171"> and reference architectures serve as starting points for designing and implementing cloud-based solutions. </st><st c="6279">These patterns encapsulate best practices, proven designs, and architectural principles tailored to specific use cases and requirements. </st><st c="6416">You can find many of these in</st><a id="_idIndexMarker008"/><st c="6445"> the AWS Architecture </st><span class="No-Break"><st c="6467">Center: </st></span><a href="https://aws.amazon.com/architecture"><span class="No-Break"><st c="6475">https://aws.amazon.com/architecture</st></span></a><span class="No-Break"><st c="6510">.</st></span></p>
			<p><st c="6511">By leveraging AWS architecture patterns and reference architectures, you can build upon proven designs, accelerate the development process, and ensure that your solutions align with AWS best practices and </st><span class="No-Break"><st c="6717">industry standards.</st></span></p>
			<p><st c="6736">Architecture patterns address common scenarios and requirements. </st><st c="6802">These include patterns for web applications, data processing pipelines, serverless architectures, microservices, event-driven architectures, and more. </st><st c="6953">You can leverage these patterns as a foundation and customize them to meet </st><span class="No-Break"><st c="7028">specific needs.</st></span></p>
			<p><st c="7043">In addition to general patterns, AWS provides reference architectures for specific domains and industries, such as e-commerce, media and entertainment, healthcare, financial services, and more. </st><st c="7238">These reference architectures offer detailed guidance on how to design and implement solutions using AWS services and best practices specific to </st><span class="No-Break"><st c="7383">those domains.</st></span></p>
			<p><st c="7397">To select a pattern or architecture, you must carefully evaluate the requirements, constraints, and use cases of their solutions to select the most appropriate one. </st><st c="7563">This selection process involves understanding the strengths, weaknesses, and trade-offs of each pattern, as well as their alignment with the rest of the technical stack. </st><st c="7733">This is often detailed in </st><span class="No-Break"><st c="7759">their description.</st></span></p>
			<p><st c="7777">While architecture patterns provide a solid starting point, they are rarely implemented as-is. </st><st c="7873">You must customize and adapt the patterns to fit your specific requirements, integrating additional AWS services, adjusting configurations, and incorporating security, monitoring, and </st><span class="No-Break"><st c="8057">operational considerations.</st></span></p>
			<p><st c="8084">It can also happen that what you need is a hybrid or multi-pattern architecture. </st><st c="8166">Some solutions require a combination of multiple architecture patterns or a hybrid approach that combines components of different patterns. </st><st c="8306">There is an extra challenge in determining how to </st><a id="_idIndexMarker009"/><st c="8356">effectively integrate and orchestrate the different patterns into a cohesive and scalable architecture. </st><st c="8460">This is an advanced topic, which you will learn more about in later chapters of </st><span class="No-Break"><st c="8540">this book.</st></span></p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor020"/><st c="8550">Selecting a service</st></h2>
			<p><st c="8570">By now, you have a</st><a id="_idIndexMarker010"/><st c="8589"> well-defined problem and a generic architectural pattern. </st><st c="8648">The next step is service selection. </st><st c="8684">This is a critical aspect of architecting solutions in AWS. </st><st c="8744">With over 200 services available, AWS provides a vast array of building blocks that can be combined to create scalable, secure, and </st><span class="No-Break"><st c="8876">cost-effective architectures.</st></span></p>
			<p><st c="8905">Service selection is an iterative process that involves balancing architectural best practices and all kinds of requirements: non-functional, functional, cost, security, and so on. </st><st c="9087">You must continuously evaluate and refine service selections as the solution evolves and new requirements or </st><span class="No-Break"><st c="9196">constraints emerge.</st></span></p>
			<p><st c="9215">The first step in service selection is to map the gathered requirements to the available AWS services. </st><st c="9319">This involves understanding the capabilities and use cases of each service and identifying the ones that can address the specific functional, non-functional, and technical requirements of the solution. </st><st c="9521">To make this mapping, you will need to first understand what category of service you should look at. </st><st c="9622">Services are organized into different categories, such as compute, storage, databases, networking, security, analytics, and more. </st><st c="9752">You will see different services in each of these categories in the following chapters of </st><span class="No-Break"><st c="9841">this book.</st></span></p>
			<p><st c="9851">After you have identified the service category that maps to your requirements, you will need to evaluate the different service capabilities. </st><st c="9993">Each AWS service offers a unique set of capabilities and features. </st><st c="10060">For example, if the solution requires a highly available and scalable database, services such as Amazon RDS or Amazon Aurora might be suitable choices. </st><st c="10212">This will become </st><a id="_idIndexMarker011"/><st c="10229">clearer as you advance through the chapters of </st><span class="No-Break"><st c="10276">this book.</st></span></p>
			<p><st c="10286">Some interesting non-functional capabilities that you should consider are </st><span class="No-Break"><st c="10361">as follows:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="10372">Service integrations</st></strong><st c="10393">: AWS services are designed to work together seamlessly. </st><st c="10451">You should consider the integration points between different services and ensure that the selected services can be integrated effectively to deliver the </st><span class="No-Break"><st c="10604">desired functionality.</st></span></li>
				<li><strong class="bold"><st c="10626">Managed versus self-managed services</st></strong><st c="10663">: AWS offers both managed services, where AWS handles the underlying infrastructure and maintenance, and self-managed services, where the customer has more control but also more responsibility. </st><st c="10858">You must evaluate the trade-offs between these service types based on factors such as operational overhead, cost, and </st><span class="No-Break"><st c="10976">compliance requirements.</st></span></li>
				<li><strong class="bold"><st c="11000">Pricing and cost optimization</st></strong><st c="11030">: AWS services have different pricing models, and you must consider the cost implications of their service selections. </st><st c="11150">Cost optimization strategies, such as leveraging reserved instances, spot instances, or auto-scaling, should be evaluated and incorporated into </st><span class="No-Break"><st c="11294">the architecture.</st></span></li>
				<li><strong class="bold"><st c="11311">Roadmap</st></strong><st c="11319">: AWS services are constantly evolving, with new features and services being released regularly. </st><st c="11417">You should consider the future roadmap of the services they select and ensure that the architecture can accommodate potential changes or new </st><span class="No-Break"><st c="11558">service offerings.</st></span></li>
			</ul>
			<p class="callout-heading"><st c="11576">Important note</st></p>
			<p class="callout"><st c="11591">Did you know that not every AWS service is available in all regions? </st><st c="11661">That’s right. </st><st c="11675">AWS services are not uniformly available across all AWS regions. </st><st c="11740">You must therefore also consider the regional availability of the services you plan </st><span class="No-Break"><st c="11824">to use.</st></span></p>
			<p><st c="11831">Sometimes, you will not find a suitable AWS service for your requirements and that is okay. </st><st c="11924">This is where third-party services come in. </st><st c="11968">Don’t be scared to leverage third-party tooling if it fits your </st><a id="_idIndexMarker012"/><st c="12032">needs. </st><st c="12039">However, consider all the previously mentioned dimensions such as cost or </st><span class="No-Break"><st c="12113">service integrations.</st></span></p>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor021"/><st c="12134">Diagramming</st></h2>
			<p><st c="12146">Visual representations </st><a id="_idIndexMarker013"/><st c="12170">of the proposed architecture help communicate the design, facilitate collaboration among team members, and ensure a shared understanding of the solution’s components and their interactions. </st><st c="12360">It also provides a map of </st><span class="No-Break"><st c="12386">the implementation.</st></span></p>
			<p><st c="12405">There is no standard tool to diagram AWS solutions. </st><st c="12458">The most well-accepted tools are PowerPoint using AWS Architecture Icons (</st><a href="https://aws.amazon.com/architecture/icons/"><st c="12532">https://aws.amazon.com/architecture/icons/</st></a><st c="12575">) or draw.io (</st><a href="https://app.diagrams.net"><st c="12590">https://app.diagrams.net</st></a><st c="12615">). </st><st c="12619">These tools include icons and shapes that represent the different </st><span class="No-Break"><st c="12685">AWS services.</st></span></p>
			<p><span class="No-Break"><em class="italic"><st c="12698">Figure 1</st></em></span><em class="italic"><st c="12707">.1</st></em><st c="12709"> shows a high-level diagram, using PowerPoint, of the communication flow between two EC2 instances in </st><span class="No-Break"><st c="12811">different regions.</st></span></p>
			<div>
				<div id="_idContainer007" class="IMG---Figure">
					<img src="image/B22051_01_1.jpg" alt="Figure 1.1 – Cross-region EC2 communication flow"/><st c="12829"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="13095">Figure 1.1 – Cross-region EC2 communication flow</st></p>
			<p><st c="13143">Diagrams serve as a universal language for communicating the architecture design to stakeholders, developers, operations teams, and other involved parties. </st><st c="13300">You should not only represent the various AWS services, but also their relationships, as well as the overall flow of data and processes within the solution. </st><st c="13457">You can create several diagrams for the same solution, each with a different level </st><span class="No-Break"><st c="13540">of detail.</st></span></p>
			<p class="callout-heading"><st c="13550">Important note</st></p>
			<p class="callout"><st c="13565">Diagramming is not over in the design phase. </st><st c="13611">Rather, it is an ongoing process throughout the architecture life cycle. </st><st c="13684">Regularly updating and reviewing diagrams ensures that they accurately reflect the current state of </st><span class="No-Break"><st c="13784">the architecture.</st></span></p>
			<p><st c="13801">Diagrams are an essential </st><a id="_idIndexMarker014"/><st c="13828">part of the architecture documentation process. </st><st c="13876">They serve as a reference for the design decisions, component interactions, and rationale behind the chosen architecture. </st><st c="13998">However, documentation is not limited to diagrams. </st><st c="14049">Creating thorough documentation is invaluable for future maintenance, troubleshooting, and knowledge transfer within the team or organization. </st><st c="14192">This book will not cover in-depth documentation because it is a practical book focused on </st><span class="No-Break"><st c="14282">hands-on building.</st></span></p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor022"/><st c="14300">Exploring the Well-Architected Framework</st></h2>
			<p><st c="14341">AWS provides a </st><a id="_idIndexMarker015"/><st c="14357">set of best</st><a id="_idIndexMarker016"/><st c="14368"> practices and design principles known as the </st><strong class="bold"><st c="14414">Well-Architected Framework</st></strong><st c="14440"> (</st><strong class="bold"><st c="14442">WAR</st></strong><st c="14445">), (</st><a href="https://aws.amazon.com/architecture/well-architected/"><st c="14450">https://aws.amazon.com/architecture/well-architected/</st></a><st c="14504">). </st><st c="14508">This framework covers six pillars: operational excellence, security, reliability, performance efficiency, cost optimization, </st><span class="No-Break"><st c="14633">and sustainability.</st></span></p>
			<p><st c="14652">Cloud architects use this framework to ensure that their solutions align with AWS best practices, usually after they are built, but it can also be used during the design phase. </st><st c="14830">Although the WAR could be a chapter of its own, we just want you to be aware of it for now, and see how we later refer to it while building the projects throughout </st><span class="No-Break"><st c="14994">this book.</st></span></p>
			<p><st c="15004">Now that we’ve covered the designing and planning phase, let’s delve into the implementation phase. </st><st c="15105">You will explore multiple tools while getting some </st><span class="No-Break"><st c="15156">hands-on experience.</st></span></p>
			<h1 id="_idParaDest-24"><a id="_idTextAnchor023"/><st c="15176">Getting started with AWS Console</st></h1>
			<p><st c="15209">The AWS Console is </st><a id="_idIndexMarker017"/><st c="15229">a web-based user interface provided by AWS that allows users to access and manage various AWS services and resources</st><a id="_idIndexMarker018"/><st c="15345"> through a </st><strong class="bold"><st c="15356">Graphical User </st></strong><span class="No-Break"><strong class="bold"><st c="15371">Interface</st></strong></span><span class="No-Break"><st c="15380"> (</st></span><span class="No-Break"><strong class="bold"><st c="15382">GUI</st></strong></span><span class="No-Break"><st c="15385">).</st></span></p>
			<p><st c="15388">The AWS Console is designed to be user-friendly and accessible from any web browser, allowing users to manage their AWS resources from anywhere with an internet connection. </st><st c="15562">It provides a visual representation of AWS services and resources, making it easier for users to understand and interact with the </st><span class="No-Break"><st c="15692">AWS ecosystem.</st></span></p>
			<h2 id="_idParaDest-25"><a id="_idTextAnchor024"/><st c="15706">Using the Console</st></h2>
			<p><st c="15724">During this section, you will </st><a id="_idIndexMarker019"/><st c="15755">deploy an EC2 instance, which is an AWS </st><span class="No-Break"><st c="15795">virtual machine.</st></span></p>
			<p><st c="15811">To use the Console, you must have an AWS account. </st><st c="15862">The creation process of an AWS account is outside the scope of this book, but you can find all the necessary information on the AWS website </st><span class="No-Break"><st c="16002">at </st></span><a href="https://aws.amazon.com/free"><span class="No-Break"><st c="16005">https://aws.amazon.com/free</st></span></a><span class="No-Break"><st c="16032">.</st></span></p>
			<p class="callout-heading"><st c="16033">Important note</st></p>
			<p class="callout"><st c="16048">Every example in this book assumes that you have a standalone AWS account that is not part of </st><span class="No-Break"><st c="16143">AWS Organizations.</st></span></p>
			<p><st c="16161">Let’s </st><span class="No-Break"><st c="16168">get started:</st></span></p>
			<ol>
				<li><st c="16180">The first step to access the AWS Console is to navigate </st><span class="No-Break"><st c="16237">to </st></span><a href="https://console.aws.amazon.com/"><span class="No-Break"><st c="16240">https://console.aws.amazon.com/</st></span></a><span class="No-Break"><st c="16271">.</st></span><p class="list-inset"><st c="16272">You will be greeted by a login screen like the one shown in </st><span class="No-Break"><em class="italic"><st c="16333">Figure 1</st></em></span><span class="No-Break"><em class="italic"><st c="16341">.2</st></em></span><span class="No-Break"><st c="16343">.</st></span></p></li>
			</ol>
			<div>
				<div id="_idContainer008" class="IMG---Figure">
					<img src="image/B22051_01_2.jpg" alt="Figure 1.2 – AWS Console login screen"/><st c="16344"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="16761">Figure 1.2 – AWS Console login screen</st></p>
			<ol>
				<li value="2"><st c="16798">If you are using </st><a id="_idIndexMarker020"/><st c="16816">a root user, insert the email of your user followed by the password. </st><st c="16885">If you are using an IAM user, you will also need to input the 12-digit </st><span class="No-Break"><st c="16956">account ID.</st></span></li>
				<li><st c="16967">Upon successful login, you will see the AWS Console home page, as shown in </st><span class="No-Break"><em class="italic"><st c="17043">Figure 1</st></em></span><span class="No-Break"><em class="italic"><st c="17051">.3</st></em></span><span class="No-Break"><st c="17053">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer009" class="IMG---Figure">
					<img src="image/B22051_01_3.jpg" alt="Figure 1.3 – Console Home"/><st c="17054"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="17253">Figure 1.3 – Console Home</st></p>
			<p class="list-inset"><st c="17278">Sections worth highlighting for this figure are </st><span class="No-Break"><st c="17327">as follows:</st></span></p>
			<ul>
				<li><st c="17338">The </st><strong class="bold"><st c="17343">Search</st></strong><st c="17349"> bar at the top, which you can use to search for a </st><span class="No-Break"><st c="17400">specific service.</st></span></li>
				<li><st c="17417">The AWS Region you are currently managing shows at the top-right corner; it’s </st><strong class="bold"><st c="17496">N. </st><st c="17499">Virginia</st></strong><st c="17507"> in </st><span class="No-Break"><st c="17511">this case.</st></span></li>
				<li><st c="17521">The user or role you are currently logged in as, which is also in the top-right corner, hidden under the </st><span class="No-Break"><st c="17627">red square.</st></span></li>
				<li><st c="17638">The recently</st><a id="_idIndexMarker021"/><st c="17651"> visited section, which will be empty if you haven’t opened the AWS </st><span class="No-Break"><st c="17719">Console before.</st></span></li>
			</ul>
			<p class="callout-heading"><st c="17734">Important note</st></p>
			<p class="callout"><st c="17749">Why are the role and account ID hidden under a red square in </st><span class="No-Break"><em class="italic"><st c="17811">Figure 1</st></em></span><em class="italic"><st c="17819">.3</st></em><st c="17821">? Although AWS account IDs, users, and roles are not considered sensitive, it’s an AWS best practice not to publicly </st><span class="No-Break"><st c="17938">disclose them.</st></span></p>
			<ol>
				<li value="4"><st c="17952">Navigate to the EC2 service console. </st><st c="17990">To do this, enter </st><strong class="source-inline"><st c="18008">ec2</st></strong><st c="18011"> in the search bar and select </st><strong class="bold"><st c="18041">EC2</st></strong><st c="18044">, as shown in </st><span class="No-Break"><em class="italic"><st c="18058">Figure 1</st></em></span><span class="No-Break"><em class="italic"><st c="18066">.4</st></em></span><span class="No-Break"><st c="18068">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/B22051_01_4.jpg" alt="Figure 1.4 – Search for the EC2 service using the AWS Console"/><st c="18069"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="18198">Figure 1.4 – Search for the EC2 service using the AWS Console</st></p>
			<ol>
				<li value="5"><st c="18259">To launch the simplest possible virtual machine, without any customization, select </st><strong class="bold"><st c="18343">Launch instance</st></strong><st c="18358">, as shown in </st><span class="No-Break"><em class="italic"><st c="18372">Figure 1</st></em></span><span class="No-Break"><em class="italic"><st c="18380">.5</st></em></span><span class="No-Break"><st c="18382">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/B22051_01_5.jpg" alt="Figure 1.5 – EC2 dashboard"/><st c="18383"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="18713">Figure 1.5 – EC2 dashboard</st></p>
			<ol>
				<li value="6"><st c="18739">In the following </st><a id="_idIndexMarker022"/><st c="18757">menu, </st><strong class="bold"><st c="18763">Launch an instance</st></strong><st c="18781">, select </st><strong class="bold"><st c="18790">Proceed without a key pair (Not recommended)</st></strong><st c="18834">, from the </st><strong class="bold"><st c="18845">Key pair name</st></strong><st c="18858"> drop-down menu. </st><st c="18875">Lastly, select </st><strong class="bold"><st c="18890">Launch instance</st></strong><st c="18905"> again, this time on the </st><span class="No-Break"><st c="18930">right menu.</st></span></li>
				<li><st c="18941">Navigate to your running instances. </st><st c="18978">You can do this by selecting Instances on the EC2 left menu or by navigating to </st><a href="https://console.aws.amazon.com/ec2/#Instances"><st c="19058">https://console.aws.amazon.com/ec2/#Instances</st></a><st c="19103">. You should see something similar to </st><span class="No-Break"><em class="italic"><st c="19141">Figure 1</st></em></span><em class="italic"><st c="19149">.6</st></em><st c="19151">: a running EC2 instance with a funny-looking instance ID and some </st><span class="No-Break"><st c="19219">other attributes.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/B22051_01_6.jpg" alt="Figure 1.6 – EC2 instance status"/><st c="19236"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="19555">Figure 1.6 – EC2 instance status</st></p>
			<p class="list-inset"><st c="19587">This is not a very useful instance because you cannot connect to it. </st><st c="19657">The reason for that is you that did not select a key pair. </st><st c="19716">This was just a simple demo to show you how the AWS </st><span class="No-Break"><st c="19768">Console works.</st></span></p>
			<ol>
				<li value="8"><st c="19782">You can terminate the instance by selecting </st><strong class="bold"><st c="19827">Terminate (delete) instance</st></strong><st c="19854">, as shown in </st><span class="No-Break"><em class="italic"><st c="19868">Figure 1</st></em></span><span class="No-Break"><em class="italic"><st c="19876">.7</st></em></span><span class="No-Break"><st c="19878">.</st></span></li>
			</ol>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/B22051_01_7.jpg" alt="Figure 1.7 – Terminate EC2 instance using the AWS Console"/><st c="19879"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20220">Figure 1.7 – Terminate EC2 instance using the AWS Console</st></p>
			<p><st c="20277">While the AWS Console is a convenient way to manage and troubleshoot AWS resources, you can probably guess some of its drawbacks. </st><st c="20408">Imagine you had to create one hundred of these EC2 instances, or a thousand. </st><st c="20485">It would take you a very long time, especially if you had to configure specific parameters, such as the ones you skipped during the </st><span class="No-Break"><st c="20617">previous guide.</st></span></p>
			<p><st c="20632">AWS provides</st><a id="_idIndexMarker023"/><st c="20645"> command-line tools and SDKs for programmatic access and automation of AWS services that address </st><span class="No-Break"><st c="20742">these drawbacks.</st></span></p>
			<p class="callout-heading"><st c="20758">Important note</st></p>
			<p class="callout"><st c="20773">It is not recommended to perform actions in your AWS account using the root credentials. </st><st c="20863">We strongly recommend that you don’t use the root user for your everyday tasks and that you follow the root user best practices for your AWS account, which can be found </st><span class="No-Break"><st c="21032">at </st></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/root-user-best-practices.html"><span class="No-Break"><st c="21035">https://docs.aws.amazon.com/IAM/latest/UserGuide/root-user-best-practices.html</st></span></a><span class="No-Break"><st c="21113">.</st></span></p>
			<p><st c="21114">It’s recommended that before you advance into the next section, you navigate through the AWS Console a little more to get accustomed </st><span class="No-Break"><st c="21248">to it.</st></span></p>
			<h1 id="_idParaDest-26"><a id="_idTextAnchor025"/><st c="21254">Navigating AWS CLI and AWS SDK</st></h1>
			<p><st c="21285">The AWS CLI and AWS SDK are programmatic tools to access and manage AWS services. </st><st c="21368">In this section, you will dive deeper into each of these, and execute them in your </st><span class="No-Break"><st c="21451">own environment.</st></span></p>
			<h2 id="_idParaDest-27"><a id="_idTextAnchor026"/><st c="21467">AWS CLI</st></h2>
			<p><st c="21475">The AWS CLI is a </st><a id="_idIndexMarker024"/><st c="21493">unified tool by AWS that allows you to interact with and manage AWS services from a command line such as macOS terminal or Windows Command Prompt. </st><st c="21640">It provides a convenient and scriptable way to automate and control various AWS resources </st><span class="No-Break"><st c="21730">and operations.</st></span></p>
			<p><st c="21745">It’s a CLI tool, so it requires an installation process. </st><st c="21803">This differs per operating system but it is well-documented by AWS (</st><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html"><st c="21871">https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html</st></a><st c="21949">). </st><st c="21953">Besides standalone actions, it can be integrated with other CLI scripts or automation tools you already have. </st><st c="22063">For example, a larger workflow that touches on various components such as local and </st><span class="No-Break"><st c="22147">remote processes.</st></span></p>
			<h3><st c="22164">Using the AWS CLI</st></h3>
			<p><st c="22182">In this section, you will </st><a id="_idIndexMarker025"/><st c="22209">create an EC2 instance like in the previous section, this time using the </st><span class="No-Break"><st c="22282">AWS CLI.</st></span></p>
			<p><st c="22290">Authentication works differently from the AWS Console. </st><st c="22346">AWS CLI supports various authentication methods, including AWS access keys, IAM roles, and external credential providers. </st><st c="22468">You can read all the details about the different types of security credentials on the AWS </st><span class="No-Break"><st c="22558">website: </st></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html"><span class="No-Break"><st c="22567">https://docs.aws.amazon.com/IAM/latest/UserGuide/security-creds.html</st></span></a><span class="No-Break"><st c="22635">.</st></span></p>
			<p><st c="22636">In this section, we will focus on AWS </st><span class="No-Break"><st c="22675">access keys.</st></span></p>
			<p><st c="22687">If you are using the root user or an IAM user, by default, your user does not have access keys enabled. </st><st c="22792">Using the root user is not recommended. </st><st c="22832">However, you can create access keys for it. </st><st c="22876">The process is described on the AWS </st><span class="No-Break"><st c="22912">website: </st></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user_manage_add-key.html"><span class="No-Break"><st c="22921">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user_manage_add-key.html</st></span></a><span class="No-Break"><st c="23002">.</st></span></p>
			<p><st c="23003">Follow these steps to create a new </st><span class="No-Break"><st c="23039">IAM user:</st></span></p>
			<ol>
				<li><st c="23048">Navigate to IAM using the </st><span class="No-Break"><st c="23075">console (</st></span><a href="https://us-east-1.console.aws.amazon.com/iam/home?region=us-east-1#/users"><span class="No-Break"><st c="23084">https://us-east-1.console.aws.amazon.com/iam/home?region=us-east-1#/users</st></span></a><span class="No-Break"><st c="23158">).</st></span></li>
				<li><st c="23161">Select </st><strong class="bold"><st c="23169">Create User</st></strong><st c="23180">, and give it </st><span class="No-Break"><st c="23194">a username.</st></span></li>
				<li><st c="23205">From the </st><strong class="bold"><st c="23215">Set permissions</st></strong><st c="23230"> menu, select </st><strong class="bold"><st c="23244">Attach policies directly</st></strong><st c="23268">, then find and select </st><strong class="bold"><st c="23291">PowerUserAccess</st></strong><st c="23306">. Finally, </st><span class="No-Break"><st c="23317">click </st></span><span class="No-Break"><strong class="bold"><st c="23323">Next</st></strong></span><span class="No-Break"><st c="23327">.</st></span></li>
				<li><st c="23328">Click </st><span class="No-Break"><strong class="bold"><st c="23335">Create user</st></strong></span><span class="No-Break"><st c="23346">.</st></span></li>
			</ol>
			<p><st c="23347">Your user should now show in the list of users. </st><st c="23396">To create access keys for this user, follow </st><span class="No-Break"><st c="23440">these steps:</st></span></p>
			<ol>
				<li><st c="23452">Select your newly </st><span class="No-Break"><st c="23471">created user.</st></span></li>
				<li><st c="23484">Navigate to the </st><strong class="bold"><st c="23501">Security credentials</st></strong><st c="23521"> tab, and select </st><strong class="bold"><st c="23538">Create </st></strong><span class="No-Break"><strong class="bold"><st c="23545">access key</st></strong></span><span class="No-Break"><st c="23555">.</st></span></li>
				<li><st c="23556">On the </st><strong class="bold"><st c="23564">Use case</st></strong><st c="23572"> menu, select </st><strong class="bold"><st c="23586">Command Line Interface (CLI)</st></strong><st c="23614">, accept the confirmation message, and </st><span class="No-Break"><st c="23653">select </st></span><span class="No-Break"><strong class="bold"><st c="23660">Next</st></strong></span><span class="No-Break"><st c="23664">.</st></span></li>
				<li><st c="23665">On the following menu, click </st><strong class="bold"><st c="23695">Create </st></strong><span class="No-Break"><strong class="bold"><st c="23702">access key</st></strong></span><span class="No-Break"><st c="23712">.</st></span></li>
				<li><st c="23713">Before navigating away from this page, note your access and secret </st><span class="No-Break"><st c="23781">access keys.</st></span></li>
			</ol>
			<p><st c="23793">AWS also has these </st><a id="_idIndexMarker026"/><st c="23813">processes For all possible permutations well documented on </st><span class="No-Break"><st c="23872">their website:</st></span></p>
			<ul>
				<li><st c="23886">Creating an IAM </st><span class="No-Break"><st c="23903">user: </st></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console"><span class="No-Break"><st c="23909">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console</st></span></a></li>
				<li><st c="24002">Managing access keys for IAM </st><span class="No-Break"><st c="24032">users: </st></span><a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html"><span class="No-Break"><st c="24039">https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html</st></span></a></li>
			</ul>
			<p><st c="24119">Open your preferred local CLI tool and set the following variables with your own keys. </st><st c="24207">This allows your terminal to interact with your </st><span class="No-Break"><st c="24255">AWS account:</st></span></p>
			<pre class="console"><st c="24267">
$ export AWS_ACCESS_KEY_ID=XXXXXXXXX
$ export AWS_SECRET_ACCESS_KEY=xxxxxxxxxx
$ export AWS_DEFAULT_REGION=</st><strong class="bold"><st c="24375">us-east-1</st></strong></pre>			<p><st c="24385">With these variables set, you are now able to execute AWS CLI commands on your own account. </st><st c="24478">Notice how we are hardcoding the region to </st><strong class="source-inline"><st c="24521">us-east-1</st></strong><st c="24530">. We recommend that you run all the following examples in this region. </st><st c="24601">If you are using a different region, some parameters, such </st><a id="_idIndexMarker027"/><st c="24660">as the </st><strong class="bold"><st c="24667">Amazon Machine Image</st></strong><st c="24687"> (</st><strong class="bold"><st c="24689">AMI</st></strong><st c="24692">), </st><span class="No-Break"><st c="24696">require modifications.</st></span></p>
			<p><st c="24718">Try the following command; it returns your running instances. </st><st c="24781">If you don’t have any, it will </st><span class="No-Break"><st c="24812">be empty:</st></span></p>
			<pre class="console"><st c="24821">
$ aws ec2 describe-instances</st></pre>			<p><st c="24850">To create the simplest possible instance, run the following command. </st><st c="24920">This command creates an EC2 of the smallest instance type, </st><strong class="source-inline"><st c="24979">t2.micro</st></strong><st c="24987">, using that AMI ID, which effectively means Amazon Linux 2023. </st><st c="25051">There will be more on AMIs in </st><a href="B22051_03.xhtml#_idTextAnchor054"><span class="No-Break"><em class="italic"><st c="25081">Chapter 3</st></em></span></a><span class="No-Break"><st c="25090">:</st></span></p>
			<pre class="console"><st c="25092">
$ aws ec2 run-instances --image-id ami-0c101f26f147fa7fd 
--instance-type t2.micro</st></pre>			<p><st c="25174">Your command output should be similar to the following. </st><st c="25231">Bear in mind that part of the output was </st><a id="_idIndexMarker028"/><st c="25272">omitted, but check whether your </st><strong class="source-inline"><st c="25304">ImageId</st></strong><st c="25311"> and </st><span class="No-Break"><strong class="source-inline"><st c="25316">InstanceType</st></strong></span><span class="No-Break"><st c="25328"> match:</st></span></p>
			<pre class="source-code"><st c="25335">
{
    "Groups": [],
    "Instances": [
        {
            "AmiLaunchIndex": 0,
            </st><strong class="bold"><st c="25390">"ImageId": "ami-0c101f26f147fa7fd",</st></strong><st c="25425">
            "InstanceId": "i-0a65cf3ecaec728a8",
            </st><strong class="bold"><st c="25463">"InstanceType": "t2.micro",</st></strong><st c="25490">
            "LaunchTime": "2024-03-24T10:47:25+00:00",
            "Monitoring": {
                "State": "disabled"
            },
            "Placement": {
                "AvailabilityZone": "us-east-1a",
                "GroupName": "",
                "Tenancy": "default"
            },
            "PrivateDnsName": "ip-172-31-38-84.ec2.internal",
            ###OUTPUT OMMITED###</st></pre>			<p><st c="25733">If you run the previous </st><strong class="source-inline"><st c="25758">describe</st></strong><st c="25766"> command again, this time, the output will show your running instance. </st><st c="25837">Try it with the following filter, which only shows </st><span class="No-Break"><strong class="source-inline"><st c="25888">t2.micro</st></strong></span><span class="No-Break"><st c="25896">-sized instances:</st></span></p>
			<pre class="console"><st c="25914">
$ aws ec2 describe-instances </st><strong class="bold"><st c="25944">--filters "Name=instance-type,</st></strong>
<strong class="bold"><st c="25974">Values=t2.micro"</st></strong><st c="25991"> --query "Reservations[].Instances[].InstanceId"
[
    "i-0a65cf3ecaec728a8"
]</st></pre>			<p><st c="26065">To terminate the instance, run the following command. </st><st c="26120">Replace the instance ID with </st><span class="No-Break"><st c="26149">your own:</st></span></p>
			<pre class="console"><st c="26158">
$ aws ec2 terminate-instances </st><strong class="bold"><st c="26189">--instance-ids i-0a65cf3ecaec728a8</st></strong></pre>			<p><st c="26223">You can</st><a id="_idIndexMarker029"/><st c="26231"> use the </st><strong class="source-inline"><st c="26240">describe</st></strong><st c="26248"> command again to make sure the instance is no </st><span class="No-Break"><st c="26295">longer running.</st></span></p>
			<h3><st c="26310">Exploring the AWS CLI</st></h3>
			<p><st c="26332">Explore the </st><a id="_idIndexMarker030"/><st c="26345">AWS CLI further on your own. </st><st c="26374">The syntax is the same for </st><span class="No-Break"><st c="26401">every service:</st></span></p>
			<pre class="console"><st c="26415">
$ aws &lt;command&gt; &lt;subcommand&gt; [options and parameters]</st></pre>			<p><st c="26469">Here’s what each of these </st><span class="No-Break"><st c="26496">commands mean:</st></span></p>
			<ul>
				<li><st c="26510">The base call to the </st><span class="No-Break"><strong class="source-inline"><st c="26532">aws</st></strong></span><span class="No-Break"><st c="26535"> program.</st></span></li>
				<li><st c="26544">The top-level </st><strong class="source-inline"><st c="26559">command</st></strong><st c="26566"> typically corresponds to an AWS service supported by the </st><span class="No-Break"><st c="26624">AWS CLI.</st></span></li>
				<li><st c="26632">The </st><strong class="source-inline"><st c="26637">subcommand</st></strong><st c="26647"> specifies which operation </st><span class="No-Break"><st c="26674">to perform.</st></span></li>
			</ul>
			<p class="callout-heading"><st c="26685">Important note</st></p>
			<p class="callout"><st c="26700">You created an IAM user with </st><strong class="source-inline"><st c="26730">PowerUserAccess</st></strong><st c="26745"> permissions. </st><st c="26759">This grants full access to AWS services and resources, but does not allow the management of users or groups. </st><st c="26868">In production scenarios, you can scope down your user access to a narrower set </st><span class="No-Break"><st c="26947">of permissions.</st></span></p>
			<p><st c="26962">A handy feature of AWS CLI is the </st><strong class="source-inline"><st c="26997">help</st></strong><st c="27001"> feature. </st><st c="27011">You can get help with any command using this. </st><st c="27057">To do so, simply type </st><strong class="source-inline"><st c="27079">help</st></strong><st c="27083"> at the end of a command name. </st><st c="27114">Execute the following commands. </st><st c="27146">The result will be a very verbose description of everything available with </st><span class="No-Break"><st c="27221">those commands:</st></span></p>
			<pre class="console"><st c="27236">
$ aws ec2 help
$ aws ec2 describe-instances help</st></pre>			<p><st c="27285">If navigating command by command is not your thing, you can also find the specific syntax for each</st><a id="_idIndexMarker031"/><st c="27384"> service in AWS CLI Command Reference (</st><a href="https://docs.aws.amazon.com/cli/latest/"><st c="27423">https://docs.aws.amazon.com/cli/latest/</st></a><st c="27463">), but you will see and use more of it in the </st><span class="No-Break"><st c="27510">following chapters.</st></span></p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor027"/><st c="27529">AWS SDK</st></h2>
			<p><st c="27537">The AWS SDKs are a</st><a id="_idIndexMarker032"/><st c="27556"> collection of open-source libraries that provide programmatic access to AWS services from various programming languages including Java, Python, Node.js, .NET, Ruby, Go, PHP, and others. </st><st c="27743">These SDKs allow developers to build applications that interact with AWS resources and services directly, without the need for low-level AWS </st><span class="No-Break"><st c="27884">service APIs.</st></span></p>
			<p><st c="27897">The AWS SDKs abstract away the complexities of making authenticated HTTP/HTTPS requests to AWS services, handling retries and error handling, and parsing the responses from AWS services. </st><st c="28085">They provide a higher-level, language-specific interface that makes it easier for developers to integrate AWS services into </st><span class="No-Break"><st c="28209">their applications.</st></span></p>
			<p><st c="28228">This are considered an advanced concept and you won’t see much of it in this book. </st><st c="28312">It is more often used by application developers. </st><st c="28361">If you are interested in understanding the syntax to create an EC2 instance using the SDK for Python, it’s available under the </st><em class="italic"><st c="28488">Learn the basics</st></em><st c="28504"> section </st><span class="No-Break"><st c="28513">at </st></span><a href="https://docs.aws.amazon.com/code-library/latest/ug/python_3_ec2_code_examples.html"><span class="No-Break"><st c="28516">https://docs.aws.amazon.com/code-library/latest/ug/python_3_ec2_code_examples.html</st></span></a><span class="No-Break"><st c="28598">.</st></span></p>
			<p><st c="28599">From manual actions using the console to semi-automated ones such as the AWS CLI, you’ve not yet </st><a id="_idIndexMarker033"/><st c="28697">witnessed the full potential of automation. </st><st c="28741">In the next section, you will learn how to scale your deployments </st><span class="No-Break"><st c="28807">with IaC.</st></span></p>
			<h1 id="_idParaDest-29"><a id="_idTextAnchor028"/><st c="28816">Understanding IaC</st></h1>
			<p><st c="28834">IaC is an approach </st><a id="_idIndexMarker034"/><st c="28854">to provision and manage resources such as cloud infrastructure. </st><st c="28918">It allows you to define and deploy your resources using human-readable definition files </st><span class="No-Break"><st c="29006">or code.</st></span></p>
			<p><st c="29014">Instead of manually configuring resources through the AWS Console or CLI tools as you saw in previous sections, IaC allows a declarative specification of the desired infrastructure state. </st><st c="29203">In our context, that’s the AWS cloud. </st><st c="29241">This means compute instances, storage, networking, security groups, and other </st><span class="No-Break"><st c="29319">AWS services.</st></span></p>
			<p><st c="29332">By treating your IaC, you will get </st><span class="No-Break"><st c="29368">multiple benefits:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="29386">Configuration consistency</st></strong><st c="29412">: IaC </st><a id="_idIndexMarker035"/><st c="29419">promotes the concept of immutable infrastructure, whereby infrastructure components are treated as disposable and replaceable rather than being manually modified. </st><st c="29582">This approach ensures consistency, reduces configuration drift, and simplifies the process of scaling or </st><span class="No-Break"><st c="29687">updating infrastructure.</st></span></li>
				<li><strong class="bold"><st c="29711">Version control and collaboration</st></strong><st c="29745">: IaC templates and code can be stored in version control systems such as Git, enabling collaboration, code reviews, and tracking of changes to the infrastructure definitions. </st><st c="29922">This promotes best practices in infrastructure management and facilitates knowledge sharing </st><span class="No-Break"><st c="30014">among teams.</st></span></li>
				<li><strong class="bold"><st c="30026">Automated deployments</st></strong><st c="30048">: IaC templates and code can be integrated with </st><strong class="bold"><st c="30097">Continuous Integration and Continuous Deployment</st></strong><st c="30145"> (</st><strong class="bold"><st c="30147">CI/CD</st></strong><st c="30152">) pipelines, enabling </st><a id="_idIndexMarker036"/><st c="30175">automated deployments and updates. </st><st c="30210">This reduces manual effort, minimizes human errors, and ensures consistent and repeatable deployments across different environments (e.g., development, staging, </st><span class="No-Break"><st c="30371">and production).</st></span></li>
				<li><strong class="bold"><st c="30387">Infrastructure testing and validation</st></strong><st c="30425">: IaC templates and code can be tested and validated before deployment, ensuring that the defined infrastructure meets the desired specifications and adheres to organizational policies and </st><span class="No-Break"><st c="30615">best practices.</st></span></li>
				<li><strong class="bold"><st c="30630">Cost optimization and resource management</st></strong><st c="30672">: By treating infrastructure as code, organizations can more easily track and manage their AWS resources, enabling better cost optimization and resource utilization strategies. </st><st c="30850">You will no longer forget </st><a id="_idIndexMarker037"/><st c="30876">that one virtual machine </st><span class="No-Break"><st c="30901">running somewhere.</st></span></li>
			</ul>
			<p><st c="30919">There are multiple IaC tools. </st><st c="30950">AWS provides its own native IaC tools such as AWS CloudFormation, which allows users to define their infrastructure resources using JSON or YAML templates. </st><st c="31106">It also provides the </st><a id="_idIndexMarker038"/><st c="31127">AWS </st><strong class="bold"><st c="31131">Cloud Development Kit</st></strong><st c="31152"> (</st><strong class="bold"><st c="31154">CDK</st></strong><st c="31157">). </st><st c="31161">This is not to be confused with AWS SDK, which offers a higher-level abstraction over CloudFormation, enabling developers to define AWS constructs using familiar programming languages such as TypeScript, Python, Java, </st><span class="No-Break"><st c="31379">and C#.</st></span></p>
			<p><st c="31386">Beyond AWS-native tools, there are also plenty of third-party IaC solutions such as </st><strong class="bold"><st c="31471">Terraform</st></strong><st c="31480">. Terraform</st><a id="_idIndexMarker039"/><st c="31491"> is cloud-agnostic; it supports a wide range of cloud providers, including AWS, and provides a consistent workflow for managing infrastructure across multiple platforms. </st><st c="31661">It is one of the most well-known </st><span class="No-Break"><st c="31694">IaC tools.</st></span></p>
			<p><st c="31704">Choosing an IaC tool </st><a id="_idIndexMarker040"/><st c="31726">boils down to personal preference, existing skills, and specific features each tool can offer. </st><st c="31821">In this book, you will get hands-on experience with CloudFormation and Terraform. </st><st c="31903">However, if you are interested in this topic, AWS offers prescriptive guidance on how to choose an IaC tool </st><span class="No-Break"><st c="32011">at </st></span><a href="https://docs.aws.amazon.com/prescriptive-guidance/latest/choose-iac-tool/introduction.html"><span class="No-Break"><st c="32014">https://docs.aws.amazon.com/prescriptive-guidance/latest/choose-iac-tool/introduction.html</st></span></a><span class="No-Break"><st c="32104">.</st></span></p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor029"/><st c="32105">Using CloudFormation</st></h2>
			<p><st c="32126">In this section, you</st><a id="_idIndexMarker041"/><st c="32147"> will create an EC2 instance </st><a id="_idIndexMarker042"/><st c="32176">using CloudFormation. </st><st c="32198">This is an introductory section; it won’t dive deep into all CloudFormation syntax </st><span class="No-Break"><st c="32281">and features.</st></span></p>
			<p><st c="32294">To get started, follow </st><span class="No-Break"><st c="32318">these steps:</st></span></p>
			<ol>
				<li><st c="32330">Create the following file in your local environment; it is a YAML template to create one EC2 instance of the specified AMI and </st><span class="No-Break"><strong class="source-inline"><st c="32458">t2.micro</st></strong></span><span class="No-Break"><st c="32466"> size:</st></span><pre class="source-code"><st c="32472">
Resources:
  NewEC2Instance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: "ami-0c101f26f147fa7fd"
      InstanceType: "t2.micro"</st></pre><p class="list-inset"><st c="32594">Notice how human-readable CloudFormation is in YAML format. </st><st c="32655">This is one of </st><span class="No-Break"><st c="32670">its advantages.</st></span></p></li>				<li><st c="32685">Navigate to CloudFormation using the AWS Console at </st><a href="https://us-east-1.console.aws.amazon.com/cloudformation"><st c="32738">https://us-east-1.console.aws.amazon.com/cloudformation</st></a><st c="32793"> and select </st><span class="No-Break"><strong class="bold"><st c="32805">Create stack</st></strong></span><span class="No-Break"><st c="32817">.</st></span></li>
				<li><st c="32818">Select </st><strong class="bold"><st c="32826">Upload a template file</st></strong><st c="32848"> and choose your previously created </st><strong class="source-inline"><st c="32884">ec2.yml</st></strong><st c="32891">, and </st><span class="No-Break"><st c="32897">select </st></span><span class="No-Break"><strong class="bold"><st c="32904">Next</st></strong></span><span class="No-Break"><st c="32908">.</st></span></li>
				<li><st c="32909">Give </st><a id="_idIndexMarker043"/><st c="32915">the stack </st><span class="No-Break"><st c="32925">a name.</st></span></li>
				<li><st c="32932">Skip through all the options and deploy </st><span class="No-Break"><st c="32973">the stack.</st></span></li>
			</ol>
			<p><st c="32983">At the end of the deployment process, the status of your stack should show </st><strong class="bold"><st c="33059">CREATE_COMPLETE</st></strong><st c="33074">. If the deployment isn’t created successfully, verify that you are using the </st><span class="No-Break"><strong class="source-inline"><st c="33152">us-east-1</st></strong></span><span class="No-Break"><st c="33161"> region.</st></span></p>
			<p><st c="33169">You can verify the EC2 you just created by navigating to the EC2 service. </st><st c="33244">Confirm that it has the correct size </st><span class="No-Break"><st c="33281">and AMI.</st></span></p>
			<p><st c="33289">Don’t worry if you don’t fully understand the whole process. </st><st c="33351">CloudFormation is a world of its own with specific syntax and features. </st><st c="33423">Navigate through your stack details; you will be able to find many characteristics, such as when was it created, by whom it was created, and which resources were created and in what order, as well as more advanced concepts such as parameters </st><span class="No-Break"><st c="33665">and outputs.</st></span></p>
			<p><st c="33677">To learn more about CloudFormation, you can use official AWS </st><span class="No-Break"><st c="33739">documentation: </st></span><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html"><span class="No-Break"><st c="33754">https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html</st></span></a><span class="No-Break"><st c="33829">.</st></span></p>
			<p><st c="33830">Before moving on, to stop you from incurring extra costs, don’t forget to delete your EC2. </st><st c="33922">To delete all </st><a id="_idIndexMarker044"/><st c="33936">stack’s resources, select </st><a id="_idIndexMarker045"/><st c="33962">your stack and </st><span class="No-Break"><st c="33977">click </st></span><span class="No-Break"><strong class="bold"><st c="33983">Delete</st></strong></span><span class="No-Break"><st c="33989">.</st></span></p>
			<h2 id="_idParaDest-31"><a id="_idTextAnchor030"/><st c="33990">Using Terraform</st></h2>
			<p><st c="34006">You will now create </st><a id="_idIndexMarker046"/><st c="34027">another EC2 instance, this </st><a id="_idIndexMarker047"/><st c="34054">time using Terraform. </st><st c="34076">This section assumes that you already have your terminal configured with your AWS credentials the exercise in the previous </st><em class="italic"><st c="34199">AWS </st></em><span class="No-Break"><em class="italic"><st c="34203">CLI</st></em></span><span class="No-Break"><st c="34206"> section.</st></span></p>
			<p><st c="34215">Here’s how to </st><span class="No-Break"><st c="34230">do it:</st></span></p>
			<ol>
				<li><st c="34236">Create a file in your local workstation, in any directory, and name </st><span class="No-Break"><st c="34305">it </st></span><span class="No-Break"><strong class="source-inline"><st c="34308">ec2.tf</st></strong></span><span class="No-Break"><st c="34314">.</st></span></li>
				<li><st c="34315">Populate it with the following code that creates an EC2 of the smallest instance type, </st><strong class="source-inline"><st c="34403">t2.micro</st></strong><st c="34411">, in </st><strong class="source-inline"><st c="34416">us-east-1</st></strong><st c="34425">, using the AMI ID. </st><st c="34445">This effectively means using Amazon </st><span class="No-Break"><st c="34481">Linux 2023:</st></span><pre class="source-code"><st c="34492">
provider "aws"{
    region = "us-east-1"
}
resource "aws_instance" "ec2" {
  ami           = "ami-0c101f26f147fa7fd"
  instance_type = "t2.micro"
}</st></pre><p class="list-inset"><st c="34622">Notice that the </st><strong class="bold"><st c="34639">HashiCorp Configuration Language</st></strong><st c="34671"> (</st><strong class="bold"><st c="34673">HCL</st></strong><st c="34676">) code is still human-readable, albeit </st><a id="_idIndexMarker048"/><st c="34716">perhaps a bit less so than the </st><span class="No-Break"><st c="34747">CloudFormation YAML.</st></span></p></li>			</ol>
			<p class="callout-heading"><st c="34767">Important note</st></p>
			<p class="callout"><st c="34782">AMI IDs are different in each region. </st><st c="34821">If you are using a different region than </st><strong class="source-inline"><st c="34862">us-east-1</st></strong><st c="34871">, and you want to use Amazon Linux 2023, you will need to find the corresponding </st><span class="No-Break"><st c="34952">AMI ID.</st></span></p>
			<ol>
				<li value="3"><st c="34959">To execute Terraform code, you need to have it installed. </st><st c="35018">The installation is beyond the scope of this book. </st><st c="35069">It differs per operating system but it’s a straightforward process that you can find good documentation about on the HashiCorp </st><span class="No-Break"><st c="35196">website (</st></span><a href="https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli"><span class="No-Break"><st c="35205">https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli</st></span></a><span class="No-Break"><st c="35285">).</st></span></li>
				<li><st c="35288">When you have it installed, execute the following commands in the same directory where you created your </st><strong class="source-inline"><st c="35393">ec2.tf</st></strong><st c="35399"> file. </st><st c="35406">They initiate Terraform in your environment </st><a id="_idIndexMarker049"/><st c="35450">and apply your previously created template to your AWS account, effectively </st><a id="_idIndexMarker050"/><st c="35526">creating </st><span class="No-Break"><st c="35535">the resources:</st></span><pre class="source-code"><st c="35549">
$ terraform init
$ terraform apply</st></pre><p class="list-inset"><st c="35584">You will be prompted to confirm. </st><st c="35618">If your execution is successful, it will look like the following </st><span class="No-Break"><st c="35683">shortened output:</st></span></p><pre class="source-code"><st c="35700">Terraform used the selected providers to generate the following execution plan. </st><st c="35781">Resource actions are indicated with the following symbols:
  + create
Terraform will perform the following actions:
  # aws_instance.ec2 will be created
  + resource "aws_instance" "ec2" {
</st><strong class="bold"><st c="35964">      + ami                            = "ami-0c101f26f147fa7fd"</st></strong>
<strong class="bold"><st c="35995">      + instance_type                  = "t2.micro</st></strong><st c="36023">"
      ###OUTPUT OMMITED###
      + root_block_device {
          + delete_on_termination = (known after apply)
          + device_name           = (known after apply)
          + encrypted             = (known after apply)
          + iops                  = (known after apply)
          + kms_key_id            = (known after apply)
          + tags                  = (known after apply)
          + tags_all              = (known after apply)
          + throughput            = (known after apply)
          + volume_id             = (known after apply)
          + volume_size           = (known after apply)
          + volume_type           = (known after apply)
        }
    }
Plan: 1 to add, 0 to change, 0 to destroy.
</st><st c="36499">Do you want to perform these actions?
  </st><st c="36537">Terraform will perform the actions described above.
  </st><st c="36589">Only 'yes' will be accepted to approve.
</st><strong class="bold"><st c="36629">  Enter a value: yes</st></strong><st c="36647">
aws_instance.ec2: Creating...
</st><st c="36678">aws_instance.ec2: Still creating... </st><st c="36714">[10s elapsed]
aws_instance.ec2: Still creating... </st><st c="36764">[20s elapsed]
aws_instance.ec2: Still creating... </st><st c="36814">[30s elapsed]
aws_instance.ec2: Creation complete after 34s [id=i-0de732fda772c16cf]
</st><strong class="bold"><st c="36899">Apply complete! </st><st c="36915">Resources: 1 added, 0 changed, 0 destroyed.</st></strong></pre></li>				<li><st c="36958">You can use your AWS Console to navigate through the EC2 that was created. </st><st c="37034">Make sure you verify in the correct region. </st><st c="37078">To delete all the resources, execute the following </st><span class="No-Break"><st c="37129">Terraform command:</st></span><pre class="source-code"><st c="37147">
$ terraform destroy</st></pre></li>			</ol>
			<p><st c="37167">Terraform offers</st><a id="_idIndexMarker051"/><st c="37184"> many more functionalities, such </st><a id="_idIndexMarker052"/><st c="37217">as dry-runs using </st><strong class="source-inline"><st c="37235">terraform plan</st></strong><st c="37249">, or visualizations of the deployed resources through </st><strong class="source-inline"><st c="37303">terraform state list</st></strong><st c="37323">. You can read more about these in the Terraform official documentation </st><span class="No-Break"><st c="37395">at </st></span><a href="https://developer.hashicorp.com/terraform/cli/commands"><span class="No-Break"><st c="37398">https://developer.hashicorp.com/terraform/cli/commands</st></span></a><span class="No-Break"><st c="37452">.</st></span></p>
			<p><st c="37453">Take a look at a practical example of why IaC is useful. </st><st c="37511">Let’s say you needed to create 100 of these machines. </st><st c="37565">You could alter the previous code to </st><span class="No-Break"><st c="37602">the following:</st></span></p>
			<pre class="source-code"><st c="37616">
provider "aws"{
    region = "us-east-1"
}
resource "aws_instance" "ec2" {
  ami           = "ami-0c101f26f147fa7fd"
  instance_type = "t2.micro"
</st><strong class="bold"><st c="37745">  count         = 100</st></strong><st c="37756">
}</st></pre>			<p><st c="37758">Do not run this example because it can incur high costs. </st><st c="37815">However, notice how easy it is compared to </st><a id="_idIndexMarker053"/><st c="37858">doing the same task using the </st><a id="_idIndexMarker054"/><span class="No-Break"><st c="37888">AWS Console.</st></span></p>
			<h1 id="_idParaDest-32"><a id="_idTextAnchor031"/><st c="37900">Summary</st></h1>
			<p><st c="37908">In this chapter, you learned what it means to architect on AWS. </st><st c="37973">It’s not only about deploying AWS services but also about gathering different types of requirements, contrasting those to known patterns and reference architectures, choosing different services, and documenting </st><span class="No-Break"><st c="38184">it all.</st></span></p>
			<p><st c="38191">You also explored the various methods and tools available for deploying and interacting with AWS services after you have your design. </st><st c="38326">The AWS Console provides a user-friendly graphical interface, while the AWS CLI and SDKs enable programmatic access and automation. </st><st c="38458">Additionally, you were exposed to various IaC techniques such as Terraform, CloudFormation, and AWS CDK, which allow you to define and manage your AWS infrastructure </st><span class="No-Break"><st c="38624">using code.</st></span></p>
			<p><st c="38635">By understanding these different approaches, you can choose the most appropriate method based on your requirements and skill level, as well as the complexity of your AWS deployments. </st><st c="38819">Whether you prefer a visual interface, command-line tools, programmatic access, or IaC, AWS offers a range of options to meet your needs and streamline your </st><span class="No-Break"><st c="38976">cloud operations.</st></span></p>
			<p><st c="38993">In the next chapter, you will build a personal website using the </st><span class="No-Break"><st c="39059">AWS Console.</st></span></p>
		</div>
	<div id="charCountTotal" value="39071"/></body></html>