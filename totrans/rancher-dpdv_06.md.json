["```\n# 1st master node\n```", "```\ncurl -sfL https://get.rke2.io | sh -\n```", "```\nmkdir -p /etc/rancher/rke2/\n```", "```\ncat << EOF > /etc/rancher/rke2/config.yaml\n```", "```\nkube-apiserver-arg: \"kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname\"\n```", "```\ntls-san:\n```", "```\n - mgmt01.support.tools\n```", "```\n - mgmt02.support.tools\n```", "```\n - mgmt03.support.tools\n```", "```\n - rke2-vip.support.tools\n```", "```\nnode-taint:\n```", "```\n - \"CriticalAddonsOnly=true:NoExecute\"\n```", "```\nEOF\n```", "```\nsystemctl enable rke2-server.service\n```", "```\nsystemctl start rke2-server.service\n```", "```\n# Capture the node token from the first node\n```", "```\ncat /var/lib/rancher/rke2/server/node-token`\n```", "```\n# 2nd, 3rd master nodes\n```", "```\ncurl -sfL https://get.rke2.io | sh -\n```", "```\nmkdir -p /etc/rancher/rke2/\n```", "```\ncat << EOF > /etc/rancher/rke2/config.yaml\n```", "```\nkube-apiserver-arg: \"kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname\"\n```", "```\ntls-san:\n```", "```\n - mgmt01.support.tools\n```", "```\n - mgmt02.support.tools\n```", "```\n - mgmt03.support.tools\n```", "```\n - rke2-vip.support.tools\n```", "```\nnode-taint:\n```", "```\n - \"CriticalAddonsOnly=true:NoExecute\"\n```", "```\nserver: https://<<Cluster DNS record>>:9345\n```", "```\ntoken: <<Node Token goes here>>\n```", "```\nEOF\n```", "```\nsystemctl enable rke2-server.service\n```", "```\nsystemctl start rke2-server.service\n```", "```\n# Worker nodes\n```", "```\ncurl -sfL https://get.rke2.io | INSTALL_RKE2_TYPE=\"agent\" sh -\n```", "```\nmkdir -p /etc/rancher/rke2/\n```", "```\ncat << EOF > /etc/rancher/rke2/config.yaml\n```", "```\nserver: https://<<Cluster DNS record>>:9345\n```", "```\ntoken: <<Node Token goes here>>\n```", "```\nEOF\n```", "```\nsystemctl enable rke2-agent.service\n```", "```\nsystemctl start rke2-agent.service\n```", "```\nkubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.10.3/manifests/namespace.yaml\nkubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.10.3/manifests/metallb.yaml\n```", "```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: metallb-system\n  name: config\ndata:\n  config: |\n    address-pools:\n    - name: default\n      protocol: layer2\n      addresses:\n      - 192.168.1.240-192.168.1.250\n```", "```\n  annotations:\n    metallb.universe.tf/address-pool: default\n```"]