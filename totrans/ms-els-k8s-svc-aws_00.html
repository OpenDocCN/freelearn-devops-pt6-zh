<html><head></head><body>
		<div id="_idContainer005">
			<h1 id="_idParaDest-5"><a id="_idTextAnchor004"/>Preface</h1>
			<p>Welcome! This is a handy book on using <strong class="bold">Elastic Kubernetes Service</strong> (<strong class="bold">EKS</strong>) to effortlessly deploy and manage your Kubernetes clusters on AWS. With EKS, running Kubernetes on AWS becomes a breeze as you no longer have to worry about the complexity of managing the underlying infrastructure. <strong class="bold">Kubernetes</strong> (<strong class="bold">K8s</strong>) is one the fastest-growing open source projects in the world and is rapidly becoming the de facto container orchestration platform for <span class="No-Break">cloud-native applications.</span></p>
			<p>But for those not familiar with AWS, you might be wondering, <em class="italic">“Why is running Kubernetes on AWS challenging?”</em> There are a few factors that can make it difficult. One of the primary issues is configuring and managing the foundational AWS infrastructure, including virtual networks and security groups. Additionally, managing the resources required for a Kubernetes cluster can pose its own set of challenges. Integrating with other AWS services, such as load balancers and storage, can also introduce complexities. However, EKS has enabled many features to make these things easier, so rest assured that with time and effort, you can become proficient in managing a Kubernetes cluster on AWS – and the rewards will be well <span class="No-Break">worth it.</span></p>
			<p>This book looks at the AWS managed EKS service in detail, from its basic architecture and configuration through to advanced use cases such as GitOps or Service Mesh. The book aims to take the reader from a basic understanding of K8s and the AWS platform to being able to create EKS clusters and build and deploy production workloads <span class="No-Break">on them.</span></p>
			<p>Throughout the book, we will dive into various techniques that enable you to optimize your EKS clusters. The coverage spans a wide range of topics, including networking, security, storage, scaling, observability, service mesh, and cluster upgrade strategies. We have structured this book to provide you with a step-by-step guide to mastering EKS on AWS. Each chapter covers a specific topic and includes practical examples, tips, and best practices to help you understand and apply the concepts in <span class="No-Break">real-world scenarios.</span></p>
			<p>Our intention is not only to equip you with the technical skills required for success, but also to foster a deeper understanding of the underlying concepts so that you can apply them to your own <span class="No-Break">unique situations.</span></p>
			<h1 id="_idParaDest-6"><a id="_idTextAnchor005"/>Who this book is for</h1>
			<p>This book is aimed at engineers and developers with minimal experience of the AWS platform and K8s, who want to understand how to use EKS to run containerized workloads in their environments and integrate them with other AWS services. It’s a practical guide with plenty of code examples, so familiarization with Linux, Python, Terraform, and YAML <span class="No-Break">is recommended.</span></p>
			<p>Overall, there are three main roles as the target audience who will gain practical insights from <span class="No-Break">this book:</span></p>
			<ul>
				<li><strong class="bold">Developers and DevOps engineers</strong>: They will understand the Kubernetes environment on AWS, know how to configure the cluster to run cloud-native applications by using EKS, and learn CI/CD practices.</li>
				<li><strong class="bold">Cloud architects</strong>: They will gain a comprehensive understanding of how to design well-architected cloud infrastructure when running Kubernetes on AWS.</li>
				<li><strong class="bold">Kubernetes administrators</strong>: Cluster administrators will learn the practical operation methods for managing Kubernetes workloads on AWS. Additionally, they will gain a complete understanding of EKS features to enhance cluster scalability, availability, and observability.</li>
			</ul>
			<p>Whether you are just getting started with cloud computing or are looking to expand your knowledge and skills, this book has something for everyone who owns an AWS account and wants to start their <span class="No-Break">EKS journey.</span></p>
			<h1 id="_idParaDest-7"><a id="_idTextAnchor006"/>What this book covers</h1>
			<p><a href="B18129_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic">Chapter 1</em></span></a>, <em class="italic">The Fundamentals of Kubernetes and Containers</em>, covers an introduction to Kubernetes and container technology. It will also deep dive into the elements that constitute a container, the concept of the container orchestrator, and the <span class="No-Break">Kubernetes architecture.</span></p>
			<p><a href="B18129_02.xhtml#_idTextAnchor030"><span class="No-Break"><em class="italic">Chapter 2</em></span></a>, <em class="italic">Introducing Amazon EKS</em>, provides a comprehensive guide to explain what Amazon EKS is, its architecture behind the scenes, its pricing model, and the common mistakes that users may have. This chapter also gives you a brief overview to compare the options for running workloads on AWS: using EKS or a self-managed <span class="No-Break">Kubernetes cluster.</span></p>
			<p><a href="B18129_03.xhtml#_idTextAnchor047"><span class="No-Break"><em class="italic">Chapter 3</em></span></a>, <em class="italic">Building Your First EKS Cluster</em>, explores different options to create your first EKS cluster step by step and gives an overview of the automation process when building your workflow, including the AWS console, AWS CLI, eksctl, AWS CDK, <span class="No-Break">and Terraform.</span></p>
			<p><a href="B18129_04.xhtml#_idTextAnchor067"><span class="No-Break"><em class="italic">Chapter 4</em></span></a>, <em class="italic">Running Your First Application on EKS</em>, covers the different ways you can deploy and operate a simple application on EKS, including how to implement and expose your application to make it accessible externally. It also touches on tools to visualize <span class="No-Break">your workload.</span></p>
			<p><a href="B18129_05.xhtml#_idTextAnchor081"><span class="No-Break"><em class="italic">Chapter 5</em></span></a>, <em class="italic">Using Helm to Manage a Kubernetes Application</em>, focuses on how to install and use Helm to simplify your Kubernetes deployment experience. This chapter also covers the details of Helm charts, their architecture, and common scenarios for <span class="No-Break">their use.</span></p>
			<p><a href="B18129_06.xhtml#_idTextAnchor095"><span class="No-Break"><em class="italic">Chapter 6</em></span></a>, <em class="italic">Securing and Accessing Clusters on EKS</em>, dives into the essential aspects of authentication and authorization in Kubernetes and how they apply to EKS. The chapter explains the significance of configuring client tools and accessing your EKS <span class="No-Break">cluster securely.</span></p>
			<p><a href="B18129_07.xhtml#_idTextAnchor107"><span class="No-Break"><em class="italic">Chapter 7</em></span></a>, <em class="italic">Networking in EKS</em>, explains Kubernetes networking and demonstrates how EKS can be seamlessly integrated with AWS <strong class="bold">Virtual Private </strong><span class="No-Break"><strong class="bold">Cloud</strong></span><span class="No-Break"> (</span><span class="No-Break"><strong class="bold">VPC</strong></span><span class="No-Break">).</span></p>
			<p><a href="B18129_08.xhtml#_idTextAnchor123"><span class="No-Break"><em class="italic">Chapter 8</em></span></a>, <em class="italic">Managing Worker Nodes on EKS</em>, explores the configuration and effective management of EKS worker nodes. It highlights the benefits of using EKS-optimized images (AMIs) and managed node groups, offering insights into their advantages over <span class="No-Break">self-managed alternatives.</span></p>
			<p><a href="B18129_09.xhtml#_idTextAnchor135"><span class="No-Break"><em class="italic">Chapter 9</em></span></a>, <em class="italic">Advanced Networking with EKS</em>, delves into advanced networking scenarios in EKS. It covers topics such as managing Pod IP addresses with IPv6, implementing network policies for traffic control, and utilizing complex network-based information systems such as <span class="No-Break">Multus CNI.</span></p>
			<p><a href="B18129_10.xhtml#_idTextAnchor146"><span class="No-Break"><em class="italic">Chapter 10</em></span></a>, <em class="italic">Upgrading EKS Clusters</em>, focuses on the strategies for upgrading EKS clusters to leverage new features and ensure continued support. It provides guidance on key areas to consider, including in-place and blue/green upgrades of the control plane, critical components, node groups, and migrating workloads to <span class="No-Break">new clusters.</span></p>
			<p><a href="B18129_11.xhtml#_idTextAnchor162"><span class="No-Break"><em class="italic">Chapter 11</em></span></a>, <em class="italic">Building Applications and Pushing Them to Amazon ECR</em>, examines the process of building and storing container images on Amazon ECR for EKS deployments. It covers topics such as repository authentication, pushing container images, utilizing advanced ECR features, and integrating ECR into <span class="No-Break">EKS clusters.</span></p>
			<p><a href="B18129_12.xhtml#_idTextAnchor175"><span class="No-Break"><em class="italic">Chapter 12</em></span></a>, <em class="italic">Deploying Pods with Amazon Storage</em>, explains Kubernetes volumes, <strong class="bold">Container Storage Interface</strong> (<strong class="bold">CSI</strong>), and the need for persistent storage in Kubernetes Pods, and demonstrates the usage of EBS and EFS on EKS. It also covers the details for installing and configuring AWS CSI drivers for utilizing EBS and EFS volumes with <span class="No-Break">your application.</span></p>
			<p><a href="B18129_13.xhtml#_idTextAnchor193"><span class="No-Break"><em class="italic">Chapter 13</em></span></a>, <em class="italic">Using IAM for Granting Access to Applications</em>, discusses Pod security with a scenario on integrating IAM with your containerized applications. It includes defining IAM permissions for Pods, utilizing <strong class="bold">IAM Roles for Service Accounts</strong> (<strong class="bold">IRSA</strong>), and troubleshooting IAM issues specific to <span class="No-Break">EKS deployments.</span></p>
			<p><a href="B18129_14.xhtml#_idTextAnchor205"><span class="No-Break"><em class="italic">Chapter 14</em></span></a>, <em class="italic">Setting Load Balancing for Applications on EKS</em>, explores the concept of load balancing for EKS applications. It also expands the discussion of scalability and resilience and provides insights into the <strong class="bold">Elastic Load Balancer</strong> (<strong class="bold">ELB</strong>) options available <span class="No-Break">in AWS.</span></p>
			<p><a href="B18129_15.xhtml#_idTextAnchor220"><span class="No-Break"><em class="italic">Chapter 15</em></span></a>, <em class="italic">Working with AWS Fargate</em>, introduces AWS Fargate as an alternative serverless option for hosting Pods in EKS. It examines the benefits of using Fargate, provides guidance on creating Fargate profiles, deploying Pods to Fargate environments seamlessly, and troubleshooting common issues that <span class="No-Break">may arise.</span></p>
			<p><a href="B18129_16.xhtml#_idTextAnchor232"><span class="No-Break"><em class="italic">Chapter 16</em></span></a>, <em class="italic">Working with a Service Mesh</em>, explores the use of service mesh technology to enhance control, visibility, and security in microservices-based ecosystems on EKS. The chapter covers the installation of the AWS App Mesh Controller, integration with Pods, leveraging AWS Cloud Map, and troubleshooting the <span class="No-Break">Envoy proxy.</span></p>
			<p><a href="B18129_17.xhtml#_idTextAnchor249"><span class="No-Break"><em class="italic">Chapter 17</em></span></a>, <em class="italic">EKS Observability</em>, describes the importance of observability in EKS deployments and provides insights into monitoring, logging, and tracing techniques. The chapter covers native AWS tools for monitoring EKS clusters and Pods, building dashboards with Managed Prometheus and Grafana, leveraging OpenTelemetry, and utilizing machine learning capabilities to capture cluster status with <span class="No-Break">DevOps Guru.</span></p>
			<p><a href="B18129_18.xhtml#_idTextAnchor264"><span class="No-Break"><em class="italic">Chapter 18</em></span></a>, <em class="italic">Scaling Your EKS Cluster</em>, discusses the challenges of capacity planning in EKS and explores various strategies and tools for scaling your cluster to meet application demands while optimizing cost. The chapter walks through topics such as scaling node groups with Cluster Autoscaler and Karpenter, scaling applications with <strong class="bold">Horizontal Pod Autoscaler </strong>(<strong class="bold">HPA</strong>), describing the use case of custom metrics, and utilizing KEDA to optimize <span class="No-Break">event-driven autoscaling.</span></p>
			<p><a href="B18129_19.xhtml#_idTextAnchor313"><span class="No-Break"><em class="italic">Chapter 19</em></span></a>, <em class="italic">Developing on EKS</em>, explores ways to improve efficiency for developers and DevOps engineers when building EKS clusters. The chapter focuses on different automation tools and CI/CD practices to streamline these activities, including Cloud9, EKS Blueprints, Terraform, CodePipeline, CodeBuild, ArgoCD, and GitOps for <span class="No-Break">workload deployment.</span></p>
			<p><a href="B18129_20.xhtml#_idTextAnchor331"><span class="No-Break"><em class="italic">Chapter 20</em></span></a><em class="italic">, Troubleshooting Common Issues</em>, provides an EKS troubleshooting checklist and discusses common problems and <span class="No-Break">their solutions.</span></p>
			<h1 id="_idParaDest-8"><a id="_idTextAnchor007"/>To get the most out of this book</h1>
			<p>You will need an AWS Account and an operating system to run applications as listed in the table below. To ensure a smooth reading experience, knowledge of basic AWS concepts such <strong class="bold">Virtual Private Cloud </strong>(<strong class="bold">VPC</strong>), <strong class="bold">Elastic Block Storage </strong>(<strong class="bold">EBS</strong>), EC2, <strong class="bold">Elastic Load Balancer </strong>(<strong class="bold">ELB</strong>), <strong class="bold">Identity and Access Management</strong> (<strong class="bold">IAM</strong>), and Kubernetes <span class="No-Break">are recommended.</span></p>
			<table id="table001" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<thead>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Software covered in </strong><span class="No-Break"><strong class="bold">the book</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Prequisite</strong></span></p>
						</td>
					</tr>
				</thead>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Amazon Elastic Kubernetes <span class="No-Break">Service (EKS)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>An <span class="No-Break">AWS Account</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Amazon Command Line Interface (<span class="No-Break">AWS CLI)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Linux/macOS/Linux</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">kubectl</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Linux/macOS/Linux</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">eksctl</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Linux/macOS/Linux</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Helm</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Linux/macOS/Linux</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Lens (<span class="No-Break">Kubernetes IDE)</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Linux/macOS/Linux</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p>In this book, we will explore various tools and learn how to manage Kubernetes clusters on AWS. You can find the latest version and download the required software by following the <span class="No-Break">following guides:</span></p>
			<ul>
				<li>AWS CLI: <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html</a></li>
				<li>kubectl: <a href="https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html">https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html</a></li>
				<li>eksctl: <a href="https://docs.aws.amazon.com/eks/latest/userguide/eksctl.html">https://docs.aws.amazon.com/eks/latest/userguide/eksctl.html</a></li>
				<li>Helm: <a href="https://docs.aws.amazon.com/eks/latest/userguide/helm.html">https://docs.aws.amazon.com/eks/latest/userguide/helm.html</a></li>
				<li>Lens: <a href="https://k8slens.dev/">https://k8slens.dev/</a></li>
			</ul>
			<p>We have tried to make this a practical book with plenty of code examples. To get the most out of this book, you should have basic familiarity with AWS, Linux, YAML, and <span class="No-Break">K8s architecture.</span></p>
			<h1 id="_idParaDest-9"><a id="_idTextAnchor008"/>Download the color images</h1>
			<p>We also provide a PDF file that has color images of the screenshots and diagrams used in this book. You can download it <span class="No-Break">here: </span><a href="https://packt.link/g2oZN"><span class="No-Break">https://packt.link/g2oZN</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-10"><a id="_idTextAnchor009"/>Conventions used</h1>
			<p>There are a number of text conventions used throughout <span class="No-Break">this book.</span></p>
			<p><strong class="source-inline">Code in text</strong>: Indicates code words in text, database table names, folder names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here is an example: “The <strong class="source-inline">MAINTAINER</strong> and <strong class="source-inline">CMD</strong> commands don’t <span class="No-Break">generate layers.”</span></p>
			<p>A block of code is set <span class="No-Break">as follows:</span></p>
			<pre class="source-code">
apiVersion: v1 
kind: Pod 
metadata: 
  name: nginx 
spec: 
  containers:</pre>
			<p>Any command-line input or output is written <span class="No-Break">as follows:</span></p>
			<pre class="console">
<strong class="bold">$ docker run hello-world</strong></pre>
			<p><strong class="bold">Bold</strong>: Indicates a new term, an important word, or words that you see onscreen. For instance, words in menus or dialog boxes appear in <strong class="bold">bold</strong>. Here is an example: “The most common example of this is <strong class="bold">OverlayFS</strong>, which is included in the Linux kernel and used by default <span class="No-Break">by Docker.”</span></p>
			<p class="callout-heading">Tips or important notes</p>
			<p class="callout">Appear like this.</p>
			<h1 id="_idParaDest-11"><a id="_idTextAnchor010"/>Get in touch</h1>
			<p>Feedback from our readers is <span class="No-Break">always welcome.</span></p>
			<p><strong class="bold">General feedback</strong>: If you have questions about any aspect of this book, email us at customercare@packtpub.com and mention the book title in the subject of <span class="No-Break">your message.</span></p>
			<p><strong class="bold">Errata</strong>: Although we have taken every care to ensure the accuracy of our content, mistakes do happen. If you have found a mistake in this book, we would be grateful if you would report this to us. Please visit <a href="http://www.packtpub.com/support/errata">www.packtpub.com/support/errata</a> and fill in <span class="No-Break">the form.</span></p>
			<p><strong class="bold">Piracy</strong>: If you come across any illegal copies of our works in any form on the internet, we would be grateful if you would provide us with the location address or website name. Please contact us at copyright@packt.com with a link to <span class="No-Break">the material.</span></p>
			<p><strong class="bold">If you are interested in becoming an author</strong>: If there is a topic that you have expertise in and you are interested in either writing or contributing to a book, please <span class="No-Break">visit </span><a href="http://authors.packtpub.com"><span class="No-Break">authors.packtpub.com</span></a><span class="No-Break">.</span></p>
			<h1 id="_idParaDest-12"><a id="_idTextAnchor011"/>Share Your Thoughts</h1>
			<p>Once you’ve read <em class="italic">Mastering Elastic Kubernetes Service on AWS</em>, we’d love to hear your thoughts! Please click here to go straight to the Amazon review page for this book and share <span class="No-Break">your feedback.</span></p>
			<p>Your review is important to us and the tech community and will help us make sure we’re delivering excellent <span class="No-Break">quality content.</span></p>
			<h1 id="_idParaDest-13"><a id="_idTextAnchor012"/>Download a free PDF copy of this book</h1>
			<p>Thanks for purchasing <span class="No-Break">this book!</span></p>
			<p>Do you like to read on the go but are unable to carry your print <span class="No-Break">books everywhere?</span></p>
			<p>Is your eBook purchase not compatible with the device of <span class="No-Break">your choice?</span></p>
			<p>Don’t worry, now with every Packt book you get a DRM-free PDF version of that book at <span class="No-Break">no cost.</span></p>
			<p>Read anywhere, any place, on any device. Search, copy, and paste code from your favorite technical books directly into <span class="No-Break">your application.</span></p>
			<p>The perks don’t stop there, you can get exclusive access to discounts, newsletters, and great free content in your <span class="No-Break">inbox daily</span></p>
			<p>Follow these simple steps to get <span class="No-Break">the benefits:</span></p>
			<ol>
				<li>Scan the QR code or visit the link below</li>
			</ol>
			<div>
				<div id="_idContainer004" class="IMG---Figure">
					<img src="image/B18129_QR_Free_PDF.jpg" alt="Download a free PDF copy of this book"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a href="https://packt.link/free-ebook/9781803231211">https://packt.link/free-ebook/9781803231211</a></p>
			<ol>
				<li value="2">Submit your proof of purchase</li>
				<li>That’s it! We’ll send your free PDF and other benefits to your email directly</li>
			</ol>
		</div>
	

		<div id="_idContainer006" class="Content">
			<h1 id="_idParaDest-14"><a id="_idTextAnchor013"/>Part 1: Getting Started with Amazon EKS</h1>
		</div>
		<div id="_idContainer007">
			<p>In this part, you will gain a comprehensive overview of Kubernetes and containers, along with insights into Amazon EKS and its architecture. You will also get your EKS cluster ready by following a step-by-step guide. By the end of this section, you will have learned the basics of deploying and operating an application on EKS, and will know how to utilize Helm to simplify your Kubernetes <span class="No-Break">application deployments.</span></p>
			<p>This section contains the <span class="No-Break">following chapters:</span></p>
			<ul>
				<li><a href="B18129_01.xhtml#_idTextAnchor014"><em class="italic">Chapter 1</em></a>, <em class="italic">The Fundamentals of Kubernetes and Containers</em></li>
				<li><a href="B18129_02.xhtml#_idTextAnchor030"><em class="italic">Chapter 2</em></a>, <em class="italic">Introducing Amazon EKS</em></li>
				<li><a href="B18129_03.xhtml#_idTextAnchor047"><em class="italic">Chapter 3</em></a>, <em class="italic">Building Your First EKS Cluster</em></li>
				<li><a href="B18129_04.xhtml#_idTextAnchor067"><em class="italic">Chapter 4</em></a>, <em class="italic">Running Your First Application on EKS</em></li>
				<li><a href="B18129_05.xhtml#_idTextAnchor081"><em class="italic">Chapter 5</em></a>, <em class="italic">Using Helm to Manage a Kubernetes Application</em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer008">
			</div>
		</div>
		<div>
			<div id="_idContainer009" class="Basic-Graphics-Frame">
			</div>
		</div>
		<div>
			<div id="_idContainer010">
			</div>
		</div>
	</body></html>