<html><head></head><body>
<div id="_idContainer314">
<h1 class="chapter-number" id="_idParaDest-193"><a id="_idTextAnchor193"/><span class="koboSpan" id="kobo.1.1">10</span></h1>
<h1 id="_idParaDest-194"><a id="_idTextAnchor194"/><span class="koboSpan" id="kobo.2.1">Realizing Full-Stack Visibility with VMware Aria Operations for Applications</span></h1>
<p><span class="koboSpan" id="kobo.3.1">In the last chapter, we learned how we can use Tanzu Mission Control to manage hundreds of Kubernetes clusters for their lifecycle management, policy control, and data protection. </span><span class="koboSpan" id="kobo.3.2">Tanzu Mission Control is a single point of control for all these concerns for Kubernetes. </span><span class="koboSpan" id="kobo.3.3">In this chapter, we will talk about a central point of visibility for your cloud-native apps running in containers, along with all other supporting layers and systems around them. </span><span class="koboSpan" id="kobo.3.4">Knowing the vital health status of your systems is a very old and essential concept in the </span><a id="_idIndexMarker853"/><span class="koboSpan" id="kobo.4.1">world of information technology that is known as </span><em class="italic"><span class="koboSpan" id="kobo.5.1">monitoring</span></em><span class="koboSpan" id="kobo.6.1">. </span><span class="koboSpan" id="kobo.6.2">It is also known as telemetry. </span><span class="koboSpan" id="kobo.6.3">The tools we used for years to monitor traditional monolithic applications would not yield the required results when it comes to monitoring microservices running on different clusters, platforms, and clouds. </span><span class="koboSpan" id="kobo.6.4">With microservices, the world is very distributed. </span><span class="koboSpan" id="kobo.6.5">Typically, microservices run in containers, and containers are ephemeral – they quickly come and go. </span><span class="koboSpan" id="kobo.6.6">In that scenario, the continuity of a microservice’s context becomes very important, as they could be running in a different container after a few minutes, unlike traditional apps that would not leave their virtual and physical host for years. </span><span class="koboSpan" id="kobo.6.7">Adding more to this complexity of running microservices, they have to deal with substantial cardinality, including the larger apps they belong to, the environments they are deployed to, and the node, cluster, availability zone, and regions they are deployed to, among other things. </span><span class="koboSpan" id="kobo.6.8">We need a different approach to monitor them, as they run differently. </span><span class="koboSpan" id="kobo.6.9">To some extent, deploying apps in containers is like sending a spacecraft on a Mars mission. </span><span class="koboSpan" id="kobo.6.10">We don’t know where the container will physically end up – we can only rely on the health vitals that it emits at a regular frequency and course-correct if required. </span><span class="koboSpan" id="kobo.6.11">Traditional monitoring tools would not have helped in these conditions. </span><span class="koboSpan" id="kobo.6.12">When we have millions of transactions, thousands of containers, hundreds of nodes, and tens of data centers, we need powerful observability. </span><span class="koboSpan" id="kobo.6.13">VMware Aria Operations for Applications (formerly known as Tanzu Observability by Wavefront) is the tool in the Tanzu portfolio that addresses this need for modern </span><span class="No-Break"><span class="koboSpan" id="kobo.7.1">application management.</span></span></p>
<p><span class="koboSpan" id="kobo.8.1">In May 2017, VMware acquired Wavefront, a privately held company in Palo Alto, California. </span><span class="koboSpan" id="kobo.8.2">The power of Wavefront comes from its ability to ingest millions of metrics and other data points coming from hundreds of locations in real time and render point-in-time charts and alerts for correlated visibility. </span><span class="koboSpan" id="kobo.8.3">Later, Wavefront became a part of the Tanzu portfolio to add an essential piece of the puzzle to the mix – observability. </span><span class="koboSpan" id="kobo.8.4">Hence, any reference to Wavefront in this chapter or the standard product documentation refers to VMware Aria Operations for Applications. </span><span class="koboSpan" id="kobo.8.5">For brevity, we will refer to it as </span><em class="italic"><span class="koboSpan" id="kobo.9.1">Aria</span></em><span class="koboSpan" id="kobo.10.1"> in this chapter and will cover it in detail with the </span><span class="No-Break"><span class="koboSpan" id="kobo.11.1">following topics:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.12.1">Why Aria?</span></strong><span class="koboSpan" id="kobo.13.1"> – covering various features and capabilities of </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">this tool</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.15.1">Unboxing Aria</span></strong><span class="koboSpan" id="kobo.16.1"> – covering key concepts, components, and the common deployment architecture of </span><span class="No-Break"><span class="koboSpan" id="kobo.17.1">the tool</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.18.1">Getting started with Aria</span></strong><span class="koboSpan" id="kobo.19.1"> – covering the integration of a Kubernetes cluster and an application with </span><span class="No-Break"><span class="koboSpan" id="kobo.20.1">the tool</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.21.1">Working with charts and dashboards</span></strong><span class="koboSpan" id="kobo.22.1"> – covering a high-level understanding of building charts and creating new dashboards with </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">the tool</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.24.1">Working with alerts</span></strong><span class="koboSpan" id="kobo.25.1"> – covering the details of how to create, manage, and observe alerts with </span><span class="No-Break"><span class="koboSpan" id="kobo.26.1">the tool</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.27.1">There are several other facets of Aria that we have to skip to keep the chapter at an acceptable length. </span><span class="koboSpan" id="kobo.27.2">Aria is a very powerful tool that can perform various operations around </span><a id="_idIndexMarker854"/><span class="koboSpan" id="kobo.28.1">observability and </span><strong class="bold"><span class="koboSpan" id="kobo.29.1">application performance management</span></strong><span class="koboSpan" id="kobo.30.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.31.1">APM</span></strong><span class="koboSpan" id="kobo.32.1">), but considering the broader scope of the book, we will only cover the details related to microservices, containers, and Kubernetes monitoring. </span><span class="koboSpan" id="kobo.32.2">With that understanding, let’s begin our journey </span><span class="No-Break"><span class="koboSpan" id="kobo.33.1">of observability.</span></span></p>
<h1 id="_idParaDest-195"><a id="_idTextAnchor195"/><span class="koboSpan" id="kobo.34.1">Why Aria?</span></h1>
<p><span class="koboSpan" id="kobo.35.1">Aria is an </span><a id="_idIndexMarker855"/><span class="koboSpan" id="kobo.36.1">observability tool rather than a monitoring tool. </span><span class="koboSpan" id="kobo.36.2">A monitoring tool can tell you that an application is running slowly, but an observability tool can help you find the root cause for the application being slow. </span><span class="koboSpan" id="kobo.36.3">This is because it allows you to correlate the health indicators coming from all the surrounding components that could impact an application’s performance. </span><span class="koboSpan" id="kobo.36.4">It could be an issue at the </span><strong class="bold"><span class="koboSpan" id="kobo.37.1">operating system</span></strong><span class="koboSpan" id="kobo.38.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.39.1">OS</span></strong><span class="koboSpan" id="kobo.40.1">) layer or a slow-running query in a database. </span><span class="koboSpan" id="kobo.40.2">The main strength of an observability tool is its ability to ingest data points from all possible systems and layers and for all different health indicators that could make a significant event. </span><span class="koboSpan" id="kobo.40.3">It then allows you to find the needle in the haystack by reducing the noise of irrelevant data by applying correlation formulas to the collected data. </span><span class="koboSpan" id="kobo.40.4">An observability tool can help you identify abnormal traffic patterns, latencies, error rates, and many more attributes, based on historical data patterns. </span><span class="koboSpan" id="kobo.40.5">For example, the average request rate per second for an application during the midnight hours would be different from that during the day generally. </span><span class="koboSpan" id="kobo.40.6">Hence, an observability tool could alert you if it saw an abnormal request rate for an application </span><a id="_idIndexMarker856"/><span class="koboSpan" id="kobo.41.1">depending on the timeframe. </span><span class="koboSpan" id="kobo.41.2">The abilities of these tools help identify anomalies long before they become too-late, </span><span class="No-Break"><span class="koboSpan" id="kobo.42.1">expensive discoveries.</span></span></p>
<p><span class="koboSpan" id="kobo.43.1">With the rise of microservices and containerized platforms, </span><em class="italic"><span class="koboSpan" id="kobo.44.1">observability</span></em><span class="koboSpan" id="kobo.45.1"> has become a buzzword in recent times. </span><span class="koboSpan" id="kobo.45.2">There are various open source and commercial solutions available on the market offering somewhat similar capabilities in this space. </span><span class="koboSpan" id="kobo.45.3">Like other chapters, the idea of this section is not to compare Aria with any other observability tool, but to highlight what makes Aria a compelling choice with its own unique capabilities. </span><span class="koboSpan" id="kobo.45.4">Let’s look at some of the points in this regard to answer </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.46.1">Why Aria?</span></em></span></p>
<h2 id="_idParaDest-196"><a id="_idTextAnchor196"/><span class="koboSpan" id="kobo.47.1">Integrating (almost) anything</span></h2>
<p><span class="koboSpan" id="kobo.48.1">As discussed before, the power of observability depends on the data being ingested from various </span><a id="_idIndexMarker857"/><span class="koboSpan" id="kobo.49.1">layers and the tools supporting critical business systems. </span><span class="koboSpan" id="kobo.49.2">For this, we may need to ingest metrics, events, histograms, and logs from many different systems. </span><span class="koboSpan" id="kobo.49.3">They could be various infrastructure platforms such as </span><strong class="bold"><span class="koboSpan" id="kobo.50.1">Amazon Web Services</span></strong><span class="koboSpan" id="kobo.51.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.52.1">AWS</span></strong><span class="koboSpan" id="kobo.53.1">) or Azure public clouds; on-premises vSphere stacks; OSs such </span><a id="_idIndexMarker858"/><span class="koboSpan" id="kobo.54.1">as Windows, Ubuntu, Photon, or RedHat; middleware layers such as the Tomcat server; Spring Boot- and NodeJS-like application frameworks; various caches; RDBMSes; NoSQL and queues as data sources; and several other components for alerting, containerization, visualization, end user analytics, and so on. </span><span class="koboSpan" id="kobo.54.2">To cater to this need, Aria supports over 250 integrations out of the box. </span><span class="koboSpan" id="kobo.54.3">These integrations are well documented to aid self-help configuration. </span><span class="koboSpan" id="kobo.54.4">Many popular integrations such as Kubernetes, popular public cloud services, and application frameworks come with canned sets of dashboards and alerts, facilitating the quick value realization of these integrations. </span><span class="koboSpan" id="kobo.54.5">With these out-of-the-box dashboards and alerts, users can see meaningful data within a few minutes of it starting to flow in. </span><span class="koboSpan" id="kobo.54.6">The following are the categories of the out-of-the-box integrations </span><span class="No-Break"><span class="koboSpan" id="kobo.55.1">with Aria:</span></span></p>
<ul>
<li><span class="No-Break"><span class="koboSpan" id="kobo.56.1">VMware products</span></span></li>
<li><span class="koboSpan" id="kobo.57.1">Web application platforms such as .NET, Tomcat, </span><span class="No-Break"><span class="koboSpan" id="kobo.58.1">and nginx</span></span></li>
<li><span class="koboSpan" id="kobo.59.1">Cloud </span><a id="_idIndexMarker859"/><span class="koboSpan" id="kobo.60.1">services of AWS, Azure, and </span><strong class="bold"><span class="koboSpan" id="kobo.61.1">Google Cloud </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.62.1">Platform</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.63.1"> (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.64.1">GCP</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.65.1">)</span></span></li>
<li><span class="koboSpan" id="kobo.66.1">Data stores such as PostgreSQL, Redis, Cassandra, </span><span class="No-Break"><span class="koboSpan" id="kobo.67.1">and Oracle</span></span></li>
<li><span class="koboSpan" id="kobo.68.1">DevOps tools such as Jenkins, GitHub, Chef, Ansible, </span><span class="No-Break"><span class="koboSpan" id="kobo.69.1">and Terraform</span></span></li>
<li><span class="koboSpan" id="kobo.70.1">Messaging platforms such as RabbitMQ </span><span class="No-Break"><span class="koboSpan" id="kobo.71.1">and Kafka</span></span></li>
<li><span class="koboSpan" id="kobo.72.1">Monitoring tools such as AppDynamics, Dynatrace, </span><span class="No-Break"><span class="koboSpan" id="kobo.73.1">and Prometheus</span></span></li>
<li><span class="koboSpan" id="kobo.74.1">OSs such as different flavors of Linux, Windows, </span><span class="No-Break"><span class="koboSpan" id="kobo.75.1">and macOS</span></span></li>
<li><span class="koboSpan" id="kobo.76.1">Application frameworks such as Spring Boot, Python, Go, </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">and Java</span></span></li>
<li><span class="koboSpan" id="kobo.78.1">Alerting systems such as PagerDuty, ServiceNow, </span><span class="No-Break"><span class="koboSpan" id="kobo.79.1">and Slack</span></span></li>
<li><span class="koboSpan" id="kobo.80.1">Authentication providers such as Okta, Google, and Microsoft </span><span class="No-Break"><span class="koboSpan" id="kobo.81.1">Active Directory</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.82.1">This list is </span><a id="_idIndexMarker860"/><span class="koboSpan" id="kobo.83.1">not comprehensive. </span><span class="koboSpan" id="kobo.83.2">There are various tools in each category beyond those listed here. </span><span class="koboSpan" id="kobo.83.3">On top of that, Aria has an extendable framework that allows you to pull in metrics and other health indicators from any system using its plugin-based </span><a id="_idIndexMarker861"/><span class="koboSpan" id="kobo.84.1">model and a </span><strong class="bold"><span class="koboSpan" id="kobo.85.1">software development kit</span></strong><span class="koboSpan" id="kobo.86.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.87.1">SDK</span></strong><span class="koboSpan" id="kobo.88.1">). </span><span class="koboSpan" id="kobo.88.2">As we will see later in the chapter, Aria can get metrics from most systems using an open source metrics collection agent named </span><strong class="bold"><span class="koboSpan" id="kobo.89.1">Telegraf</span></strong><span class="koboSpan" id="kobo.90.1"> (</span><a href="https://github.com/influxdata/telegraf"><span class="koboSpan" id="kobo.91.1">https://github.com/influxdata/telegraf</span></a><span class="koboSpan" id="kobo.92.1">). </span><span class="koboSpan" id="kobo.92.2">Telegraf has </span><a id="_idIndexMarker862"/><span class="koboSpan" id="kobo.93.1">a long list of plugins that make it very extendable. </span><span class="koboSpan" id="kobo.93.2">For the data sources not available as integrations in Aria out of the box, we can create custom integrations with minimal effort. </span><span class="koboSpan" id="kobo.93.3">Additionally, in case an out-of-the-box plugin is not available to ingest data from the source, it can </span><a id="_idIndexMarker863"/><span class="koboSpan" id="kobo.94.1">be custom-developed using the Aria SDK. </span><span class="koboSpan" id="kobo.94.2">Visit </span><a href="https://docs.wavefront.com/wavefront_sdks.html"><span class="koboSpan" id="kobo.95.1">https://docs.wavefront.com/wavefront_sdks.html</span></a><span class="koboSpan" id="kobo.96.1"> for </span><span class="No-Break"><span class="koboSpan" id="kobo.97.1">more details.</span></span></p>
<h2 id="_idParaDest-197"><a id="_idTextAnchor197"/><span class="koboSpan" id="kobo.98.1">Getting full-stack visibility</span></h2>
<p><span class="koboSpan" id="kobo.99.1">Have you </span><a id="_idIndexMarker864"/><span class="koboSpan" id="kobo.100.1">ever realized that when you ran an application in containers, how many different layers were below and around that application? </span><span class="koboSpan" id="kobo.100.2">An application is wrapped in a container. </span><span class="koboSpan" id="kobo.100.3">In Kubernetes, one or more containers are wrapped in a Pod. </span><span class="koboSpan" id="kobo.100.4">These Pods are a part of a Kubernetes node. </span><span class="koboSpan" id="kobo.100.5">A node is often a virtual machine that is running on top of a hypervisor such as vSphere. </span><span class="koboSpan" id="kobo.100.6">The hypervisor sits on top of physical hosts. </span><span class="koboSpan" id="kobo.100.7">These physical hosts are parts of some rack in a data center somewhere in the world. </span><span class="koboSpan" id="kobo.100.8">Additionally, the application could be using external services, such as other dependency apps, an application runtime such as the Tomcat server or Java Runtime Environment, a database, possibly a cache, a messaging queue such as RabbitMQ or Kafka, and many other supporting services. </span><span class="koboSpan" id="kobo.100.9">When we need to monitor an environment of many containers, monitoring all these layers below applications </span><a id="_idIndexMarker865"/><span class="koboSpan" id="kobo.101.1">and their supporting services becomes crucial to quickly find out the root cause of failures and quickly address them. </span><span class="koboSpan" id="kobo.101.2">This is made possible when you have the ability to collect health vitals from all these sources and visualize them meaningfully or establish an alerting system using a single tool. </span><strong class="bold"><span class="koboSpan" id="kobo.102.1">Site reliability engineering</span></strong><span class="koboSpan" id="kobo.103.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.104.1">SRE</span></strong><span class="koboSpan" id="kobo.105.1">) teams often struggle when there are different </span><a id="_idIndexMarker866"/><span class="koboSpan" id="kobo.106.1">tools for monitoring different systems, such as a separate tool for application monitoring, a separate tool for Kubernetes monitoring, a separate tool for virtual infrastructure monitoring, and so on. </span><span class="koboSpan" id="kobo.106.2">When we have several monitoring tools to investigate during an outage situation, making sense of the health data available becomes very difficult and results in a loss of context. </span><span class="koboSpan" id="kobo.106.3">This happens because different tools use different methods of rendering the collected health data and the teams using them use different terms and language. </span><span class="koboSpan" id="kobo.106.4">In these conditions, a common way to filter the metrics collected for a specific timeframe and other conditions for all the sources potentially affected can quickly help corner an issue. </span><span class="koboSpan" id="kobo.106.5">This way, we can quickly point out that a slow-running application in a container is actually being slowed down by a high CPU host </span><span class="No-Break"><span class="koboSpan" id="kobo.107.1">temperature condition.</span></span></p>
<p><span class="koboSpan" id="kobo.108.1">Since Aria can collect health data from almost any source, we can create custom dashboards for custom applications and display health vitals from all the surrounding components related to the application. </span><span class="koboSpan" id="kobo.108.2">This way, you can see the memory utilization of an application’s container and of the Kubernetes node on which the container </span><span class="No-Break"><span class="koboSpan" id="kobo.109.1">is deployed.</span></span></p>
<h2 id="_idParaDest-198"><a id="_idTextAnchor198"/><span class="koboSpan" id="kobo.110.1">Ingesting high-volume data in real time</span></h2>
<p><span class="koboSpan" id="kobo.111.1">Aria is </span><a id="_idIndexMarker867"/><span class="koboSpan" id="kobo.112.1">a very powerful cloud-based SaaS streaming analytics platform that is highly scalable and efficient at collecting a very large amount of data. </span><span class="koboSpan" id="kobo.112.2">Because of its design, it can potentially support collecting over a million data points per second. </span><span class="koboSpan" id="kobo.112.3">Once this data is collected, we can see it live in its respective monitoring dashboards and it can be used to calculate any preconfigured alert conditions with Aria’s powerful query engine to pull ingested data in </span><span class="No-Break"><span class="koboSpan" id="kobo.113.1">real time.</span></span></p>
<h2 id="_idParaDest-199"><a id="_idTextAnchor199"/><span class="koboSpan" id="kobo.114.1">Retaining full-fidelity data for a long time</span></h2>
<p><span class="koboSpan" id="kobo.115.1">As we discussed previously, Aria can ingest a very large volume of data – but additionally, it can also retain all metrics data for 18 months as of the time of writing. </span><span class="koboSpan" id="kobo.115.2">This is </span><a id="_idIndexMarker868"/><span class="koboSpan" id="kobo.116.1">unlike other observability tools that either store this data for a shorter time period or with some level of aggregation applied to it to reduce the amount after a specific period. </span><span class="koboSpan" id="kobo.116.2">With the help of Aria’s full-fidelity metrics retention capability, we can compare a system’s performance and state for a past timeframe as long as 18 months. </span><span class="koboSpan" id="kobo.116.3">However, health data types such as histograms and span logs have a smaller retention period. </span><span class="koboSpan" id="kobo.116.4">We will discuss histograms and span logs later in </span><span class="No-Break"><span class="koboSpan" id="kobo.117.1">the chapter.</span></span></p>
<h2 id="_idParaDest-200"><a id="_idTextAnchor200"/><span class="koboSpan" id="kobo.118.1">Writing powerful data extraction queries</span></h2>
<p><span class="koboSpan" id="kobo.119.1">Ingesting a lot of data from various sources with a long retention period in a time-series database </span><a id="_idIndexMarker869"/><span class="koboSpan" id="kobo.120.1">is of little use if we cannot pull it in the way we want with specific filters, aggregations, and correlations to other similar data points. </span><span class="koboSpan" id="kobo.120.2">Aria has a detailed query language that enables data extraction with all these abilities. </span><span class="koboSpan" id="kobo.120.3">These queries can incorporate a subset form of regular expressions (Regex), wildcard characters, aliases for simplified references, variables, relational operators, arithmetic operators, and several types of data manipulation functions. </span><span class="koboSpan" id="kobo.120.4">These functions can be categorized </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">as follows:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.122.1">Aggregation functions such as sum, average, minimum, maximum, and </span><span class="No-Break"><span class="koboSpan" id="kobo.123.1">many others</span></span></li>
<li><span class="koboSpan" id="kobo.124.1">Filtering and comparison functions such as between, top, bottom, random, and </span><span class="No-Break"><span class="koboSpan" id="kobo.125.1">many more</span></span></li>
<li><span class="koboSpan" id="kobo.126.1">Time operation functions such as rate, rate difference, year, month, day, and </span><span class="No-Break"><span class="koboSpan" id="kobo.127.1">many more</span></span></li>
<li><span class="koboSpan" id="kobo.128.1">Moving window functions for aggregated operations for a moving time window of data – for example, getting the average CPU usage of a host for the </span><span class="No-Break"><span class="koboSpan" id="kobo.129.1">past hour</span></span></li>
<li><span class="koboSpan" id="kobo.130.1">Missing data functions to replace missing data values with </span><span class="No-Break"><span class="koboSpan" id="kobo.131.1">specific values</span></span></li>
<li><span class="koboSpan" id="kobo.132.1">Conditional functions such as </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.133.1">if</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.134.1"> blocks</span></span></li>
<li><span class="koboSpan" id="kobo.135.1">Exponential and trigonometric functions such as getting square roots, exponential, sin, cos, and a </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">few more</span></span></li>
<li><span class="koboSpan" id="kobo.137.1">Metadata functions temporarily renaming metrics and sources or creating a custom point tag on the time series of </span><span class="No-Break"><span class="koboSpan" id="kobo.138.1">data values</span></span></li>
<li><span class="koboSpan" id="kobo.139.1">String </span><a id="_idIndexMarker870"/><span class="koboSpan" id="kobo.140.1">functions to manipulate </span><span class="No-Break"><span class="koboSpan" id="kobo.141.1">string values</span></span></li>
<li><span class="koboSpan" id="kobo.142.1">Predictive analytical functions to predict certain values or </span><span class="No-Break"><span class="koboSpan" id="kobo.143.1">find outliers</span></span></li>
<li><span class="koboSpan" id="kobo.144.1">Histogram processing functions to manipulate ingested </span><span class="No-Break"><span class="koboSpan" id="kobo.145.1">event data</span></span></li>
<li><span class="koboSpan" id="kobo.146.1">Event processing functions to manipulate ingested </span><span class="No-Break"><span class="koboSpan" id="kobo.147.1">event data</span></span></li>
<li><span class="koboSpan" id="kobo.148.1">Distributed traces and spans functions to find and filter trace data sent </span><span class="No-Break"><span class="koboSpan" id="kobo.149.1">by applications</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.150.1">Application performance index</span></strong><span class="koboSpan" id="kobo.151.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.152.1">Apdex</span></strong><span class="koboSpan" id="kobo.153.1">) </span><span class="No-Break"><span class="koboSpan" id="kobo.154.1">score </span></span><span class="No-Break"><a id="_idIndexMarker871"/></span><span class="No-Break"><span class="koboSpan" id="kobo.155.1">functions</span></span></li>
</ul>
<p class="callout-heading"><span class="koboSpan" id="kobo.156.1">What is an Apdex score?</span></p>
<p class="callout"><span class="koboSpan" id="kobo.157.1">Apdex is an </span><a id="_idIndexMarker872"/><span class="koboSpan" id="kobo.158.1">open standard intended to simplify reports on application performance. </span><span class="koboSpan" id="kobo.158.2">Apdex analyzes the perceived satisfaction of the application’s end user. </span><span class="koboSpan" id="kobo.158.3">It is not an APM tool. </span><span class="koboSpan" id="kobo.158.4">Apdex numerically scores the level of satisfaction of an end user based on the application responsiveness by calculating the degree to which user expectations compare to the performance on a fractional 0 (no users satisfied) to 1 (all users satisfied) scale. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.159.1">Source: TechTarget.com</span></em></span></p>
<p><span class="koboSpan" id="kobo.160.1">Aria supports around 200 different functions cumulatively under these categories as a part of its query language, which provides a great level of flexibility to get what </span><span class="No-Break"><span class="koboSpan" id="kobo.161.1">we want.</span></span></p>
<h2 id="_idParaDest-201"><a id="_idTextAnchor201"/><span class="koboSpan" id="kobo.162.1">Getting SaaS benefits</span></h2>
<p><span class="koboSpan" id="kobo.163.1">Since Aria is </span><a id="_idIndexMarker873"/><span class="koboSpan" id="kobo.164.1">a SaaS offering, we can quickly get started without heavy preparation. </span><span class="koboSpan" id="kobo.164.2">With a few steps of integration, we can start getting the value out of it – and like most other SaaS solutions, it also supports a </span><em class="italic"><span class="koboSpan" id="kobo.165.1">pay-as-you-go</span></em><span class="koboSpan" id="kobo.166.1"> billing model </span><a id="_idIndexMarker874"/><span class="koboSpan" id="kobo.167.1">calculated in terms of </span><strong class="bold"><span class="koboSpan" id="kobo.168.1">points per second</span></strong><span class="koboSpan" id="kobo.169.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.170.1">PPS</span></strong><span class="koboSpan" id="kobo.171.1">). </span><span class="koboSpan" id="kobo.171.2">To understand what PPS is, let’s review an example. </span><span class="koboSpan" id="kobo.171.3">Let’s say there are 6 containerized apps and each of them sends 10 different metrics every 60 seconds with a total of 60 metric data points per 60 seconds from both containers. </span><span class="koboSpan" id="kobo.171.4">The Kubernetes cluster where these containers are deployed sends 50 different metrics at a frequency of every 10 seconds. </span><span class="koboSpan" id="kobo.171.5">That means we get 300 metric data points total ingested in 60 seconds for the cluster. </span><span class="koboSpan" id="kobo.171.6">Therefore, cumulatively, we have 360 data points from the cluster and the containers running on them in 60 seconds, so that means the data ingestion rate is 6 PPS (360/60). </span><span class="koboSpan" id="kobo.171.7">In this way, Aria calculates the total PPS applicable for the entire account, which is used for </span><span class="No-Break"><span class="koboSpan" id="kobo.172.1">billing purposes.</span></span></p>
<p><span class="koboSpan" id="kobo.173.1">With this, we have concluded our section explaining the potential reasons that make Aria a valuable tool in your toolkit when it comes to managing modern applications, especially running in containers. </span><span class="koboSpan" id="kobo.173.2">We saw how Aria helps you get full-stack visibility by bringing in various sources that can impact your applications. </span><span class="koboSpan" id="kobo.173.3">We also learned about its capacity to ingest a huge amount of data, retain it for a long time, and extract it with a comprehensive query language. </span><span class="koboSpan" id="kobo.173.4">In the next section, we will learn more about Aria including some concepts, terms, and its high-level </span><span class="No-Break"><span class="koboSpan" id="kobo.174.1">deployment architecture.</span></span></p>
<h1 id="_idParaDest-202"><a id="_idTextAnchor202"/><span class="koboSpan" id="kobo.175.1">Unboxing Aria</span></h1>
<p><span class="koboSpan" id="kobo.176.1">After understanding the reasons why and the use cases for which Aria can be a valuable tool to </span><a id="_idIndexMarker875"/><span class="koboSpan" id="kobo.177.1">comprehensively monitor your cloud-native applications, let’s now learn more about the tool to understand what different data formats it can capture, its deployment architecture, and the building blocks that comprise this </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">distributed system.</span></span></p>
<h2 id="_idParaDest-203"><a id="_idTextAnchor203"/><span class="koboSpan" id="kobo.179.1">Supported data formats in Aria</span></h2>
<p><span class="koboSpan" id="kobo.180.1">The following </span><a id="_idIndexMarker876"/><span class="koboSpan" id="kobo.181.1">is the list of different data formats that Aria can ingest and then use to generate useful charts, dashboards, </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">and alerts.</span></span></p>
<h3><span class="koboSpan" id="kobo.183.1">Metrics</span></h3>
<p><span class="koboSpan" id="kobo.184.1">A metric is </span><a id="_idIndexMarker877"/><span class="koboSpan" id="kobo.185.1">a small text-based record that carries the state data </span><a id="_idIndexMarker878"/><span class="koboSpan" id="kobo.186.1">of a source being monitored at a specific timestamp. </span><span class="koboSpan" id="kobo.186.2">It may optionally have other tags for additional metadata that can be used to build useful queries for joins and filters. </span><span class="koboSpan" id="kobo.186.3">The most common form of metrics is time-series-based. </span><span class="koboSpan" id="kobo.186.4">We use it to report things such as the amount of a server’s memory occupied at any given point </span><span class="No-Break"><span class="koboSpan" id="kobo.187.1">in time:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer254">
<span class="koboSpan" id="kobo.188.1"><img alt="Figure 1﻿0.1 – A time-series metrics chart example" src="image/B18145_10_01.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.189.1">Figure 10.1 – A time-series metrics chart example</span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.190.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.191.1">.1</span></em><span class="koboSpan" id="kobo.192.1"> gives us a simple chart in Aria showing how time-series metrics data would look. </span><span class="koboSpan" id="kobo.192.2">In this case, the chart shows the CPU utilization of the nodes of a cluster named </span><strong class="bold"><span class="koboSpan" id="kobo.193.1">kerrupt</span></strong><span class="koboSpan" id="kobo.194.1"> for the </span><span class="No-Break"><span class="koboSpan" id="kobo.195.1">given period.</span></span></p>
<p><span class="koboSpan" id="kobo.196.1">A metric can contain a </span><strong class="bold"><span class="koboSpan" id="kobo.197.1">gauge</span></strong><span class="koboSpan" id="kobo.198.1"> value, which is the current value of the indicator for each point in time, such as the current available CPU for a server under observation. </span><span class="koboSpan" id="kobo.198.2">The values of the gauge metrics are not related to the previous values. </span><span class="koboSpan" id="kobo.198.3">A metric may also be of a </span><strong class="bold"><span class="koboSpan" id="kobo.199.1">counter</span></strong><span class="koboSpan" id="kobo.200.1"> type, which is an incremental value at any point in time, such as the number of orders placed since the counter was reset. </span><span class="koboSpan" id="kobo.200.2">Finally, a metric can also be of the </span><strong class="bold"><span class="koboSpan" id="kobo.201.1">delta counter</span></strong><span class="koboSpan" id="kobo.202.1"> type and report a subset value of a group of similar sources. </span><span class="koboSpan" id="kobo.202.2">For example, if you have multiple copies of a containerized application that processes orders, each copy of those application containers can report a delta value of the orders that it has processed. </span><span class="koboSpan" id="kobo.202.3">In these conditions, there is no way that one container can report the total value of the orders processed by all the copies of that application’s containers. </span><span class="koboSpan" id="kobo.202.4">In that case, Aria can group these delta counter values to produce a cumulative value of the total </span><a id="_idIndexMarker879"/><span class="koboSpan" id="kobo.203.1">orders processed by the application. </span><span class="koboSpan" id="kobo.203.2">Learn more about metrics in Aria </span><span class="No-Break"><span class="koboSpan" id="kobo.204.1">here: </span></span><a href="https://docs.wavefront.com/metrics_managing.html"><span class="No-Break"><span class="koboSpan" id="kobo.205.1">https://docs.wavefront.com/metrics_managing.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.206.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.207.1">Histograms</span></h3>
<p><span class="koboSpan" id="kobo.208.1">While Aria can receive a large number of data points per second as a whole system, it can only </span><a id="_idIndexMarker880"/><span class="koboSpan" id="kobo.209.1">store one data point per second for a combination of a source and its metric name. </span><span class="koboSpan" id="kobo.209.2">For example, you have a load balancer in front of a </span><a id="_idIndexMarker881"/><span class="koboSpan" id="kobo.210.1">very busy system, which receives hundreds of requests per second. </span><span class="koboSpan" id="kobo.210.2">In that case, if we send a metric value to be stored in Aria for each request, then Aria would be able to store only one value in its database for that metric and from that source. </span><span class="koboSpan" id="kobo.210.3">It can store multiple values in a second only if either the source or the metric name is different. </span><span class="koboSpan" id="kobo.210.4">In that case, if we want to report on the response time for each request, this is not possible because we can only store the response time of one request per second for the same source. </span><span class="koboSpan" id="kobo.210.5">In these cases, we can use histograms that show the distribution of data in a given period. </span><span class="koboSpan" id="kobo.210.6">In our example, we can report a histogram containing the distribution of requests based on their response times for a minute, an hour, or a day. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.211.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.212.1">.2</span></em><span class="koboSpan" id="kobo.213.1"> shows how this kind of histogram </span><span class="No-Break"><span class="koboSpan" id="kobo.214.1">would look:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer255">
<span class="koboSpan" id="kobo.215.1"><img alt="Figure 1﻿0.2 – A histogram example" src="image/B18145_10_02.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.216.1">Figure 10.2 – A histogram example</span></p>
<p><span class="koboSpan" id="kobo.217.1">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.218.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.219.1">.2</span></em><span class="koboSpan" id="kobo.220.1">, on the </span><em class="italic"><span class="koboSpan" id="kobo.221.1">y a</span></em><span class="koboSpan" id="kobo.222.1">xis, we have the number of requests falling in one bracket. </span><span class="koboSpan" id="kobo.222.2">On the </span><em class="italic"><span class="koboSpan" id="kobo.223.1">x a</span></em><span class="koboSpan" id="kobo.224.1">xis, we have the response time in milliseconds for the requests. </span><span class="koboSpan" id="kobo.224.2">Seeing this histogram, we can say that most of the requests fell between the range of 40 to 800 milliseconds in their response times. </span><span class="koboSpan" id="kobo.224.3">This way, we know what a normal acceptable range for the response time value is for these requests. </span><span class="koboSpan" id="kobo.224.4">Next time we see a greater number of requests falling within the higher response time bracket, we will know something is </span><span class="No-Break"><span class="koboSpan" id="kobo.225.1">wrong there.</span></span></p>
<h3><span class="koboSpan" id="kobo.226.1">Events</span></h3>
<p><span class="koboSpan" id="kobo.227.1">In general terms, an </span><em class="italic"><span class="koboSpan" id="kobo.228.1">event</span></em><span class="koboSpan" id="kobo.229.1"> is something interesting that occurred in a system under observation. </span><span class="koboSpan" id="kobo.229.2">In the world of information technology, events can be a new application version rollout or an alert condition being triggered. </span><span class="koboSpan" id="kobo.229.3">Aria generates events automatically in cases </span><a id="_idIndexMarker882"/><span class="koboSpan" id="kobo.230.1">of any alert being triggered. </span><span class="koboSpan" id="kobo.230.2">Additionally, it also allows you to manually create event records if required. </span><span class="koboSpan" id="kobo.230.3">We can see these events displayed in the applicable </span><a id="_idIndexMarker883"/><span class="koboSpan" id="kobo.231.1">charts that are related to the event sources. </span><span class="koboSpan" id="kobo.231.2">For example, if we create an event indicating a new version of an application being pushed, we can clearly compare the difference in response time for the newer version compared to the older one, as its corresponding chart would display an event marker with these details of the application rollout. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.232.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.233.1">.3</span></em><span class="koboSpan" id="kobo.234.1"> shows how Aria displays these events in applicable charts. </span><span class="koboSpan" id="kobo.234.2">As you can see, an event can also be a timeframe that may have a different start and a different </span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">end time:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer256">
<span class="koboSpan" id="kobo.236.1"><img alt="Figure 1﻿0.3 – A chart showing events" src="image/B18145_10_03.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.237.1">Figure 10.3 – A chart showing events</span></p>
<p><span class="koboSpan" id="kobo.238.1">As you can see, </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.239.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.240.1">.3</span></em><span class="koboSpan" id="kobo.241.1"> shows an event triggered by a warning level of the alert condition. </span><span class="koboSpan" id="kobo.241.2">The shaded part after the alert dot shows the duration when the alert condition is active, and the event was ongoing when the snapshot was taken. </span><span class="koboSpan" id="kobo.241.3">Ongoing events of this kind can be closed manually, closed when the alert condition gets resolved, or Aria closes them after </span><span class="No-Break"><span class="koboSpan" id="kobo.242.1">60 days.</span></span></p>
<h3><span class="koboSpan" id="kobo.243.1">Span logs</span></h3>
<p><span class="koboSpan" id="kobo.244.1">At a very high level, span logs report the health of the communication channel between any two </span><a id="_idIndexMarker884"/><span class="koboSpan" id="kobo.245.1">services in a distributed system. </span><span class="koboSpan" id="kobo.245.2">In the world of microservices, we commonly see a single user request traversing various sequential </span><a id="_idIndexMarker885"/><span class="koboSpan" id="kobo.246.1">and parallel service calls involving many microservices and third-party systems. </span><span class="koboSpan" id="kobo.246.2">For example, in an e-commerce application, an order submission request by an end user could involve calls to a payment service, a payment method verification service, an order provisioning service, an inventory adjustment service, and a database before the end user gets a response. </span><span class="koboSpan" id="kobo.246.3">In this case, the request/response channel between any </span><a id="_idIndexMarker886"/><span class="koboSpan" id="kobo.247.1">two microservices is called a </span><strong class="bold"><span class="koboSpan" id="kobo.248.1">span</span></strong><span class="koboSpan" id="kobo.249.1">. </span><strong class="bold"><span class="koboSpan" id="kobo.250.1">Span logs</span></strong><span class="koboSpan" id="kobo.251.1"> can report how much time is taken for the request/response between any two microservices. </span><span class="koboSpan" id="kobo.251.2">For example, in this case, span logs can report the request/response duration between the order service and the payment service, the payment service and the payment verification service, and so on. </span><span class="koboSpan" id="kobo.251.3">When all these spans form a single request flow, it is called a </span><strong class="bold"><span class="koboSpan" id="kobo.252.1">trace</span></strong><span class="koboSpan" id="kobo.253.1">. </span><span class="koboSpan" id="kobo.253.2">These </span><a id="_idIndexMarker887"/><span class="koboSpan" id="kobo.254.1">are all concepts of distributed tracing, a very powerful way to monitor the health of microservices, especially when they are deployed </span><a id="_idIndexMarker888"/><span class="koboSpan" id="kobo.255.1">in containers. </span><span class="koboSpan" id="kobo.255.2">Learn more about distributed tracing concepts </span><span class="No-Break"><span class="koboSpan" id="kobo.256.1">here: </span></span><a href="https://docs.wavefront.com/tracing_basics.html"><span class="No-Break"><span class="koboSpan" id="kobo.257.1">https://docs.wavefront.com/tracing_basics.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.258.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.259.1">In order </span><a id="_idIndexMarker889"/><span class="koboSpan" id="kobo.260.1">to provide distributed tracing for applications, Aria </span><a id="_idIndexMarker890"/><span class="koboSpan" id="kobo.261.1">supports the </span><strong class="bold"><span class="koboSpan" id="kobo.262.1">OpenTracing</span></strong><span class="koboSpan" id="kobo.263.1"> (</span><a href="https://opentracing.io/"><span class="koboSpan" id="kobo.264.1">https://opentracing.io/</span></a><span class="koboSpan" id="kobo.265.1">) and </span><strong class="bold"><span class="koboSpan" id="kobo.266.1">OpenTelemetry</span></strong><span class="koboSpan" id="kobo.267.1"> (</span><a href="https://opentelemetry.io/"><span class="koboSpan" id="kobo.268.1">https://opentelemetry.io/</span></a><span class="koboSpan" id="kobo.269.1">) open source standards. </span><span class="koboSpan" id="kobo.269.2">However, OpenTracing is now an archived project, and it is recommended </span><a id="_idIndexMarker891"/><span class="koboSpan" id="kobo.270.1">to use its better replacement – OpenTelemetry – a </span><strong class="bold"><span class="koboSpan" id="kobo.271.1">Cloud Native Computing Foundation</span></strong><span class="koboSpan" id="kobo.272.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.273.1">CNCF</span></strong><span class="koboSpan" id="kobo.274.1">)-governed project. </span><span class="koboSpan" id="kobo.274.2">OpenTelemetry provides the tools, APIs, and SDKs required for applications written in different languages to publish span logs. </span><span class="koboSpan" id="kobo.274.3">Once applications send their span logs into Aria, we can get application maps like the one shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.275.1">Figure 10</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.276.1">.4</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.277.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer257">
<span class="koboSpan" id="kobo.278.1"><img alt="Figure 1﻿0.4 – An application map example" src="image/B18145_10_04.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.279.1">Figure 10.4 – An application map example</span></p>
<p><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.280.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.281.1">.4</span></em><span class="koboSpan" id="kobo.282.1"> shows a distributed tracing map for an e-commerce application, where all the circles indicate the different services involved. </span><span class="koboSpan" id="kobo.282.2">Additionally, the arrows indicate the flow of </span><a id="_idIndexMarker892"/><span class="koboSpan" id="kobo.283.1">requests from one service to another and the color </span><a id="_idIndexMarker893"/><span class="koboSpan" id="kobo.284.1">of the arrows indicates the health of the systems in terms of the response time and error rate. </span><span class="koboSpan" id="kobo.284.2">Having proper span logs in Aria from all services involved can be very beneficial to uncover hidden performance issues in a matter of minutes. </span><span class="koboSpan" id="kobo.284.3">Learn more about other possible visualizations in Aria generated using span logs </span><span class="No-Break"><span class="koboSpan" id="kobo.285.1">here: </span></span><a href="https://docs.wavefront.com/tracing_basics.html"><span class="No-Break"><span class="koboSpan" id="kobo.286.1">https://docs.wavefront.com/tracing_basics.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.287.1">.</span></span></p>
<p><span class="koboSpan" id="kobo.288.1">With these four data types that Aria can ingest, including metrics, histograms, events, and span logs, we can get the required observability for our applications, their supporting systems, and the infrastructure they are running on. </span><span class="koboSpan" id="kobo.288.2">Let’s now understand a common deployment architecture pattern that allows these data points to be ingested in an Aria database on its </span><span class="No-Break"><span class="koboSpan" id="kobo.289.1">SaaS cloud.</span></span></p>
<h2 id="_idParaDest-204"><a id="_idTextAnchor204"/><span class="koboSpan" id="kobo.290.1">Data integration architecture of Aria</span></h2>
<p><span class="koboSpan" id="kobo.291.1">As discussed previously, Aria is a SaaS platform supported by two optional components – the collector </span><a id="_idIndexMarker894"/><span class="koboSpan" id="kobo.292.1">agents and proxy service. </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.293.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.294.1">.5</span></em><span class="koboSpan" id="kobo.295.1"> shows a high-level diagram of different ways to ingest data into </span><span class="No-Break"><span class="koboSpan" id="kobo.296.1">the system:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer258">
<span class="koboSpan" id="kobo.297.1"><img alt="Figure 1﻿0.5 – Data integration architecture of Aria" src="image/B18145_10_05.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.298.1">Figure 10.5 – Data integration architecture of Aria</span></p>
<p><span class="koboSpan" id="kobo.299.1">Let’s </span><a id="_idIndexMarker895"/><span class="koboSpan" id="kobo.300.1">understand the deployment architecture depicted in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.301.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.302.1">.5</span></em><span class="koboSpan" id="kobo.303.1">. </span><span class="koboSpan" id="kobo.303.2">This diagram has the </span><span class="No-Break"><span class="koboSpan" id="kobo.304.1">following components.</span></span></p>
<h3><span class="koboSpan" id="kobo.305.1">Data source</span></h3>
<p><span class="koboSpan" id="kobo.306.1">The large </span><a id="_idIndexMarker896"/><span class="koboSpan" id="kobo.307.1">circles shown on the left-hand </span><a id="_idIndexMarker897"/><span class="koboSpan" id="kobo.308.1">side of the diagram are the sources from which the health data is collected. </span><span class="koboSpan" id="kobo.308.2">There could be the following types of sources, as shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.309.1">Figure 10</span></em></span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.310.1">.6</span></em></span><span class="No-Break"><span class="koboSpan" id="kobo.311.1">:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.312.1">Public clouds</span></strong><span class="koboSpan" id="kobo.313.1"> – These </span><a id="_idIndexMarker898"/><span class="koboSpan" id="kobo.314.1">are the major public cloud providers, including AWS, Azure, and GCP. </span><span class="koboSpan" id="kobo.314.2">We can configure the data flow from these cloud services using an account-level configuration on the Aria portal without requiring any collector agents on </span><span class="No-Break"><span class="koboSpan" id="kobo.315.1">those clouds.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.316.1">Host</span></strong><span class="koboSpan" id="kobo.317.1"> – This could </span><a id="_idIndexMarker899"/><span class="koboSpan" id="kobo.318.1">be a hardware device, an OS, a network component, or anything that emits health data points, which we covered earlier. </span><span class="koboSpan" id="kobo.318.2">Generally, you cannot configure a customized endpoint for the metrics data with these components. </span><span class="koboSpan" id="kobo.318.3">They just </span><em class="italic"><span class="koboSpan" id="kobo.319.1">tweet</span></em><span class="koboSpan" id="kobo.320.1"> metrics. </span><span class="koboSpan" id="kobo.320.2">We need metrics collector agents for them as well that can then send the data to the </span><span class="No-Break"><span class="koboSpan" id="kobo.321.1">Aria database.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.322.1">Software package</span></strong><span class="koboSpan" id="kobo.323.1"> running on a host – These can be any software solution that is </span><a id="_idIndexMarker900"/><span class="koboSpan" id="kobo.324.1">deployed on a host (server). </span><span class="koboSpan" id="kobo.324.2">It could be a MySQL database or a Jenkins server. </span><span class="koboSpan" id="kobo.324.3">We can collect their metrics using a collector agent that knows how to collect the data emitted by these software tools. </span><span class="koboSpan" id="kobo.324.4">We will revisit these agents later in </span><span class="No-Break"><span class="koboSpan" id="kobo.325.1">this chapter.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.326.1">Custom app</span></strong><span class="koboSpan" id="kobo.327.1"> codes – These can be any custom business application that sends custom business metrics, such as order counts or failed payments. </span><span class="koboSpan" id="kobo.327.2">This data can also include </span><a id="_idIndexMarker901"/><span class="koboSpan" id="kobo.328.1">span logs for specific operations emitted by equipped applications. </span><span class="koboSpan" id="kobo.328.2">This data can be ingested into Aria from the application code using certain third-party libraries depending on the technology stack of the </span><a id="_idIndexMarker902"/><span class="koboSpan" id="kobo.329.1">application. </span><span class="koboSpan" id="kobo.329.2">Micrometer (</span><a href="https://micrometer.io/"><span class="koboSpan" id="kobo.330.1">https://micrometer.io/</span></a><span class="koboSpan" id="kobo.331.1">) is one such open source library that is widely used for custom metrics emissions from a Java-based application. </span><span class="koboSpan" id="kobo.331.2">Similarly, OpenTelemetry (</span><a href="https://opentelemetry.io/"><span class="koboSpan" id="kobo.332.1">https://opentelemetry.io/</span></a><span class="koboSpan" id="kobo.333.1">) provides several libraries for various application technologies to emit metrics and span logs from </span><span class="No-Break"><span class="koboSpan" id="kobo.334.1">custom applications.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.335.1">Log files</span></strong><span class="koboSpan" id="kobo.336.1"> – There </span><a id="_idIndexMarker903"/><span class="koboSpan" id="kobo.337.1">are some systems that do not emit any telemetry data but just write them in local log files. </span><span class="koboSpan" id="kobo.337.2">We can also collect this data from log files using specific configurations in Wavefront Proxy. </span><span class="koboSpan" id="kobo.337.3">We will cover Wavefront </span><span class="No-Break"><span class="koboSpan" id="kobo.338.1">Proxy shortly</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.339.1">These are </span><a id="_idIndexMarker904"/><span class="koboSpan" id="kobo.340.1">all different types of sources from which we can collect telemetry data. </span><span class="koboSpan" id="kobo.340.2">While some sources can directly send data to the Aria system, for many sources, such as software running on servers such as databases, off-the-shelf solutions, or sources such as a host OS, collector agents need to gather this data and send it downstream. </span><span class="koboSpan" id="kobo.340.3">Let’s learn </span><span class="No-Break"><span class="koboSpan" id="kobo.341.1">about them.</span></span></p>
<h3><span class="koboSpan" id="kobo.342.1">Collector agents</span></h3>
<p><span class="koboSpan" id="kobo.343.1">As mentioned before, many sources just emit telemetry data without any knowledge of which system will collect them for processing. </span><span class="koboSpan" id="kobo.343.2">These sources often have a source endpoint </span><a id="_idIndexMarker905"/><span class="koboSpan" id="kobo.344.1">at which they make this data available for collection. </span><span class="koboSpan" id="kobo.344.2">To collect this data from its source, filter it for the subsets not required, aggregate it when required, and convert it into a form that can be understood by a downstream telemetry visualization system such as Aria, we need a tool that can help with these requirements. </span><span class="koboSpan" id="kobo.344.3">The agents shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.345.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.346.1">.6</span></em><span class="koboSpan" id="kobo.347.1"> next to the </span><strong class="bold"><span class="koboSpan" id="kobo.348.1">Host</span></strong><span class="koboSpan" id="kobo.349.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.350.1">Software Package</span></strong><span class="koboSpan" id="kobo.351.1"> components are there for this very </span><span class="No-Break"><span class="koboSpan" id="kobo.352.1">same reason.</span></span></p>
<p><span class="koboSpan" id="kobo.353.1">Aria is a time-series database for ubiquitous observability that accepts data from different sources in a specific format that it understands. </span><span class="koboSpan" id="kobo.353.2">For this reason, Aria requires collector agents for sources that make their telemetry data available at a specific endpoint and require their consumers to pull it as and when required. </span><span class="koboSpan" id="kobo.353.3">While we can write custom programs that can perform this task, there is a very elegant out-of-the-box solution available that we can directly use as a collector agent – </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.354.1">Telegraf</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.355.1"> (</span></span><a href="https://github.com/influxdata/telegraf"><span class="No-Break"><span class="koboSpan" id="kobo.356.1">https://github.com/influxdata/telegraf</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.357.1">).</span></span></p>
<p><span class="koboSpan" id="kobo.358.1">Telegraf is a </span><a id="_idIndexMarker906"/><span class="koboSpan" id="kobo.359.1">mature and flexible open source metrics collector agent tool that has a very extendable plugin-based architecture to support collecting, processing, and distributing telemetry data. </span><span class="koboSpan" id="kobo.359.2">Telegraf has the following types of plugins that make </span><a id="_idIndexMarker907"/><span class="koboSpan" id="kobo.360.1">it a very popular and widely </span><span class="No-Break"><span class="koboSpan" id="kobo.361.1">adopted tool:</span></span></p>
<ul>
<li> <strong class="bold"><span class="koboSpan" id="kobo.362.1">Input</span></strong><span class="koboSpan" id="kobo.363.1"> – These plugins allow you to collect data from different source types. </span><span class="koboSpan" id="kobo.363.2">Each source has a specific plugin associated with it that can be used to collect its </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">telemetry data.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.365.1">Processor</span></strong><span class="koboSpan" id="kobo.366.1"> – These plugins allow you to modify and filter </span><span class="No-Break"><span class="koboSpan" id="kobo.367.1">collected data.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.368.1">Aggregator</span></strong><span class="koboSpan" id="kobo.369.1"> – These plugins allow to aggregate data before it is sent to a source to reduce </span><span class="No-Break"><span class="koboSpan" id="kobo.370.1">the volume.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.371.1">Output</span></strong><span class="koboSpan" id="kobo.372.1"> – These plugins are used to send data to a specific output destination. </span><span class="koboSpan" id="kobo.372.2">In our case, it is Wavefront Proxy, which we will </span><span class="No-Break"><span class="koboSpan" id="kobo.373.1">cover next.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.374.1">Aria can accept telemetry data via an HTTP API endpoint. </span><span class="koboSpan" id="kobo.374.2">Hence, a data source can always use that to ingest data in Aria. </span><span class="koboSpan" id="kobo.374.3">However, for sources that only make their health data available for collection, we need the help of tools such as Telegraf to fill the gap for sure – but rather than sending such data directly to the Aria database, it is recommended to send them via Wavefront Proxy. </span><span class="koboSpan" id="kobo.374.4">Let’s learn about Wavefront </span><span class="No-Break"><span class="koboSpan" id="kobo.375.1">Proxy next.</span></span></p>
<h3><span class="koboSpan" id="kobo.376.1">Wavefront Proxy</span></h3>
<p><span class="koboSpan" id="kobo.377.1">Wavefront </span><a id="_idIndexMarker908"/><span class="koboSpan" id="kobo.378.1">Proxy is an open source tool (</span><a href="https://github.com/wavefrontHQ/wavefront-proxy"><span class="koboSpan" id="kobo.379.1">https://github.com/wavefrontHQ/wavefront-proxy</span></a><span class="koboSpan" id="kobo.380.1">) written in Java that sits between a collector (and sometimes between the source directly) and the Aria database on the cloud. </span><span class="koboSpan" id="kobo.380.2">Although </span><a id="_idIndexMarker909"/><span class="koboSpan" id="kobo.381.1">using Wavefront Proxy is not mandatory, it is a very useful component in Aria architecture. </span><span class="koboSpan" id="kobo.381.2">As a reason, VMware actively </span><a id="_idIndexMarker910"/><span class="koboSpan" id="kobo.382.1">maintains this project. </span><span class="koboSpan" id="kobo.382.2">Architecturally, Wavefront is placed closer to the data sources. </span><span class="koboSpan" id="kobo.382.3">As shown in </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.383.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.384.1">.6</span></em><span class="koboSpan" id="kobo.385.1">, several sources can share a single Wavefront Proxy, which could be deployed on the same host, data center, or private network boundary as the sources. </span><span class="koboSpan" id="kobo.385.2">The following are the reasons to consider using Wavefront Proxy, rather than sending telemetry </span><a id="_idIndexMarker911"/><span class="koboSpan" id="kobo.386.1">data directly to the Aria database using its </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">API endpoint:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.388.1">Wavefront Proxy provides a layer of data protection with the ability to cache data in memory in case the link between the source and Aria data endpoint goes down, which works via </span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">the internet.</span></span></li>
<li><span class="koboSpan" id="kobo.390.1">Wavefront Proxy batches data for the optimal use of the network bandwidth and an optimized </span><span class="No-Break"><span class="koboSpan" id="kobo.391.1">transmission speed.</span></span></li>
<li><span class="koboSpan" id="kobo.392.1">Wavefront Proxy provides a way to enrich data by adding more tags (key-value pairs) to each data record it processes. </span><span class="koboSpan" id="kobo.392.2">These tags can be used to fetch the details required for monitoring. </span><span class="koboSpan" id="kobo.392.3">An example of these tags could be </span><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">env=prod</span></strong><span class="koboSpan" id="kobo.394.1">, defining the data record as belonging to a production environment. </span><span class="koboSpan" id="kobo.394.2">Later, we can use this tag to build a chart showing only production </span><span class="No-Break"><span class="koboSpan" id="kobo.395.1">environment data.</span></span></li>
<li><span class="koboSpan" id="kobo.396.1">Wavefront Proxy allows us to massage data to modify the content if required. </span><span class="koboSpan" id="kobo.396.2">One such use case could be to hide the specific IP addresses of the sensitive systems to maintain the privacy of the network layout. </span><span class="koboSpan" id="kobo.396.3">In general, having the IP address of a source in its telemetry record is a useful detail that can be used to filter data in the same way. </span><span class="koboSpan" id="kobo.396.4">However, an organization may need to hide IP addresses as per their policy for data going into an Aria database that resides in a public cloud space. </span><span class="koboSpan" id="kobo.396.5">For this, Wavefront Proxy allows us to carry out pattern-based replacement in data records. </span><span class="koboSpan" id="kobo.396.6">This way, we can replace an IP address such as </span><strong class="source-inline"><span class="koboSpan" id="kobo.397.1">10.1.0.2</span></strong><span class="koboSpan" id="kobo.398.1"> with either </span><strong class="source-inline"><span class="koboSpan" id="kobo.399.1">10.*.*.2</span></strong><span class="koboSpan" id="kobo.400.1"> or </span><strong class="source-inline"><span class="koboSpan" id="kobo.401.1">*.*.*.*</span></strong> <span class="No-Break"><span class="koboSpan" id="kobo.402.1">or </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.403.1">******</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.404.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.405.1">Wavefront Proxy provides the last centralized gate that opens to the Aria service endpoint. </span><span class="koboSpan" id="kobo.405.2">If all sources send their telemetry data via the same instance of Wavefront Proxy, we can use that as the final checkpoint to apply common data filters </span><a id="_idIndexMarker912"/><span class="koboSpan" id="kobo.406.1">and enrichment policies applicable to </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">all sources.</span></span></li>
<li><span class="koboSpan" id="kobo.408.1">Since Wavefront Proxy is the last gate for the internal telemetry data before it reaches the Aria service endpoint, we only need to open the firewall from Wavefront Proxy to the Aria service over the internet. </span><span class="koboSpan" id="kobo.408.2">All internal sources can send their data to Wavefront Proxy over the private network. </span><span class="koboSpan" id="kobo.408.3">This reduces the network </span><span class="No-Break"><span class="koboSpan" id="kobo.409.1">attack surface.</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.410.1">In addition to the preceding benefits, there is one more that is worth a mention here. </span><span class="koboSpan" id="kobo.410.2">Very large organizations have several data centers, either in a private or public cloud space. </span><span class="koboSpan" id="kobo.410.3">At this scale, it is not advisable to have just one instance of Wavefront Proxy between all </span><a id="_idIndexMarker913"/><span class="koboSpan" id="kobo.411.1">the sources deployed across public and private network spaces. </span><span class="koboSpan" id="kobo.411.2">As mentioned before, we should try to keep the </span><a id="_idIndexMarker914"/><span class="koboSpan" id="kobo.412.1">Wavefront Proxy setup as close as possible to its sources so that we can take advantage of its data reliability and enrichment capabilities. </span><span class="koboSpan" id="kobo.412.2">Hence, we generally end up with multiple instances of Wavefront Proxy deployed that send data to the Aria SaaS endpoint. </span><span class="koboSpan" id="kobo.412.3">This kind of setup could be difficult to maintain down the line, as we need to maintain configuration parity between these Wavefront Proxy implementations. </span><span class="koboSpan" id="kobo.412.4">To ease this situation, we can create Wavefront Proxy chaining, where all distributed instances of Wavefront Proxy send their data to a centralized instance of Wavefront Proxy instead of directly sending the data to the Aria service endpoint. </span><span class="koboSpan" id="kobo.412.5">This way we can keep all source-specific configurations in remote Wavefront Proxy instances and all common configurations in the central instance of </span><span class="No-Break"><span class="koboSpan" id="kobo.413.1">Wavefront Proxy.</span></span></p>
<p><span class="koboSpan" id="kobo.414.1">For more details about various deployment patterns and other details of Wavefront Proxy, visit this </span><span class="No-Break"><span class="koboSpan" id="kobo.415.1">page: </span></span><a href="https://docs.wavefront.com/proxies.html"><span class="No-Break"><span class="koboSpan" id="kobo.416.1">https://docs.wavefront.com/proxies.html</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.417.1">.</span></span></p>
<h3><span class="koboSpan" id="kobo.418.1">The Wavefront service</span></h3>
<p><span class="koboSpan" id="kobo.419.1">In </span><span class="No-Break"><em class="italic"><span class="koboSpan" id="kobo.420.1">Figure 10</span></em></span><em class="italic"><span class="koboSpan" id="kobo.421.1">.5</span></em><span class="koboSpan" id="kobo.422.1">, the right-hand element captioned </span><strong class="bold"><span class="koboSpan" id="kobo.423.1">Tanzu Observability Service</span></strong><span class="koboSpan" id="kobo.424.1"> is nothing but the Aria SaaS platform deployed on the AWS cloud (as of the time of writing). </span><span class="koboSpan" id="kobo.424.2">This is </span><a id="_idIndexMarker915"/><span class="koboSpan" id="kobo.425.1">also the component that we have been referring to </span><a id="_idIndexMarker916"/><span class="koboSpan" id="kobo.426.1">as the Aria service endpoint. </span><span class="koboSpan" id="kobo.426.2">The Aria service is made of a large collection of components, including a portal, API endpoints, a time-series database, various data processors, alert engines, and several other components. </span><span class="koboSpan" id="kobo.426.3">We will cover working with the Aria portal for various operations in upcoming sections of </span><span class="No-Break"><span class="koboSpan" id="kobo.427.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.428.1">With this, we have concluded our section on unboxing Aria. </span><span class="koboSpan" id="kobo.428.2">In this section, we saw that Aria can ingest metrics, events, histograms, and span logs to provide full-stack observability. </span><span class="koboSpan" id="kobo.428.3">Additionally, we learned about the common deployment architecture of Aria. </span><span class="koboSpan" id="kobo.428.4">There, we learned that Aria can ingest data from various sources, including public cloud platforms, different hosts and their OSs, and different software running on those hosts, including platforms such as Kubernetes, custom applications, and log files. </span><span class="koboSpan" id="kobo.428.5">Then, we learned about the collector agents’ role and Telegraf being one of the most popular collector agents. </span><span class="koboSpan" id="kobo.428.6">Then, we checked out the role and benefits of using Wavefront Proxy in the data path. </span><span class="koboSpan" id="kobo.428.7">Let’s now see how to get started with Aria and integrate our first Kubernetes cluster with an Aria service account </span><span class="No-Break"><span class="koboSpan" id="kobo.429.1">for monitoring.</span></span></p>
<h1 id="_idParaDest-205"><a id="_idTextAnchor205"/><span class="koboSpan" id="kobo.430.1">Getting started with Aria</span></h1>
<p><span class="koboSpan" id="kobo.431.1">In this </span><a id="_idIndexMarker917"/><span class="koboSpan" id="kobo.432.1">section, we will learn about the </span><span class="No-Break"><span class="koboSpan" id="kobo.433.1">following topics:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.434.1">Setting up a trial account for Aria (unless you have an </span><span class="No-Break"><span class="koboSpan" id="kobo.435.1">existing account)</span></span></li>
<li><span class="koboSpan" id="kobo.436.1">Integrating a Kubernetes cluster with the account </span><span class="No-Break"><span class="koboSpan" id="kobo.437.1">for monitoring</span></span></li>
<li><span class="koboSpan" id="kobo.438.1">Accessing the default dashboards for the integrated </span><span class="No-Break"><span class="koboSpan" id="kobo.439.1">Kubernetes cluster</span></span></li>
<li><span class="koboSpan" id="kobo.440.1">Accessing the default alerts for various Kubernetes </span><span class="No-Break"><span class="koboSpan" id="kobo.441.1">cluster conditions</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.442.1">Here are </span><a id="_idIndexMarker918"/><span class="koboSpan" id="kobo.443.1">the prerequisites to follow along with the outlined steps in this section and </span><span class="No-Break"><span class="koboSpan" id="kobo.444.1">upcoming sections:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.445.1">A Kubernetes cluster with admin-level </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.446.1">kubectl</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.447.1"> access</span></span></li>
<li><span class="koboSpan" id="kobo.448.1">A workstation with </span><strong class="source-inline"><span class="koboSpan" id="kobo.449.1">kubectl</span></strong><span class="koboSpan" id="kobo.450.1"> and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.451.1">helm</span></strong><span class="koboSpan" id="kobo.452.1"> CLI, access to the targeted Kubernetes cluster, and a </span><span class="No-Break"><span class="koboSpan" id="kobo.453.1">web browser</span></span></li>
<li><span class="koboSpan" id="kobo.454.1">A valid </span><span class="No-Break"><span class="koboSpan" id="kobo.455.1">email address</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.456.1">As you can see, the prerequisites are very straightforward. </span><span class="koboSpan" id="kobo.456.2">Let’s start by integrating a Kubernetes cluster with an Aria </span><span class="No-Break"><span class="koboSpan" id="kobo.457.1">service account.</span></span></p>
<h2 id="_idParaDest-206"><a id="_idTextAnchor206"/><span class="koboSpan" id="kobo.458.1">Setting up a trial account</span></h2>
<p><span class="koboSpan" id="kobo.459.1">This section </span><a id="_idIndexMarker919"/><span class="koboSpan" id="kobo.460.1">is optional if you already have an existing Aria service account that you would like to use. </span><span class="koboSpan" id="kobo.460.2">Otherwise, take the following steps to get started with a trial account of Aria without </span><span class="No-Break"><span class="koboSpan" id="kobo.461.1">any obligations:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.462.1">Go to the </span><a href="https://tanzu.vmware.com/observability"><span class="No-Break"><span class="koboSpan" id="kobo.463.1">https://tanzu.vmware.com/observability</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.464.1"> page.</span></span></li>
<li><span class="koboSpan" id="kobo.465.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.466.1">START FREE TRIAL</span></strong><span class="koboSpan" id="kobo.467.1"> button as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.468.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer259">
<span class="koboSpan" id="kobo.469.1"><img alt="Figure 1﻿0.6 – Aria website" src="image/B18145_10_06.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.470.1">Figure 10.6 – Aria website</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.471.1">Submit the trial account setup details as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.472.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer260">
<span class="koboSpan" id="kobo.473.1"><img alt="Figure 1﻿0.7 – Submitting the trial account setup details" src="image/B18145_10_07.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.474.1">Figure 10.7 – Submitting the trial account setup details</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.475.1">Configure </span><a id="_idIndexMarker920"/><span class="koboSpan" id="kobo.476.1">a password for </span><span class="No-Break"><span class="koboSpan" id="kobo.477.1">the account:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer261">
<span class="koboSpan" id="kobo.478.1"><img alt="Figure 1﻿0.8 – Configuring a trial account password" src="image/B18145_10_08.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.479.1">Figure 10.8 – Configuring a trial account password</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.480.1">Load the </span><a id="_idIndexMarker921"/><span class="koboSpan" id="kobo.481.1">landing page as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.482.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer262">
<span class="koboSpan" id="kobo.483.1"><img alt="Figure 1﻿0.9 – Aria landing page on the first login" src="image/B18145_10_09.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.484.1">Figure 10.9 – Aria landing page on the first login</span></p>
<p><span class="koboSpan" id="kobo.485.1">That is all. </span><span class="koboSpan" id="kobo.485.2">We successfully created a trial account for Aria in a few minutes with all its features accessible. </span><span class="koboSpan" id="kobo.485.3">Let’s now use this account to integrate a Kubernetes cluster </span><span class="No-Break"><span class="koboSpan" id="kobo.486.1">for monitoring.</span></span></p>
<h2 id="_idParaDest-207"><a id="_idTextAnchor207"/><span class="koboSpan" id="kobo.487.1">Integrating a Kubernetes cluster for monitoring</span></h2>
<p><span class="koboSpan" id="kobo.488.1">We will </span><a id="_idIndexMarker922"/><span class="koboSpan" id="kobo.489.1">use the Aria trial account created in the previous subsection to link an existing Kubernetes cluster to it for monitoring. </span><span class="koboSpan" id="kobo.489.2">Follow these steps to perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.490.1">integration procedure:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.491.1">Click on the Kubernetes logo as highlighted in the following screenshot from the landing (</span><strong class="bold"><span class="koboSpan" id="kobo.492.1">Get Started</span></strong><span class="koboSpan" id="kobo.493.1">) page </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">of Aria:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer263">
<span class="koboSpan" id="kobo.495.1"><img alt="Figure 1﻿0.10 – Starting Kubernetes cluster integration" src="image/B18145_10_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.496.1">Figure 10.10 – Starting Kubernetes cluster integration</span></p>
<p class="callout-heading"><span class="koboSpan" id="kobo.497.1">For existing non-trial accounts</span></p>
<p class="callout"><span class="koboSpan" id="kobo.498.1">You may use your existing account to do this. </span><span class="koboSpan" id="kobo.498.2">If you have previously accessed the account, based on your account configuration, you may see a different landing page than what is shown in the previous screenshot. </span><span class="koboSpan" id="kobo.498.3">In that case, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.499.1">Integrations</span></strong><span class="koboSpan" id="kobo.500.1"> menu on the top navigation bar and click on </span><strong class="bold"><span class="koboSpan" id="kobo.501.1">Kubernetes</span></strong><span class="koboSpan" id="kobo.502.1"> from the featured group of integrations. </span><span class="koboSpan" id="kobo.502.2">On the Kubernetes integration page, go to the </span><strong class="bold"><span class="koboSpan" id="kobo.503.1">Setup</span></strong><span class="koboSpan" id="kobo.504.1"> tab and click the </span><strong class="bold"><span class="koboSpan" id="kobo.505.1">ADD INTEGRATION</span></strong><span class="koboSpan" id="kobo.506.1"> button to </span><span class="No-Break"><span class="koboSpan" id="kobo.507.1">follow along.</span></span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.508.1">Select </span><a id="_idIndexMarker923"/><span class="koboSpan" id="kobo.509.1">the middle tile with the </span><strong class="bold"><span class="koboSpan" id="kobo.510.1">Install in Kubernetes Cluster</span></strong><span class="koboSpan" id="kobo.511.1"> option to load the setup instruction page. </span><span class="koboSpan" id="kobo.511.2">The setup procedure for a Tanzu Kubernetes cluster is pretty similar except for a few additional configurations. </span><span class="koboSpan" id="kobo.511.3">However, the procedure to integrate an OpenShift cluster is very different, but we are not covering that in </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">this book:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer264">
<span class="koboSpan" id="kobo.513.1"><img alt="Figure 1﻿0.11 – Selecting the Kubernetes type for the integration" src="image/B18145_10_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.514.1">Figure 10.11 – Selecting the Kubernetes type for the integration</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.515.1">Follow </span><a id="_idIndexMarker924"/><span class="koboSpan" id="kobo.516.1">the set of instructions given on the page to install a deployment of Wavefront Proxy and the metrics collector for Kubernetes provided by Aria. </span><span class="koboSpan" id="kobo.516.2">This is a quick and easy way to get started. </span><span class="koboSpan" id="kobo.516.3">However, it is always possible to perform various fine-grained configurations provided by the collector as well as Wavefront Proxy for a production-grade </span><a id="_idIndexMarker925"/><span class="koboSpan" id="kobo.517.1">integration. </span><span class="koboSpan" id="kobo.517.2">Follow this documentation link to learn more about </span><span class="No-Break"><span class="koboSpan" id="kobo.518.1">this: </span></span><a href="https://docs.wavefront.com/kubernetes.html#kubernetes-manual-install"><span class="No-Break"><span class="koboSpan" id="kobo.519.1">https://docs.wavefront.com/kubernetes.html#kubernetes-manual-install</span></span></a><span class="No-Break"><span class="koboSpan" id="kobo.520.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer265">
<span class="koboSpan" id="kobo.521.1"><img alt="Figure 1﻿0.12 – Kubernetes integration instructions" src="image/B18145_10_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.522.1">Figure 10.12 – Kubernetes integration instructions</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.523.1">After </span><a id="_idIndexMarker926"/><span class="koboSpan" id="kobo.524.1">running the command in </span><em class="italic"><span class="koboSpan" id="kobo.525.1">step 3</span></em><span class="koboSpan" id="kobo.526.1">, we can see the following output. </span><span class="koboSpan" id="kobo.526.2">Notice the last line providing the URL to examine the cluster integration on the </span><span class="No-Break"><span class="koboSpan" id="kobo.527.1">Aria portal:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.528.1">
$ kubectl create namespace wavefront &amp;&amp; helm install wavefront wavefront/wavefront\</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.529.1">
    --set wavefront.url=https://longboard.wavefront.com \</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.530.1">
    --set wavefront.token=**-306a-432b-bb28-62dc**2e97 \</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.531.1">
    --set clusterName="eks-workload-cluster-1" --namespace wavefront</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.532.1">
namespace/wavefront created</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.533.1">
NAME: wavefront</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.534.1">
NAMESPACE: wavefront</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.535.1">
STATUS: deployed</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.536.1">
REVISION: 1</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.537.1">
NOTES:</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.538.1">
Wavefront is setup and configured to collect metrics from your Kubernetes cluster.  You</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.539.1">
should see metrics flowing within a few minutes.</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.540.1">
You can visit this dashboard in Wavefront to see your Kubernetes metrics:</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.541.1">
https://longboard.wavefront.com/dashboard/integration-kubernetes-summary</span></pre></li>
<li><span class="koboSpan" id="kobo.542.1">Check </span><a id="_idIndexMarker927"/><span class="koboSpan" id="kobo.543.1">out the deployment of Wavefront Proxy and Wavefront collector Pods in the </span><strong class="source-inline"><span class="koboSpan" id="kobo.544.1">wavefront</span></strong><span class="koboSpan" id="kobo.545.1"> namespace of the targeted cluster. </span><span class="koboSpan" id="kobo.545.2">As you can see, there are two collectors, one for each Kubernetes node, and one Wavefront </span><span class="No-Break"><span class="koboSpan" id="kobo.546.1">Proxy Pod:</span></span><pre class="source-code"><span class="koboSpan" id="kobo.547.1">
$ kubectl get pods -n wavefront</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.548.1">
NAME                               READY   STATUS    RESTARTS   AGE</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.549.1">
wavefront-collector-2vbbt          1/1     Running   0          5m51s</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.550.1">
wavefront-collector-xv9sk          1/1     Running   0          5m51s</span></pre><pre class="source-code"><span class="koboSpan" id="kobo.551.1">
wavefront-proxy-699f57f698-lbr9b   1/1     Running   0          5m51s</span></pre></li>
<li><span class="koboSpan" id="kobo.552.1">Examine the Kubernetes integration status using the URL given in the output of the command described in </span><em class="italic"><span class="koboSpan" id="kobo.553.1">step 4</span></em><span class="koboSpan" id="kobo.554.1">. </span><span class="koboSpan" id="kobo.554.2">You will see a page as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.555.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer266">
<span class="koboSpan" id="kobo.556.1"><img alt="Figure 1﻿0.13 – Kubernetes cluster summary dashboard" src="image/B18145_10_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.557.1">Figure 10.13 – Kubernetes cluster summary dashboard</span></p>
<p><span class="koboSpan" id="kobo.558.1">As you can see, the Aria account has been successfully integrated with an existing Kubernetes cluster. </span><span class="koboSpan" id="kobo.558.2">We can add as many clusters as required this way to centrally monitor </span><a id="_idIndexMarker928"/><span class="koboSpan" id="kobo.559.1">them from a single window. </span><span class="koboSpan" id="kobo.559.2">Then, we can filter a specific cluster if required by its name using the dropdown labeled </span><strong class="bold"><span class="koboSpan" id="kobo.560.1">cluster,</span></strong><span class="koboSpan" id="kobo.561.1"> as shown in the previous screenshot’s top-left corner. </span><span class="koboSpan" id="kobo.561.2">The dashboard shown in the previous screenshot is one of the many out-of-the-box dashboards in Aria for Kubernetes integration. </span><span class="koboSpan" id="kobo.561.3">We can access some of them from this dashboard with a drill-down approach. </span><span class="koboSpan" id="kobo.561.4">Let’s check out the other out-of-the-box </span><span class="No-Break"><span class="koboSpan" id="kobo.562.1">Kubernetes dashboards.</span></span></p>
<h2 id="_idParaDest-208"><a id="_idTextAnchor208"/><span class="koboSpan" id="kobo.563.1">Accessing the default Kubernetes dashboards</span></h2>
<p><span class="koboSpan" id="kobo.564.1">In this section, we will access some additional Kubernetes dashboards that come by default </span><a id="_idIndexMarker929"/><span class="koboSpan" id="kobo.565.1">with Aria. </span><span class="koboSpan" id="kobo.565.2">These dashboards immediately start showing data after a successful Kubernetes cluster integration. </span><span class="koboSpan" id="kobo.565.3">Let’s start with the first dashboard – </span><strong class="bold"><span class="koboSpan" id="kobo.566.1">Kubernetes Summary</span></strong><span class="koboSpan" id="kobo.567.1"> – that we opened in the previous section. </span><span class="koboSpan" id="kobo.567.2">From there, we will access various </span><span class="No-Break"><span class="koboSpan" id="kobo.568.1">other dashboards:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.569.1">To drill down to the </span><strong class="bold"><span class="koboSpan" id="kobo.570.1">Kubernetes Cluster</span></strong><span class="koboSpan" id="kobo.571.1"> dashboard from the </span><strong class="bold"><span class="koboSpan" id="kobo.572.1">Kubernetes Summary</span></strong><span class="koboSpan" id="kobo.573.1"> dashboard, click on the cluster name as highlighted in the following screenshot’s </span><span class="No-Break"><span class="koboSpan" id="kobo.574.1">bottom-left corner:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer267">
<span class="koboSpan" id="kobo.575.1"><img alt="Figure 1﻿0.14 – Drilling down to the Kubernetes cluster dashboard" src="image/B18145_10_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.576.1">Figure 10.14 – Drilling down to the Kubernetes cluster dashboard</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.577.1">You should </span><a id="_idIndexMarker930"/><span class="koboSpan" id="kobo.578.1">see the following dashboard showing a more detailed view of the Kubernetes cluster. </span><span class="koboSpan" id="kobo.578.2">Then, click on the </span><strong class="bold"><span class="koboSpan" id="kobo.579.1">Nodes</span></strong><span class="koboSpan" id="kobo.580.1"> link as highlighted in the screenshot to open the </span><strong class="bold"><span class="koboSpan" id="kobo.581.1">Kubernetes Nodes</span></strong><span class="koboSpan" id="kobo.582.1"> dashboard for a detailed view of the nodes of that cluster. </span><span class="koboSpan" id="kobo.582.2">Additionally, you can find very valuable insights on all these dashboards when you scroll down </span><span class="No-Break"><span class="koboSpan" id="kobo.583.1">their pages:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer268">
<span class="koboSpan" id="kobo.584.1"><img alt="Figure 1﻿0.15 – Kubernetes ﻿Clusters dashboard" src="image/B18145_10_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.585.1">Figure 10.15 – Kubernetes Clusters dashboard</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.586.1">The following screenshot shows the </span><strong class="bold"><span class="koboSpan" id="kobo.587.1">Kubernetes Nodes</span></strong><span class="koboSpan" id="kobo.588.1"> dashboard, which contains </span><a id="_idIndexMarker931"/><span class="koboSpan" id="kobo.589.1">a detailed view of the nodes of the cluster to which we are drilling down. </span><span class="koboSpan" id="kobo.589.2">You can select a specific node of the cluster using the </span><strong class="bold"><span class="koboSpan" id="kobo.590.1">node</span></strong><span class="koboSpan" id="kobo.591.1"> dropdown as highlighted in the following screenshot. </span><span class="koboSpan" id="kobo.591.2">Additionally, you may open the </span><strong class="bold"><span class="koboSpan" id="kobo.592.1">Kubernetes Pods</span></strong><span class="koboSpan" id="kobo.593.1"> dashboard by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.594.1">Pods</span></strong><span class="koboSpan" id="kobo.595.1"> link </span><span class="No-Break"><span class="koboSpan" id="kobo.596.1">as highlighted:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer269">
<span class="koboSpan" id="kobo.597.1"><img alt="Figure 1﻿0.16 – Kubernetes nodes dashboard" src="image/B18145_10_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.598.1">Figure 10.16 – Kubernetes nodes dashboard</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.599.1">Upon </span><a id="_idIndexMarker932"/><span class="koboSpan" id="kobo.600.1">clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.601.1">Pods</span></strong><span class="koboSpan" id="kobo.602.1"> link on the </span><strong class="bold"><span class="koboSpan" id="kobo.603.1">Kubernetes Nodes</span></strong><span class="koboSpan" id="kobo.604.1"> dashboard, we get to the </span><strong class="bold"><span class="koboSpan" id="kobo.605.1">Kubernetes Pods</span></strong><span class="koboSpan" id="kobo.606.1"> dashboard, as shown in the following screenshot. </span><span class="koboSpan" id="kobo.606.2">As also shown in the screenshot, you can group these Pods by several criteria. </span><span class="koboSpan" id="kobo.606.3">These groupings are very useful when we have hundreds of Pods running in a cluster. </span><span class="koboSpan" id="kobo.606.4">Additionally, we can also drill down to the </span><strong class="bold"><span class="koboSpan" id="kobo.607.1">Kubernetes Containers</span></strong><span class="koboSpan" id="kobo.608.1"> dashboard from this page as we have seen in the </span><span class="No-Break"><span class="koboSpan" id="kobo.609.1">previous points:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer270">
<span class="koboSpan" id="kobo.610.1"><img alt="Figure﻿ 1﻿0.17 – Kubernetes Pods dashboard" src="image/B18145_10_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.611.1">Figure 10.17 – Kubernetes Pods dashboard</span></p>
<p><span class="koboSpan" id="kobo.612.1">In addition </span><a id="_idIndexMarker933"/><span class="koboSpan" id="kobo.613.1">to all these dashboards, there are several out-of-the-box Kubernetes dashboards we can access using the </span><span class="No-Break"><span class="koboSpan" id="kobo.614.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.615.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.616.1">Integrations</span></strong><span class="koboSpan" id="kobo.617.1"> menu of the top navigation bar as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.618.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer271">
<span class="koboSpan" id="kobo.619.1"><img alt="Figure 1﻿0.18 – Opening the Integrations page" src="image/B18145_10_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.620.1">Figure 10.18 – Opening the Integrations page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.621.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.622.1">Kubernetes</span></strong><span class="koboSpan" id="kobo.623.1"> tile as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.624.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer272">
<span class="koboSpan" id="kobo.625.1"><img alt="Figure 1﻿0.19 – Opening the Kubernetes integration tile" src="image/B18145_10_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.626.1">Figure 10.19 – Opening the Kubernetes integration tile</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.627.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.628.1">Dashboards</span></strong><span class="koboSpan" id="kobo.629.1"> tab as highlighted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.630.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer273">
<span class="koboSpan" id="kobo.631.1"><img alt="Figure 1﻿0.20 – Opening the Kubernetes dashboard page" src="image/B18145_10_20.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.632.1">Figure 10.20 – Opening the Kubernetes dashboard page</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.633.1">The </span><a id="_idIndexMarker934"/><span class="koboSpan" id="kobo.634.1">following screenshot shows all the default dashboards in Aria for </span><span class="No-Break"><span class="koboSpan" id="kobo.635.1">Kubernetes monitoring:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer274">
<span class="koboSpan" id="kobo.636.1"><img alt="Figure 1﻿0.21 – Default Kubernetes dashboards" src="image/B18145_10_21.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.637.1">Figure 10.21 – Default Kubernetes dashboards</span></p>
<p><span class="koboSpan" id="kobo.638.1">All these out-of-the-box dashboards show useful insights using the metrics collected from all integrated Kubernetes clusters with an Aria account, although Aria also allows you to clone these dashboards and customize them to address any specific monitoring requirements. </span><span class="koboSpan" id="kobo.638.2">We can add new charts and new drill-downs, modify existing visualizations, rearrange different tiles, and make several other customizations to these </span><span class="No-Break"><span class="koboSpan" id="kobo.639.1">default dashboards.</span></span></p>
<p><span class="koboSpan" id="kobo.640.1">However, dashboards are useful only when someone explicitly and carefully observes them to find abnormalities. </span><span class="koboSpan" id="kobo.640.2">People generally open them to find anomalies after an issue is reported. </span><span class="koboSpan" id="kobo.640.3">This is a reactive analysis of an issue that has already occurred, but we use these </span><a id="_idIndexMarker935"/><span class="koboSpan" id="kobo.641.1">sophisticated tools to catch issues well in advance, in a proactive manner, before our customers feel the pain. </span><span class="koboSpan" id="kobo.641.2">For that reason, we have to configure alerts in these tools that notify us as soon as any abnormality in any health condition is observed by the monitoring system. </span><span class="koboSpan" id="kobo.641.3">Aria has a powerful alerting capability for the very same reason – and like Aria has a default set of ready-to-use dashboards for Kubernetes, it also comes with a set of predefined alert configurations for proactive Kubernetes monitoring. </span><span class="koboSpan" id="kobo.641.4">Let’s learn </span><span class="No-Break"><span class="koboSpan" id="kobo.642.1">about them.</span></span></p>
<h2 id="_idParaDest-209"><a id="_idTextAnchor209"/><span class="koboSpan" id="kobo.643.1">Accessing default Kubernetes alerts</span></h2>
<p><span class="koboSpan" id="kobo.644.1">In the </span><a id="_idIndexMarker936"/><span class="koboSpan" id="kobo.645.1">previous section, we explored the default dashboards that come with Aria for Kubernetes integration. </span><span class="koboSpan" id="kobo.645.2">The same is the case for a set of useful alerts that are supplied with Aria for Kubernetes. </span><span class="koboSpan" id="kobo.645.3">These alerts are configured with opinionated criteria. </span><span class="koboSpan" id="kobo.645.4">Aria allows you to customize them for various reasons. </span><span class="koboSpan" id="kobo.645.5">The following steps show how to access and configure the out-of-the-box alerts for Kubernetes </span><span class="No-Break"><span class="koboSpan" id="kobo.646.1">cluster monitoring:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.647.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.648.1">Alerts</span></strong><span class="koboSpan" id="kobo.649.1"> tab as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.650.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer275">
<span class="koboSpan" id="kobo.651.1"><img alt="Figure 1﻿0.22 – Opening the Kubernetes Alerts page" src="image/B18145_10_22.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.652.1">Figure 10.22 – Opening the Kubernetes Alerts page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.653.1">The </span><a id="_idIndexMarker937"/><span class="koboSpan" id="kobo.654.1">following page shows all the default alerts that come with Aria </span><span class="No-Break"><span class="koboSpan" id="kobo.655.1">for Kubernetes:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer276">
<span class="koboSpan" id="kobo.656.1"><img alt="Figure 1﻿0.23 – Default Kubernetes alerts" src="image/B18145_10_23.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.657.1">Figure 10.23 – Default Kubernetes alerts</span></p>
<p><span class="koboSpan" id="kobo.658.1">Like dashboards, all these alerts are fully customizable to change their firing conditions and delivery mediums, such as texts, emails, PagerDuty, ServiceNow, Slack, and many others. </span><span class="koboSpan" id="kobo.658.2">We will cover more about working with alerts later in the chapter. </span><span class="koboSpan" id="kobo.658.3">For now, let’s see how to get more details about existing alerts and their status to see whether there are any active conditions. </span><span class="koboSpan" id="kobo.658.4">For that, perform the </span><span class="No-Break"><span class="koboSpan" id="kobo.659.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.660.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.661.1">All Alerts</span></strong><span class="koboSpan" id="kobo.662.1"> option under the </span><strong class="bold"><span class="koboSpan" id="kobo.663.1">Alerting</span></strong><span class="koboSpan" id="kobo.664.1"> menu from the top navigation bar as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.665.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer277">
<span class="koboSpan" id="kobo.666.1"><img alt="Figure 1﻿0.24 – Opening the Alerting page" src="image/B18145_10_24.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.667.1">Figure 10.24 – Opening the Alerting page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.668.1">You will </span><a id="_idIndexMarker938"/><span class="koboSpan" id="kobo.669.1">see a page as shown in the following screenshot listing the current alert conditions that are already triggered for the configured threshold or under </span><span class="No-Break"><span class="koboSpan" id="kobo.670.1">active monitoring:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer278">
<span class="koboSpan" id="kobo.671.1"><img alt="Figure 1﻿0.25 – Alerts page" src="image/B18145_10_25.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.672.1">Figure 10.25 – Alerts page</span></p>
<p><span class="koboSpan" id="kobo.673.1">This concludes our section on how to get started with Aria. </span><span class="koboSpan" id="kobo.673.2">We learned how to set up a trial account to get full access to the Aria platform. </span><span class="koboSpan" id="kobo.673.3">Then, we integrated an existing Kubernetes cluster with the Aria account with a simple three-step procedure. </span><span class="koboSpan" id="kobo.673.4">Then, we saw how to access some useful out-of-the-box dashboards that show insightful details for the </span><a id="_idIndexMarker939"/><span class="koboSpan" id="kobo.674.1">cluster with an ability to drill down to get more details. </span><span class="koboSpan" id="kobo.674.2">Finally, we saw how to access the default set of alerts that are provided by Aria for </span><span class="No-Break"><span class="koboSpan" id="kobo.675.1">Kubernetes integration.</span></span></p>
<p><span class="koboSpan" id="kobo.676.1">As we know, Aria is an observability tool. </span><span class="koboSpan" id="kobo.676.2">The main use case of that kind of tool is to proactively prevent disruptive failures from happening in the first place, and if a failure happens for any reason, finding out the root cause quickly and resolving it. </span><span class="koboSpan" id="kobo.676.3">Monitoring dashboards and alerts are the two main capabilities that play key roles for these reasons. </span><span class="koboSpan" id="kobo.676.4">Let’s learn about them by taking a deeper look, starting with dashboards </span><span class="No-Break"><span class="koboSpan" id="kobo.677.1">and charts.</span></span></p>
<h1 id="_idParaDest-210"><a id="_idTextAnchor210"/><span class="koboSpan" id="kobo.678.1">Working with charts and dashboards</span></h1>
<p><span class="koboSpan" id="kobo.679.1">In this </span><a id="_idIndexMarker940"/><span class="koboSpan" id="kobo.680.1">section, we will cover the following details on using charts </span><a id="_idIndexMarker941"/><span class="koboSpan" id="kobo.681.1">and dashboards </span><span class="No-Break"><span class="koboSpan" id="kobo.682.1">in Aria:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.683.1">Creating new custom charts to visualize any data being sent </span><span class="No-Break"><span class="koboSpan" id="kobo.684.1">to Aria</span></span></li>
<li><span class="koboSpan" id="kobo.685.1">Creating new custom dashboards using canned or </span><span class="No-Break"><span class="koboSpan" id="kobo.686.1">custom charts</span></span></li>
<li><span class="koboSpan" id="kobo.687.1">Customizing </span><span class="No-Break"><span class="koboSpan" id="kobo.688.1">out-of-the-box dashboards</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.689.1">Let’s get started with the topics in </span><span class="No-Break"><span class="koboSpan" id="kobo.690.1">this list.</span></span></p>
<h2 id="_idParaDest-211"><a id="_idTextAnchor211"/><span class="koboSpan" id="kobo.691.1">Creating new custom charts</span></h2>
<p><span class="koboSpan" id="kobo.692.1">When we </span><a id="_idIndexMarker942"/><span class="koboSpan" id="kobo.693.1">configure integration with Aria as we did for a Kubernetes cluster, we can see several metrics getting pushed into Aria that are collected by the agents that we deploy on the hosts. </span><span class="koboSpan" id="kobo.693.2">As with a Kubernetes cluster, we can get telemetry data for any integration that we make. </span><span class="koboSpan" id="kobo.693.3">The number of metrics and the frequency at which they are ingested in Aria depends on the source and the configurations at the collector and Wavefront Proxy. </span><span class="koboSpan" id="kobo.693.4">However, once the metrics data is in the Aria database, it stays there for up to 18 months unless explicitly removed. </span><span class="koboSpan" id="kobo.693.5">We can then use that data anytime to build on-demand charts to gain insights into what is going on with a </span><span class="No-Break"><span class="koboSpan" id="kobo.694.1">source’s health.</span></span></p>
<p><span class="koboSpan" id="kobo.695.1">The following </span><a id="_idIndexMarker943"/><span class="koboSpan" id="kobo.696.1">steps show how to build a chart using an available </span><span class="No-Break"><span class="koboSpan" id="kobo.697.1">metric endpoint:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.698.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.699.1">Dashboard</span></strong><span class="koboSpan" id="kobo.700.1"> menu from the top navigation bar and select the </span><strong class="bold"><span class="koboSpan" id="kobo.701.1">Create </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.702.1">Chart</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.703.1"> option:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer279">
<span class="koboSpan" id="kobo.704.1"><img alt="Figure 1﻿0.26 – Selecting the Create Chart option" src="image/B18145_10_26.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.705.1">Figure 10.26 – Selecting the Create Chart option</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.706.1">On this </span><a id="_idIndexMarker944"/><span class="koboSpan" id="kobo.707.1">page, you can directly write a query in either </span><strong class="bold"><span class="koboSpan" id="kobo.708.1">Wavefront Query Language</span></strong><span class="koboSpan" id="kobo.709.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.710.1">WQL</span></strong><span class="koboSpan" id="kobo.711.1">) or </span><strong class="bold"><span class="koboSpan" id="kobo.712.1">Prometheus Query Language</span></strong><span class="koboSpan" id="kobo.713.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.714.1">PROMQL</span></strong><span class="koboSpan" id="kobo.715.1">) structures if you have some knowledge of either of the query languages. </span><span class="koboSpan" id="kobo.715.2">If </span><a id="_idIndexMarker945"/><span class="koboSpan" id="kobo.716.1">you do not know either of them, Aria allows you to generate a query in the background by selecting the correct values under the dropdowns named </span><strong class="bold"><span class="koboSpan" id="kobo.717.1">Data</span></strong><span class="koboSpan" id="kobo.718.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.719.1">Filters</span></strong><span class="koboSpan" id="kobo.720.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.721.1">Functions</span></strong><span class="koboSpan" id="kobo.722.1">. </span><span class="koboSpan" id="kobo.722.2">Additionally, Aria allows you to either select metrics from the available list or use the integrations you have in place. </span><span class="koboSpan" id="kobo.722.3">Since we have a Kubernetes cluster integrated, we can see Kubernetes as an option to build a chart for the Kubernetes integration in the following screenshot. </span><span class="koboSpan" id="kobo.722.4">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.723.1">Data</span></strong><span class="koboSpan" id="kobo.724.1"> dropdown and the </span><strong class="bold"><span class="koboSpan" id="kobo.725.1">Kubernetes</span></strong><span class="koboSpan" id="kobo.726.1"> tile as highlighted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.727.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer280">
<span class="koboSpan" id="kobo.728.1"><img alt="Figure 1﻿0.27 – Selecting Kubernetes integration" src="image/B18145_10_27.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.729.1">Figure 10.27 – Selecting Kubernetes integration</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.730.1">Select the </span><a id="_idIndexMarker946"/><span class="koboSpan" id="kobo.731.1">chart data points as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.732.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer281">
<span class="koboSpan" id="kobo.733.1"><img alt="Figure 1﻿0.28 – Selecting data elements for the chart" src="image/B18145_10_28.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.734.1">Figure 10.28 – Selecting data elements for the chart</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.735.1">The following chart shows a live view of the CPU usage for all Pods belonging to all the namespaces in all the Kubernetes clusters that we have integrated with the Aria account. </span><span class="koboSpan" id="kobo.735.2">Hence, this chart would be very clumsy if there are several Kubernetes clusters with several Pods running in them. </span><span class="koboSpan" id="kobo.735.3">We may need to implement certain filters to make this chart more usable. </span><span class="koboSpan" id="kobo.735.4">In the context of this book, there should only be one Kubernetes cluster, which we integrated earlier in </span><span class="No-Break"><span class="koboSpan" id="kobo.736.1">the book:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer282">
<span class="koboSpan" id="kobo.737.1"><img alt="Figure 1﻿0.29 – A chart showing the CPU usage of all Pods in all Kubernetes clusters" src="image/B18145_10_29.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.738.1">Figure 10.29 – A chart showing the CPU usage of all Pods in all Kubernetes clusters</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.739.1">Apply a filter to only see the Pods running in the </span><strong class="bold"><span class="koboSpan" id="kobo.740.1">wavefront</span></strong><span class="koboSpan" id="kobo.741.1"> namespace as shown in </span><a id="_idIndexMarker947"/><span class="koboSpan" id="kobo.742.1">the following screenshot. </span><span class="koboSpan" id="kobo.742.2">This will show the CPU usage of the Wavefront Collector and Wavefront Proxy Pods that we deployed earlier during the Kubernetes cluster </span><span class="No-Break"><span class="koboSpan" id="kobo.743.1">integration steps:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer283">
<span class="koboSpan" id="kobo.744.1"><img alt="Figure 1﻿0.30 – Applying filters for a chart" src="image/B18145_10_30.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.745.1">Figure 10.30 – Applying filters for a chart</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.746.1">The following screenshot shows a chart only for the Pods under the </span><strong class="bold"><span class="koboSpan" id="kobo.747.1">wavefront</span></strong><span class="koboSpan" id="kobo.748.1"> namespace. </span><span class="koboSpan" id="kobo.748.2">We can add more filters by clicking on the </span><strong class="bold"><span class="koboSpan" id="kobo.749.1">+</span></strong><span class="koboSpan" id="kobo.750.1"> button near the </span><strong class="bold"><span class="koboSpan" id="kobo.751.1">Filters</span></strong><span class="koboSpan" id="kobo.752.1"> dropdown and applying data functions to further fine-tune the chart as per the requirements. </span><span class="koboSpan" id="kobo.752.2">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.753.1">SAVE</span></strong><span class="koboSpan" id="kobo.754.1"> button to save this chart for </span><span class="No-Break"><span class="koboSpan" id="kobo.755.1">future use:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer284">
<span class="koboSpan" id="kobo.756.1"><img alt="Figure 1﻿0.31 – A chart showing CPU usage of all Pods in the wavefront namespace" src="image/B18145_10_31.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.757.1">Figure 10.31 – A chart showing CPU usage of all Pods in the wavefront namespace</span></p>
<p><span class="koboSpan" id="kobo.758.1">Now, we have </span><a id="_idIndexMarker948"/><span class="koboSpan" id="kobo.759.1">a chart showing some meaningful data on how a group of Pods belonging to a namespace behave in terms of their CPU utilization. </span><span class="koboSpan" id="kobo.759.2">We can do the following things with </span><span class="No-Break"><span class="koboSpan" id="kobo.760.1">this chart:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.761.1">Share it with someone to show them the same view of the data so we can talk in the same language when discussing any </span><span class="No-Break"><span class="koboSpan" id="kobo.762.1">performance issues</span></span></li>
<li><span class="koboSpan" id="kobo.763.1">Add this chart to either a new or an existing custom dashboard for </span><span class="No-Break"><span class="koboSpan" id="kobo.764.1">future use</span></span></li>
<li><span class="koboSpan" id="kobo.765.1">Go back in time to see historical performance data for the selected </span><span class="No-Break"><span class="koboSpan" id="kobo.766.1">time duration</span></span></li>
<li><span class="koboSpan" id="kobo.767.1">Mark interesting events for </span><span class="No-Break"><span class="koboSpan" id="kobo.768.1">future reference</span></span></li>
<li><span class="koboSpan" id="kobo.769.1">Export the chart in either a PDF or </span><span class="No-Break"><span class="koboSpan" id="kobo.770.1">CSV format</span></span></li>
<li><span class="koboSpan" id="kobo.771.1">Change the visualization of the chart to get it in other graphical formats such as bar chart, pie chart, tabular chart, </span><span class="No-Break"><span class="koboSpan" id="kobo.772.1">and more</span></span></li>
<li><span class="koboSpan" id="kobo.773.1">Add more data layers by adding </span><span class="No-Break"><span class="koboSpan" id="kobo.774.1">more queries</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.775.1">The following subsection focuses on various user controls that can be applied to a chart </span><span class="No-Break"><span class="koboSpan" id="kobo.776.1">in Aria.</span></span></p>
<h3><span class="koboSpan" id="kobo.777.1">Understanding chart manipulation controls</span></h3>
<p><span class="koboSpan" id="kobo.778.1">The following </span><a id="_idIndexMarker949"/><span class="koboSpan" id="kobo.779.1">screenshot highlights various controls with a corresponding number as </span><span class="No-Break"><span class="koboSpan" id="kobo.780.1">a reference:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer285">
<span class="koboSpan" id="kobo.781.1"><img alt="Figure 1﻿0.32 – Chart controls" src="image/B18145_10_32.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.782.1">Figure 10.32 – Chart controls</span></p>
<p><span class="koboSpan" id="kobo.783.1">The controls in the previous screenshot are described against those numbers in the </span><span class="No-Break"><span class="koboSpan" id="kobo.784.1">following list:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.785.1">These controls allow you to either watch the chart with live data that keeps refreshing after a few seconds or select a specific timeframe in the past to pull data for that </span><span class="No-Break"><span class="koboSpan" id="kobo.786.1">duration only.</span></span></li>
<li><span class="koboSpan" id="kobo.787.1">These controls provide ways to add more details to </span><span class="No-Break"><span class="koboSpan" id="kobo.788.1">the chart:</span></span><ol><li><strong class="bold"><span class="koboSpan" id="kobo.789.1">Anomaly Detection</span></strong><span class="koboSpan" id="kobo.790.1"> finds specific chart patterns that are deemed unusual based on past data using a few artificial </span><span class="No-Break"><span class="koboSpan" id="kobo.791.1">intelligence algorithms.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.792.1">Compare</span></strong><span class="koboSpan" id="kobo.793.1"> lets you visually compare historical data for the same set of sources to find any </span><span class="No-Break"><span class="koboSpan" id="kobo.794.1">pattern changes.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.795.1">Timezone</span></strong><span class="koboSpan" id="kobo.796.1"> lets you change the chart’s timeline for the selected time zone. </span><span class="koboSpan" id="kobo.796.2">By default, Aria uses the internet browser’s </span><span class="No-Break"><span class="koboSpan" id="kobo.797.1">time zone.</span></span></li><li><strong class="bold"><span class="koboSpan" id="kobo.798.1">Sampling</span></strong><span class="koboSpan" id="kobo.799.1"> lets you turn the usage of data sampling for chart generation in place of considering all the data points on </span><span class="No-Break"><span class="koboSpan" id="kobo.800.1">or off.</span></span></li></ol></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.801.1">Filter</span></strong><span class="koboSpan" id="kobo.802.1"> allows you to reduce the data points based on the tag values supplied without modifying the chart’s </span><span class="No-Break"><span class="koboSpan" id="kobo.803.1">query statement.</span></span></li>
<li><span class="koboSpan" id="kobo.804.1">These controls are used for the following reasons, listed from left </span><span class="No-Break"><span class="koboSpan" id="kobo.805.1">to right:</span></span><ol><li><span class="koboSpan" id="kobo.806.1">Generate a link to the chart that can be shared </span><span class="No-Break"><span class="koboSpan" id="kobo.807.1">with others</span></span></li><li><span class="koboSpan" id="kobo.808.1">Prepare the chart to be embedded in a </span><span class="No-Break"><span class="koboSpan" id="kobo.809.1">web page</span></span></li><li><span class="koboSpan" id="kobo.810.1">Show/hide the chart variables </span><span class="No-Break"><span class="koboSpan" id="kobo.811.1">if used</span></span></li><li><span class="koboSpan" id="kobo.812.1">Flag an event point on the chart with details that generates an event log record for </span><span class="No-Break"><span class="koboSpan" id="kobo.813.1">future references</span></span></li><li><span class="koboSpan" id="kobo.814.1">Export the chart as either a PDF or </span><span class="No-Break"><span class="koboSpan" id="kobo.815.1">CSV file</span></span></li><li><span class="koboSpan" id="kobo.816.1">Save the chart in either a new or an </span><span class="No-Break"><span class="koboSpan" id="kobo.817.1">existing dashboard</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.818.1">These </span><a id="_idIndexMarker950"/><span class="koboSpan" id="kobo.819.1">controls allow you to zoom in and out of the chart for the selected </span><span class="No-Break"><span class="koboSpan" id="kobo.820.1">time window.</span></span></li>
<li><span class="koboSpan" id="kobo.821.1">This control allows you to change the visualization of the chart to display it in different formats such as pie, bar, table, single-value, and </span><span class="No-Break"><span class="koboSpan" id="kobo.822.1">many more.</span></span></li>
<li><span class="koboSpan" id="kobo.823.1">The following list describes </span><span class="No-Break"><span class="koboSpan" id="kobo.824.1">these tabs:</span></span><ol><li><span class="koboSpan" id="kobo.825.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.826.1">Data</span></strong><span class="koboSpan" id="kobo.827.1"> tab lets you work with queries to pull </span><span class="No-Break"><span class="koboSpan" id="kobo.828.1">chart data</span></span></li><li><span class="koboSpan" id="kobo.829.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.830.1">Format</span></strong><span class="koboSpan" id="kobo.831.1"> tab allows you to modify the chart’s </span><span class="No-Break"><span class="koboSpan" id="kobo.832.1">visual details</span></span></li><li><span class="koboSpan" id="kobo.833.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.834.1">Axis</span></strong><span class="koboSpan" id="kobo.835.1"> tab allows you to modify the chart’s </span><span class="No-Break"><span class="koboSpan" id="kobo.836.1">axis units</span></span></li><li><span class="koboSpan" id="kobo.837.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.838.1">Legend</span></strong><span class="koboSpan" id="kobo.839.1"> tab allows you to configure a data legend on </span><span class="No-Break"><span class="koboSpan" id="kobo.840.1">the chart</span></span></li><li><span class="koboSpan" id="kobo.841.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.842.1">Drilldown Link</span></strong><span class="koboSpan" id="kobo.843.1"> tab allows you to configure a link to another dashboard showing </span><span class="No-Break"><span class="koboSpan" id="kobo.844.1">relevant data</span></span></li><li><span class="koboSpan" id="kobo.845.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.846.1">Description</span></strong><span class="koboSpan" id="kobo.847.1"> tab allows you to set a chart description that can be seen in a tooltip for the chart </span><span class="No-Break"><span class="koboSpan" id="kobo.848.1">with mouse-hover</span></span></li><li><span class="koboSpan" id="kobo.849.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.850.1">Anomaly Detection</span></strong><span class="koboSpan" id="kobo.851.1"> tab allows you to configure related settings for its sensitivity, display, and </span><span class="No-Break"><span class="koboSpan" id="kobo.852.1">data sampling</span></span></li><li><span class="koboSpan" id="kobo.853.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.854.1">Advanced</span></strong><span class="koboSpan" id="kobo.855.1"> tab allows you to pull obsolete metrics and configure the chart’s timeline with respect to its </span><span class="No-Break"><span class="koboSpan" id="kobo.856.1">parent dashboard.</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.857.1">This control allows you to name a chart data layer for </span><span class="No-Break"><span class="koboSpan" id="kobo.858.1">the query.</span></span></li>
<li><span class="koboSpan" id="kobo.859.1">These controls allow you to toggle between WQL and PROMQL, and between the query graphical editor and the </span><span class="No-Break"><span class="koboSpan" id="kobo.860.1">text editor.</span></span></li>
<li><span class="koboSpan" id="kobo.861.1">This set </span><a id="_idIndexMarker951"/><span class="koboSpan" id="kobo.862.1">of controls allows you to perform the following configurations from left </span><span class="No-Break"><span class="koboSpan" id="kobo.863.1">to right:</span></span><ol><li><span class="koboSpan" id="kobo.864.1">See query execution statistics to determine the need for </span><span class="No-Break"><span class="koboSpan" id="kobo.865.1">query optimization</span></span></li><li><span class="koboSpan" id="kobo.866.1">Clone an existing query to create a new data layer for </span><span class="No-Break"><span class="koboSpan" id="kobo.867.1">the chart</span></span></li><li><span class="koboSpan" id="kobo.868.1">Delete the query and its respective visual data from </span><span class="No-Break"><span class="koboSpan" id="kobo.869.1">the chart</span></span></li><li><span class="koboSpan" id="kobo.870.1">Show or hide the query data in the chart without deleting </span><span class="No-Break"><span class="koboSpan" id="kobo.871.1">the query</span></span></li><li><span class="koboSpan" id="kobo.872.1">Various other options, including alert creation based on the query and </span><span class="No-Break"><span class="koboSpan" id="kobo.873.1">chart formatting</span></span></li></ol></li>
<li><span class="koboSpan" id="kobo.874.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.875.1">ADD QUERY</span></strong><span class="koboSpan" id="kobo.876.1"> link allows you to add new data and its visualization layer to </span><span class="No-Break"><span class="koboSpan" id="kobo.877.1">the chart.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.878.1">All these chart controls play a key role in building meaningful dashboards. </span><span class="koboSpan" id="kobo.878.2">Let’s now learn how to work with dashboards </span><span class="No-Break"><span class="koboSpan" id="kobo.879.1">in Aria.</span></span></p>
<h2 id="_idParaDest-212"><a id="_idTextAnchor212"/><span class="koboSpan" id="kobo.880.1">Creating new custom dashboards</span></h2>
<p><span class="koboSpan" id="kobo.881.1">As we have </span><a id="_idIndexMarker952"/><span class="koboSpan" id="kobo.882.1">seen earlier in this chapter, for Kubernetes integration, Aria supplies a set of canned dashboards that are ready to use for the telemetry data coming from the respective integration source. </span><span class="koboSpan" id="kobo.882.2">However, Aria can ingest data from various integrated sources including applications, Kubernetes, a hypervisor of the virtual infrastructure layer, an OS, databases, and several others. </span><span class="koboSpan" id="kobo.882.3">In that case, the default dashboards for a particular integration would not provide a complete picture. </span><span class="koboSpan" id="kobo.882.4">For example, none of the default Kubernetes dashboards in Aria cover charts showing data coming from the OS or the hardware hosts on which the nodes are deployed. </span><span class="koboSpan" id="kobo.882.5">The default and integration-specific dashboards cannot assume that the data pertaining to another integration will always be present. </span><span class="koboSpan" id="kobo.882.6">For example, in this chapter, we have only one integration in place for a Kubernetes cluster. </span><span class="koboSpan" id="kobo.882.7">Hence, if a default dashboard expects metrics to come from the node OSs, then it would fail. </span><span class="koboSpan" id="kobo.882.8">In these cases, we need custom dashboards that can display correlated data from multiple sources. </span><span class="koboSpan" id="kobo.882.9">Dashboards that show data from different sources could significantly help get a broader view of the landscape and quickly find the root causes of issues. </span><span class="koboSpan" id="kobo.882.10">A slow-running query in a database could be the cause of a slow-responding application, so having the details of both the layers, the application and the database, on one dashboard could help find the </span><span class="No-Break"><span class="koboSpan" id="kobo.883.1">issue quickly.</span></span></p>
<p><span class="koboSpan" id="kobo.884.1">There are </span><a id="_idIndexMarker953"/><span class="koboSpan" id="kobo.885.1">two ways we can build custom dashboards in Aria. </span><span class="koboSpan" id="kobo.885.2">First, we can build them using custom charts that can be added to a new or existing dashboard. </span><span class="koboSpan" id="kobo.885.3">Second, we can build custom dashboards using the different templates provided in Aria or add custom charts to it. </span><span class="koboSpan" id="kobo.885.4">Let’s use the chart we built in the previous section to create a new dashboard. </span><span class="koboSpan" id="kobo.885.5">The following steps </span><span class="No-Break"><span class="koboSpan" id="kobo.886.1">describe this:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.887.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.888.1">SAVE</span></strong><span class="koboSpan" id="kobo.889.1"> button, followed by the </span><strong class="bold"><span class="koboSpan" id="kobo.890.1">SAVE TO A NEW DASHBOARD</span></strong><span class="koboSpan" id="kobo.891.1"> button, as highlighted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.892.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer286">
<span class="koboSpan" id="kobo.893.1"><img alt="Figure 1﻿0.33 – Creating a new dashboard from a custom chart" src="image/B18145_10_33.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.894.1">Figure 10.33 – Creating a new dashboard from a custom chart</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.895.1">Enter the name of the dashboard and click on the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.896.1">CREATE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.897.1"> button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer287">
<span class="koboSpan" id="kobo.898.1"><img alt="Figure 1﻿0.34 – Naming and creating a dashboard" src="image/B18145_10_34.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.899.1">Figure 10.34 – Naming and creating a dashboard</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.900.1">The following </span><a id="_idIndexMarker954"/><span class="koboSpan" id="kobo.901.1">screenshot shows the Aria dashboard editor where the custom chart is now added. </span><span class="koboSpan" id="kobo.901.2">We can add several custom or predefined charts from the out-of-the-box chart templates provided by Aria for the integrations </span><span class="No-Break"><span class="koboSpan" id="kobo.902.1">it has:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer288">
<span class="koboSpan" id="kobo.903.1"><img alt="Figure 1﻿0.35 – Dashboard editor" src="image/B18145_10_35.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.904.1">Figure 10.35 – Dashboard editor</span></p>
<p><span class="koboSpan" id="kobo.905.1">The following points explain the highlighted sections in the previous screenshot of the </span><span class="No-Break"><span class="koboSpan" id="kobo.906.1">dashboard editor:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.907.1">Variables allowing you to manipulate the data in the applicable charts of the dashboard. </span><span class="koboSpan" id="kobo.907.2">These variable values can be added to the </span><span class="No-Break"><span class="koboSpan" id="kobo.908.1">chart queries.</span></span></li>
<li><span class="koboSpan" id="kobo.909.1">A section is a group of similar charts in a dashboard. </span><span class="koboSpan" id="kobo.909.2">We can use sections to either show/hide charts or jump from one section to another in a very </span><span class="No-Break"><span class="koboSpan" id="kobo.910.1">big dashboard.</span></span></li>
<li><span class="koboSpan" id="kobo.911.1">These section controls allow you to add, remove, or move </span><span class="No-Break"><span class="koboSpan" id="kobo.912.1">the sections.</span></span></li>
<li><span class="koboSpan" id="kobo.913.1">These arrows allow you to resize the chart to add more than one chart in a single row for more consolidation of data in </span><span class="No-Break"><span class="koboSpan" id="kobo.914.1">a row.</span></span></li>
<li><span class="koboSpan" id="kobo.915.1">All these tiles allow you to add more charts to this dashboard in a selected section. </span><span class="koboSpan" id="kobo.915.2">Here, we can also import some of the existing canned charts that are provided by Aria </span><span class="No-Break"><span class="koboSpan" id="kobo.916.1">for integration.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.917.1">After seeing </span><a id="_idIndexMarker955"/><span class="koboSpan" id="kobo.918.1">how to create a new dashboard from scratch, let’s now see how to customize an out-of-the-box dashboard provided </span><span class="No-Break"><span class="koboSpan" id="kobo.919.1">by Aria.</span></span></p>
<h2 id="_idParaDest-213"><a id="_idTextAnchor213"/><span class="koboSpan" id="kobo.920.1">Customizing a default dashboard</span></h2>
<p><span class="koboSpan" id="kobo.921.1">Although the default dashboards provided in Aria for different integrations are designed thoughtfully, there could be a few things we may like to change in their look and feel. </span><span class="koboSpan" id="kobo.921.2">In Aria, we cannot </span><a id="_idIndexMarker956"/><span class="koboSpan" id="kobo.922.1">directly update a default dashboard that comes out of the box, but we can clone it and create a custom copy. </span><span class="koboSpan" id="kobo.922.2">Then, we can update the custom copy of the default dashboard in whatever way we need. </span><span class="koboSpan" id="kobo.922.3">Let’s see how that can be done using the </span><span class="No-Break"><span class="koboSpan" id="kobo.923.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.924.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.925.1">All Dashboards</span></strong><span class="koboSpan" id="kobo.926.1"> menu under the main </span><strong class="bold"><span class="koboSpan" id="kobo.927.1">Dashboards</span></strong><span class="koboSpan" id="kobo.928.1"> menu in the top navigation bar as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.929.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer289">
<span class="koboSpan" id="kobo.930.1"><img alt="Figure 1﻿0.36 – Opening the Dashboards page" src="image/B18145_10_36.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.931.1">Figure 10.36 – Opening the Dashboards page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.932.1">Click on </span><a id="_idIndexMarker957"/><span class="koboSpan" id="kobo.933.1">the </span><strong class="bold"><span class="koboSpan" id="kobo.934.1">Kubernetes</span></strong><span class="koboSpan" id="kobo.935.1"> link from the left-hand navigation bar and then click on the </span><strong class="bold"><span class="koboSpan" id="kobo.936.1">Kubernetes Clusters</span></strong><span class="koboSpan" id="kobo.937.1"> dashboard as highlighted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.938.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer290">
<span class="koboSpan" id="kobo.939.1"><img alt="Figure 1﻿0.37 – Opening the Kubernetes Clusters dashboard" src="image/B18145_10_37.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.940.1">Figure 10.37 – Opening the Kubernetes Clusters dashboard</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.941.1">The following screenshot shows the </span><strong class="bold"><span class="koboSpan" id="kobo.942.1">Kubernetes Clusters</span></strong><span class="koboSpan" id="kobo.943.1"> dashboard, which is one of the default dashboards that comes with Aria. </span><span class="koboSpan" id="kobo.943.2">All default dashboards are marked with the highlighted lock symbol. </span><span class="koboSpan" id="kobo.943.3">To clone the dashboard for customization, click on the highlighted dots menu on the right and select the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.944.1">Clone</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.945.1"> option:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer291">
<span class="koboSpan" id="kobo.946.1"><img alt="Figure 1﻿0.38 – Cloning a default dashboard" src="image/B18145_10_38.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.947.1">Figure 10.38 – Cloning a default dashboard</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.948.1">Give an </span><a id="_idIndexMarker958"/><span class="koboSpan" id="kobo.949.1">appropriate name to the cloned copy of the dashboard and click on the </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.950.1">CLONE</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.951.1"> button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer292">
<span class="koboSpan" id="kobo.952.1"><img alt="Figure 10.39 – Naming the cloned dashboard " src="image/B18145_10_39.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.953.1">Figure 10.39 – Naming the cloned dashboard</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.954.1">You will see the same dashboard editor that we checked out earlier allowing you to make any changes to the dashboard, including but not limited to changing chart data queries, chart visualization, rearrangement of tiles, and adding new </span><span class="No-Break"><span class="koboSpan" id="kobo.955.1">data visualizations:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer293">
<span class="koboSpan" id="kobo.956.1"><img alt="Figure 1﻿0.40 – Dashboard editor" src="image/B18145_10_40.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.957.1">Figure 10.40 – Dashboard editor</span></p>
<p><span class="koboSpan" id="kobo.958.1">Once you </span><a id="_idIndexMarker959"/><span class="koboSpan" id="kobo.959.1">make the required changes and save this dashboard, you can then mark it as a favorited dashboard and put it under the quick access menu. </span><span class="koboSpan" id="kobo.959.2">You can also define who can access the dashboard for viewing and </span><span class="No-Break"><span class="koboSpan" id="kobo.960.1">editing purposes.</span></span></p>
<p><span class="koboSpan" id="kobo.961.1">With this, we have concluded working with charts and dashboards, with a very high-level overview </span><a id="_idIndexMarker960"/><span class="koboSpan" id="kobo.962.1">of the capabilities. </span><span class="koboSpan" id="kobo.962.2">For more details about charts and the dashboard, refer to </span><a id="_idIndexMarker961"/><span class="koboSpan" id="kobo.963.1">the official product documentation – </span><a href="https://docs.wavefront.com/ui_charts.html"><span class="koboSpan" id="kobo.964.1">https://docs.wavefront.com/ui_charts.html</span></a><span class="koboSpan" id="kobo.965.1"> and </span><a href="https://docs.wavefront.com/ui_dashboards.html"><span class="koboSpan" id="kobo.966.1">https://docs.wavefront.com/ui_dashboards.html</span></a><span class="koboSpan" id="kobo.967.1">. </span><span class="koboSpan" id="kobo.967.2">In the next and last section of the chapter, we will learn about working </span><span class="No-Break"><span class="koboSpan" id="kobo.968.1">with alerts.</span></span></p>
<h1 id="_idParaDest-214"><a id="_idTextAnchor214"/><span class="koboSpan" id="kobo.969.1">Working with alerts</span></h1>
<p><span class="koboSpan" id="kobo.970.1">Any monitoring tool is not complete if it does not have a good alerting capability. </span><span class="koboSpan" id="kobo.970.2">Aria is also not </span><a id="_idIndexMarker962"/><span class="koboSpan" id="kobo.971.1">an exception. </span><span class="koboSpan" id="kobo.971.2">It has a very powerful and highly configurable alerting engine that allows you to configure alerts with multiple thresholds, delivery based on those threshold levels, and several possible delivery methods, including but not limited to an email, a text, a Slack message, a Microsoft Teams message, a ServiceNow ticket, or a PagerDuty incident. </span><span class="koboSpan" id="kobo.971.3">Moreover, we can also configure triggering an automated process using a webhook that calls a remote API outside of the Aria boundary. </span><span class="koboSpan" id="kobo.971.4">There are so many useful things we can configure using Aria’s alerting features. </span><span class="koboSpan" id="kobo.971.5">Let’s learn </span><a id="_idIndexMarker963"/><span class="koboSpan" id="kobo.972.1">more about alerts in this section, including the </span><span class="No-Break"><span class="koboSpan" id="kobo.973.1">following things:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.974.1">Creating alert targets to define who should get which alert using which </span><span class="No-Break"><span class="koboSpan" id="kobo.975.1">delivery mechanism</span></span></li>
<li><span class="koboSpan" id="kobo.976.1">Defining a maintenance window to avoid </span><span class="No-Break"><span class="koboSpan" id="kobo.977.1">obvious alerts</span></span></li>
<li><span class="koboSpan" id="kobo.978.1">Creating </span><span class="No-Break"><span class="koboSpan" id="kobo.979.1">new alerts</span></span></li>
<li><span class="koboSpan" id="kobo.980.1">Inspecting </span><span class="No-Break"><span class="koboSpan" id="kobo.981.1">firing alerts</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.982.1">Let’s get started with </span><span class="No-Break"><span class="koboSpan" id="kobo.983.1">these topics.</span></span></p>
<h2 id="_idParaDest-215"><a id="_idTextAnchor215"/><span class="koboSpan" id="kobo.984.1">Creating alert targets</span></h2>
<p><span class="koboSpan" id="kobo.985.1">An alert </span><a id="_idIndexMarker964"/><span class="koboSpan" id="kobo.986.1">target in Aria contains several details and provides very flexible ways to define the following things at a </span><span class="No-Break"><span class="koboSpan" id="kobo.987.1">high level:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.988.1">When the notification should be delivered and when it should be </span><span class="No-Break"><span class="koboSpan" id="kobo.989.1">held back</span></span></li>
<li><span class="koboSpan" id="kobo.990.1">Using which medium the alert should </span><span class="No-Break"><span class="koboSpan" id="kobo.991.1">be delivered</span></span></li>
<li><span class="koboSpan" id="kobo.992.1">Who should get the alert and under </span><span class="No-Break"><span class="koboSpan" id="kobo.993.1">what conditions</span></span></li>
<li><span class="koboSpan" id="kobo.994.1">What details the alert should contain and in </span><span class="No-Break"><span class="koboSpan" id="kobo.995.1">what format</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.996.1">The following steps show how to create the most common email-based alert target </span><span class="No-Break"><span class="koboSpan" id="kobo.997.1">in Aria:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.998.1">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.999.1">Alerting</span></strong><span class="koboSpan" id="kobo.1000.1"> menu from the top navigation bar and select </span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1001.1">Alert Targets</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1002.1">:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer294">
<span class="koboSpan" id="kobo.1003.1"><img alt="Figure 1﻿0.41 – Opening the Alert Targets list page" src="image/B18145_10_41.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1004.1">Figure 10.41 – Opening the Alert Targets list page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1005.1">Click </span><a id="_idIndexMarker965"/><span class="koboSpan" id="kobo.1006.1">on the </span><strong class="bold"><span class="koboSpan" id="kobo.1007.1">CREATE ALERT </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1008.1">TARGET</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1009.1"> button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer295">
<span class="koboSpan" id="kobo.1010.1"><img alt="Figure 1﻿0.42 – Creating a new alert target" src="image/B18145_10_42.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1011.1">Figure 10.42 – Creating a new alert target</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.1012.1">Enter details in the form as depicted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1013.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer296">
<span class="koboSpan" id="kobo.1014.1"><img alt="Figure 1﻿0.43 – Create Alert Target page" src="image/B18145_10_43.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1015.1">Figure 10.43 – Create Alert Target page</span></p>
<p><span class="koboSpan" id="kobo.1016.1">The following </span><a id="_idIndexMarker966"/><span class="koboSpan" id="kobo.1017.1">are the elements in the previous screenshot as per </span><span class="No-Break"><span class="koboSpan" id="kobo.1018.1">their numbers:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1019.1">This is the name of the alert target. </span><span class="koboSpan" id="kobo.1019.2">Specify a unique </span><span class="No-Break"><span class="koboSpan" id="kobo.1020.1">name here.</span></span></li>
<li><span class="koboSpan" id="kobo.1021.1">This is the description of the alert target. </span><span class="koboSpan" id="kobo.1021.2">Specify any </span><span class="No-Break"><span class="koboSpan" id="kobo.1022.1">understandable description.</span></span></li>
<li><span class="koboSpan" id="kobo.1023.1">A set of </span><strong class="bold"><span class="koboSpan" id="kobo.1024.1">Triggers</span></strong><span class="koboSpan" id="kobo.1025.1"> defines when the alert notification should be delivered to its destination and when it should not be. </span><span class="koboSpan" id="kobo.1025.2">For example, it allows you to configure if you would like to deliver an alert notification when the alert condition </span><span class="No-Break"><span class="koboSpan" id="kobo.1026.1">is resolved.</span></span></li>
<li><span class="koboSpan" id="kobo.1027.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1028.1">Type</span></strong><span class="koboSpan" id="kobo.1029.1"> dropdown allows you to select one of the main three types of alert notification – </span><strong class="bold"><span class="koboSpan" id="kobo.1030.1">Email</span></strong><span class="koboSpan" id="kobo.1031.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.1032.1">PagerDuty</span></strong><span class="koboSpan" id="kobo.1033.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.1034.1">and </span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1035.1">Webhook</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1036.1">.</span></span></li>
<li><span class="koboSpan" id="kobo.1037.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1038.1">Default Recipient</span></strong><span class="koboSpan" id="kobo.1039.1"> box allows you to specify a list of email addresses that should receive the email notification for this alert target. </span><span class="koboSpan" id="kobo.1039.2">The email list specified here will get the notification for </span><span class="No-Break"><span class="koboSpan" id="kobo.1040.1">any dataset.</span></span></li>
<li><span class="koboSpan" id="kobo.1041.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1042.1">Routing</span></strong><span class="koboSpan" id="kobo.1043.1"> configuration allows you to deliver the same alert notification to additional destinations based on the defined keys and their values. </span><span class="koboSpan" id="kobo.1043.2">Using this configuration, we can configure different application teams to be notified based on the application identifiers in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1044.1">alert data.</span></span></li>
<li><span class="koboSpan" id="kobo.1045.1">These controls allow you to configure the details in the notification. </span><span class="koboSpan" id="kobo.1045.2">When this pertains to an email notification, the details are the subject and the body of the email. </span><span class="koboSpan" id="kobo.1045.3">We can configure these values using variables that carry the alert-specific custom data in </span><span class="No-Break"><span class="koboSpan" id="kobo.1046.1">the notification.</span></span></li>
</ol>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1047.1">We can </span><a id="_idIndexMarker967"/><span class="koboSpan" id="kobo.1048.1">see an alert target created as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1049.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer297">
<span class="koboSpan" id="kobo.1050.1"><img alt="Figure 1﻿0.44 – Created alert target record" src="image/B18145_10_44.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1051.1">Figure 10.44 – Created alert target record</span></p>
<p><span class="koboSpan" id="kobo.1052.1">Now, as we have an alert target for the delivery of notifications for any generated alert, we can use this target to deliver alerts. </span><span class="koboSpan" id="kobo.1052.2">We can use one alert target with more than one alert configuration – but before we learn how to create an alert with a button click, let’s first learn how to configure a maintenance window to avoid false-positive alerts during scheduled maintenance when </span><span class="No-Break"><span class="koboSpan" id="kobo.1053.1">alert monitoring.</span></span></p>
<h2 id="_idParaDest-216"><a id="_idTextAnchor216"/><span class="koboSpan" id="kobo.1054.1">Defining a maintenance window</span></h2>
<p><span class="koboSpan" id="kobo.1055.1">Getting a </span><a id="_idIndexMarker968"/><span class="koboSpan" id="kobo.1056.1">flood of alerts during a maintenance window for systems under observation is not good, as we already know that things may go down or perform abnormally during those activities. </span><span class="koboSpan" id="kobo.1056.2">However, in the midst of false positives during a maintenance window, missing a real alert that needs attention would be worse. </span><span class="koboSpan" id="kobo.1056.3">To prevent critical alerts from being buried under those non-critical alerts, Aria allows you to define a maintenance window where we can mark certain system health parameters to be ignored. </span><span class="koboSpan" id="kobo.1056.4">In this case, we can take actual alerts seriously </span><a id="_idIndexMarker969"/><span class="koboSpan" id="kobo.1057.1">during scheduled activities. </span><span class="koboSpan" id="kobo.1057.2">The following steps show how to configure a maintenance window </span><span class="No-Break"><span class="koboSpan" id="kobo.1058.1">in Aria:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1059.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1060.1">Alerting</span></strong><span class="koboSpan" id="kobo.1061.1"> menu from the top navigation bar and select the </span><strong class="bold"><span class="koboSpan" id="kobo.1062.1">Maintenance Windows</span></strong><span class="koboSpan" id="kobo.1063.1"> option as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1064.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer298">
<span class="koboSpan" id="kobo.1065.1"><img alt="Figure 1﻿0.45 – Opening the Maintenance Window list page" src="image/B18145_10_45.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1066.1">Figure 10.45 – Opening the Maintenance Window list page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1067.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1068.1">CREATE MAINTENANCE </span></strong><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.1069.1">WINDOW</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.1070.1"> button:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer299">
<span class="koboSpan" id="kobo.1071.1"><img alt="Figure 1﻿0.46 – CREATE MAINTENANCE WINDOW" src="image/B18145_10_46.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1072.1">Figure 10.46 – CREATE MAINTENANCE WINDOW</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.1073.1">Enter the required details of the maintenance window to select the time and the characteristics </span><a id="_idIndexMarker970"/><span class="koboSpan" id="kobo.1074.1">of the systems for the maintenance window as depicted in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1075.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer300">
<span class="koboSpan" id="kobo.1076.1"><img alt="Figure 1﻿0.47 – Entering maintenance window details" src="image/B18145_10_47.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1077.1">Figure 10.47 – Entering maintenance window details</span></p>
<p><span class="koboSpan" id="kobo.1078.1">The following numbered points describe the corresponding number in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1079.1">previous screenshot:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1080.1">Enter a unique name for the maintenance </span><span class="No-Break"><span class="koboSpan" id="kobo.1081.1">window record</span></span></li>
<li><span class="koboSpan" id="kobo.1082.1">Enter a description of the maintenance </span><span class="No-Break"><span class="koboSpan" id="kobo.1083.1">window’s purpose</span></span></li>
<li><span class="koboSpan" id="kobo.1084.1">Either select </span><strong class="bold"><span class="koboSpan" id="kobo.1085.1">Now</span></strong><span class="koboSpan" id="kobo.1086.1"> to start the maintenance window on demand or select the scheduled start and end time and date to define </span><span class="No-Break"><span class="koboSpan" id="kobo.1087.1">the window</span></span></li>
<li><span class="koboSpan" id="kobo.1088.1">Enter the source-defining parameters to cover the alerts in this </span><span class="No-Break"><span class="koboSpan" id="kobo.1089.1">maintenance window</span></span></li>
<li><span class="koboSpan" id="kobo.1090.1">Select either to mute/ignore the alerts with the criteria covered in the previous point and during the defined time window or select an alert target to divert the alerts there during </span><span class="No-Break"><span class="koboSpan" id="kobo.1091.1">the window</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.1092.1">Once </span><a id="_idIndexMarker971"/><span class="koboSpan" id="kobo.1093.1">the </span><strong class="bold"><span class="koboSpan" id="kobo.1094.1">SAVE</span></strong><span class="koboSpan" id="kobo.1095.1"> button is clicked, the maintenance window is created, as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1096.1">following screenshot:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer301">
<span class="koboSpan" id="kobo.1097.1"><img alt="Figure 1﻿0.48 – Created maintenance window record" src="image/B18145_10_48.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1098.1">Figure 10.48 – Created maintenance window record</span></p>
<p><span class="koboSpan" id="kobo.1099.1">Now, with the maintenance record created, let’s create a custom </span><span class="No-Break"><span class="koboSpan" id="kobo.1100.1">alert record.</span></span></p>
<h2 id="_idParaDest-217"><a id="_idTextAnchor217"/><span class="koboSpan" id="kobo.1101.1">Creating new alerts</span></h2>
<p><span class="koboSpan" id="kobo.1102.1">In this section, we will learn how to create a new alert. </span><span class="koboSpan" id="kobo.1102.2">There are three ways we can create </span><a id="_idIndexMarker972"/><span class="koboSpan" id="kobo.1103.1">alerts in Aria. </span><span class="koboSpan" id="kobo.1103.2">One of them is to create an alert using the alert creation wizard from the main </span><strong class="bold"><span class="koboSpan" id="kobo.1104.1">Alerts</span></strong><span class="koboSpan" id="kobo.1105.1"> menu. </span><span class="koboSpan" id="kobo.1105.2">The second one is to duplicate an alert and modify the required details. </span><span class="koboSpan" id="kobo.1105.3">The last one is to create it using an existing chart, usually already there on a dashboard. </span><span class="koboSpan" id="kobo.1105.4">While the first two ways are more obvious, let’s learn how to create an alert using the third way, from an existing chart, using the </span><span class="No-Break"><span class="koboSpan" id="kobo.1106.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1107.1">Open the </span><strong class="bold"><span class="koboSpan" id="kobo.1108.1">All Dashboards</span></strong><span class="koboSpan" id="kobo.1109.1"> page under the </span><strong class="bold"><span class="koboSpan" id="kobo.1110.1">Dashboards</span></strong><span class="koboSpan" id="kobo.1111.1"> menu on the top </span><span class="No-Break"><span class="koboSpan" id="kobo.1112.1">navigation bar:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer302">
<span class="koboSpan" id="kobo.1113.1"><img alt="Figure 1﻿0.49 – Opening the All Dashboards page" src="image/B18145_10_49.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1114.1">Figure 10.49 – Opening the All Dashboards page</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1115.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1116.1">Kubernetes Clusters</span></strong><span class="koboSpan" id="kobo.1117.1"> dashboard from the list as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1118.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer303">
<span class="koboSpan" id="kobo.1119.1"><img alt="Figure 1﻿0.50 – Opening the Kubernetes Clusters dashboard" src="image/B18145_10_50.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1120.1">Figure 10.50 – Opening the Kubernetes Clusters dashboard</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.1121.1">Click on </span><a id="_idIndexMarker973"/><span class="koboSpan" id="kobo.1122.1">the pencil icon on the </span><strong class="bold"><span class="koboSpan" id="kobo.1123.1">Node Storage Utilization Avg </span></strong><span class="koboSpan" id="kobo.1124.1">chart as highlighted in the following screenshot. </span><span class="koboSpan" id="kobo.1124.2">The same method of creating an alert from a chart can be applied to all the charts on </span><span class="No-Break"><span class="koboSpan" id="kobo.1125.1">any dashboard:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer304">
<span class="koboSpan" id="kobo.1126.1"><img alt="Figure 1﻿0.51 – Editing a chart" src="image/B18145_10_51.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1127.1">Figure 10.51 – Editing a chart</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.1128.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1129.1">Create Alert</span></strong><span class="koboSpan" id="kobo.1130.1"> link under the dots menu dropdown of the query as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1131.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer305">
<span class="koboSpan" id="kobo.1132.1"><img alt="Figure 1﻿0.52 – Creating an alert from a chart editor" src="image/B18145_10_52.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1133.1">Figure 10.52 – Creating an alert from a chart editor</span></p>
<p><span class="koboSpan" id="kobo.1134.1">As you </span><a id="_idIndexMarker974"/><span class="koboSpan" id="kobo.1135.1">can see on the </span><strong class="bold"><span class="koboSpan" id="kobo.1136.1">Create Alert</span></strong><span class="koboSpan" id="kobo.1137.1"> page, the query to pull alert data is already populated using the chart’s query. </span><span class="koboSpan" id="kobo.1137.2">This is a big help in getting the right alert configuration. </span><span class="koboSpan" id="kobo.1137.3">Let’s set up the other </span><span class="No-Break"><span class="koboSpan" id="kobo.1138.1">alert details.</span></span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.1139.1">Click the </span><strong class="bold"><span class="koboSpan" id="kobo.1140.1">NEXT</span></strong><span class="koboSpan" id="kobo.1141.1"> button on the query details page as shown in the following screenshot. </span><span class="koboSpan" id="kobo.1141.2">Update the alert query </span><span class="No-Break"><span class="koboSpan" id="kobo.1142.1">if required:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer306">
<span class="koboSpan" id="kobo.1143.1"><img alt="Figure 1﻿0.53 – Updating the alert query" src="image/B18145_10_53.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1144.1">Figure 10.53 – Updating the alert query</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.1145.1">Configure </span><a id="_idIndexMarker975"/><span class="koboSpan" id="kobo.1146.1">the alert conditions with different threshold levels as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1147.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer307">
<span class="koboSpan" id="kobo.1148.1"><img alt="Figure 1﻿0.54 – Configuring alert conditions" src="image/B18145_10_54.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1149.1">Figure 10.54 – Configuring alert conditions</span></p>
<p><span class="koboSpan" id="kobo.1150.1">The following points correspond to the numbers mentioned in the previous screenshot to describe </span><span class="No-Break"><span class="koboSpan" id="kobo.1151.1">the controls:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1152.1">These are different alert threshold values. </span><span class="koboSpan" id="kobo.1152.2">The alert will fire with the corresponding severity when a certain condition </span><span class="No-Break"><span class="koboSpan" id="kobo.1153.1">is met.</span></span></li>
<li><span class="koboSpan" id="kobo.1154.1">The trigger and resolve windows define the timelines to consider a condition as either the start of the alert or the end </span><span class="No-Break"><span class="koboSpan" id="kobo.1155.1">of it.</span></span></li>
<li><span class="koboSpan" id="kobo.1156.1">The additional settings provide controls to define the frequency of </span><span class="No-Break"><span class="koboSpan" id="kobo.1157.1">alert checks.</span></span></li>
<li><span class="koboSpan" id="kobo.1158.1">The </span><strong class="bold"><span class="koboSpan" id="kobo.1159.1">TEST CONDITION</span></strong><span class="koboSpan" id="kobo.1160.1"> button allows you to test whether an alert would have triggered based on the past data of the last 2 hours to validate </span><span class="No-Break"><span class="koboSpan" id="kobo.1161.1">the configuration.</span></span></li>
</ol>
<ol>
<li value="7"><span class="koboSpan" id="kobo.1162.1">Select an </span><a id="_idIndexMarker976"/><span class="koboSpan" id="kobo.1163.1">alert target that has previously been created in the account. </span><span class="koboSpan" id="kobo.1163.2">Note that the following screenshot only shows one target configured for the </span><strong class="bold"><span class="koboSpan" id="kobo.1164.1">SMOKE</span></strong><span class="koboSpan" id="kobo.1165.1"> level, which will be applicable for all the threshold levels above it, which are </span><strong class="bold"><span class="koboSpan" id="kobo.1166.1">WARN</span></strong><span class="koboSpan" id="kobo.1167.1"> and </span><strong class="bold"><span class="koboSpan" id="kobo.1168.1">SEVERE,</span></strong><span class="koboSpan" id="kobo.1169.1"> too. </span><span class="koboSpan" id="kobo.1169.2">However, it is also possible to send the alert to different targets for all different threshold levels. </span><span class="koboSpan" id="kobo.1169.3">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1170.1">NEXT</span></strong><span class="koboSpan" id="kobo.1171.1"> button to </span><span class="No-Break"><span class="koboSpan" id="kobo.1172.1">move forward:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer308">
<span class="koboSpan" id="kobo.1173.1"><img alt="Figure 1﻿0.55 – Configuring alert targets" src="image/B18145_10_55.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1174.1">Figure 10.55 – Configuring alert targets</span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.1175.1">Configure alert details that can be helpful for its triage as shown in the following screenshot. </span><span class="koboSpan" id="kobo.1175.2">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1176.1">NEXT</span></strong><span class="koboSpan" id="kobo.1177.1"> button after that to </span><span class="No-Break"><span class="koboSpan" id="kobo.1178.1">move forward:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer309">
<span class="koboSpan" id="kobo.1179.1"><img alt="Figure 1﻿0.56 – Configuring alert troubleshooting details" src="image/B18145_10_56.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1180.1">Figure 10.56 – Configuring alert troubleshooting details</span></p>
<p><span class="koboSpan" id="kobo.1181.1">The following </span><a id="_idIndexMarker977"/><span class="koboSpan" id="kobo.1182.1">points describe the controls that are marked with numbers that correspond to the </span><span class="No-Break"><span class="koboSpan" id="kobo.1183.1">previous screenshot:</span></span></p>
<ol>
<li><span class="koboSpan" id="kobo.1184.1">In </span><strong class="bold"><span class="koboSpan" id="kobo.1185.1">Runbook</span></strong><span class="koboSpan" id="kobo.1186.1">, we can provide an external URL that contains details on how to troubleshoot and resolve the </span><span class="No-Break"><span class="koboSpan" id="kobo.1187.1">alert condition</span></span></li>
<li><span class="koboSpan" id="kobo.1188.1">Under </span><strong class="bold"><span class="koboSpan" id="kobo.1189.1">Triage Dashboard(s)</span></strong><span class="koboSpan" id="kobo.1190.1">, we can add one or more dashboards that will be added to the alert details to provide the required </span><span class="No-Break"><span class="koboSpan" id="kobo.1191.1">details upfront.</span></span></li>
<li><span class="koboSpan" id="kobo.1192.1">Under </span><strong class="bold"><span class="koboSpan" id="kobo.1193.1">Additional Information</span></strong><span class="koboSpan" id="kobo.1194.1">, we can provide any arbitrary details that could be helpful for troubleshooting </span><span class="No-Break"><span class="koboSpan" id="kobo.1195.1">this alert.</span></span></li>
</ol>
<ol>
<li value="9"><span class="koboSpan" id="kobo.1196.1">Give the alert a name and, optionally, the related tag values to identify the sources impacted, and click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1197.1">ACTIVATE</span></strong><span class="koboSpan" id="kobo.1198.1"> button to create </span><span class="No-Break"><span class="koboSpan" id="kobo.1199.1">the alert:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer310">
<span class="koboSpan" id="kobo.1200.1"><img alt="Figure 1﻿0.57 – Activating the alert" src="image/B18145_10_57.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1201.1">Figure 10.57 – Activating the alert</span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.1202.1">Once </span><a id="_idIndexMarker978"/><span class="koboSpan" id="kobo.1203.1">activated, the alert can be seen under the </span><strong class="bold"><span class="koboSpan" id="kobo.1204.1">Alerts</span></strong><span class="koboSpan" id="kobo.1205.1"> page as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1206.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer311">
<span class="koboSpan" id="kobo.1207.1"><img alt="Figure 1﻿0.58 – Newly created alert" src="image/B18145_10_58.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1208.1">Figure 10.58 – Newly created alert</span></p>
<p><span class="koboSpan" id="kobo.1209.1">This concludes the details on creating new alerts in Aria. </span><span class="koboSpan" id="kobo.1209.2">Learn more about creating alerts in the official product documentation if required: </span><a href="https://docs.wavefront.com/alerts_manage.html"><span class="koboSpan" id="kobo.1210.1">https://docs.wavefront.com/alerts_manage.html</span></a><span class="koboSpan" id="kobo.1211.1">. </span><span class="koboSpan" id="kobo.1211.2">Let’s now see how to find a firing alert that has an active </span><span class="No-Break"><span class="koboSpan" id="kobo.1212.1">alert condition.</span></span></p>
<h2 id="_idParaDest-218"><a id="_idTextAnchor218"/><span class="koboSpan" id="kobo.1213.1">Inspecting firing alerts</span></h2>
<p><span class="koboSpan" id="kobo.1214.1">In this </span><a id="_idIndexMarker979"/><span class="koboSpan" id="kobo.1215.1">section, we will see how to list currently active alerts that are firing with any threshold level configured. </span><span class="koboSpan" id="kobo.1215.2">The following steps describe </span><span class="No-Break"><span class="koboSpan" id="kobo.1216.1">this process:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.1217.1">Click on the </span><strong class="bold"><span class="koboSpan" id="kobo.1218.1">FIRING</span></strong><span class="koboSpan" id="kobo.1219.1"> state from the left-hand navigation bar, which will list all the alerts under that status, and click on the name of the firing alert as shown in the </span><span class="No-Break"><span class="koboSpan" id="kobo.1220.1">following screenshot:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer312">
<span class="koboSpan" id="kobo.1221.1"><img alt="Figure 1﻿0.59 – Viewing firing alert details" src="image/B18145_10_59.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1222.1">Figure 10.59 – Viewing firing alert details</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.1223.1">The following </span><a id="_idIndexMarker980"/><span class="koboSpan" id="kobo.1224.1">screenshot shows a view of the page that contains the details of the firing alerts, including other possible related alert conditions, the chart showing the firing duration, the query used for the calculation, and many </span><span class="No-Break"><span class="koboSpan" id="kobo.1225.1">other things:</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer313">
<span class="koboSpan" id="kobo.1226.1"><img alt="Figure 1﻿0.60 – Firing alert details" src="image/B18145_10_60.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.1227.1">Figure 10.60 – Firing alert details</span></p>
<p><span class="koboSpan" id="kobo.1228.1">With this, we conclude the </span><em class="italic"><span class="koboSpan" id="kobo.1229.1">Working with alerts</span></em><span class="koboSpan" id="kobo.1230.1"> section of the chapter. </span><span class="koboSpan" id="kobo.1230.2">In this section, we started with creating alert targets and learned how we can flexibly define different alert notification types and destinations based on their severity and other attributes of the system under observation. </span><span class="koboSpan" id="kobo.1230.3">Then, we learned how to create a maintenance window to treat alerts </span><a id="_idIndexMarker981"/><span class="koboSpan" id="kobo.1231.1">differently during a specific time of scheduled activities that would potentially trigger a bunch of alerts otherwise. </span><span class="koboSpan" id="kobo.1231.2">After that, we learned how to create an alert using an existing chart from an existing dashboard. </span><span class="koboSpan" id="kobo.1231.3">The same knowledge can be applied even to creating a new alert from scratch. </span><span class="koboSpan" id="kobo.1231.4">Lastly, we saw how Aria shows different details of the alerts that are </span><span class="No-Break"><span class="koboSpan" id="kobo.1232.1">currently firing.</span></span></p>
<h1 id="_idParaDest-219"><a id="_idTextAnchor219"/><span class="koboSpan" id="kobo.1233.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.1234.1">In this chapter, we learned about a very important component of the Tanzu product portfolio, VMware Aria Operations for Applications by Wavefront. </span><span class="koboSpan" id="kobo.1234.2">In the first section of the chapter, we gave various reasons explaining the importance of this tool in terms of the observability of modern containerized applications. </span><span class="koboSpan" id="kobo.1234.3">In this section, we learned about different out-of-the-box integrations supported by Aria. </span><span class="koboSpan" id="kobo.1234.4">We also discussed how Telegraf collectors and the Wavefront SDK make it possible to integrate almost any data source for observability. </span><span class="koboSpan" id="kobo.1234.5">Additionally, we discussed other benefits of Aria, including the high-speed data collection and processing power, and the ability to collect different telemetry data types including metrics, events, histograms, and span logs. </span><span class="koboSpan" id="kobo.1234.6">Then, we listed different categories of data processing functions that can be used with WQL, including data aggregation, filtering, time operations, moving-window aggregation, exponential, </span><span class="No-Break"><span class="koboSpan" id="kobo.1235.1">and trigonometric.</span></span></p>
<p><span class="koboSpan" id="kobo.1236.1">After that, we learned about various components of the solution. </span><span class="koboSpan" id="kobo.1236.2">We explored metrics, histograms, span logs, and events. </span><span class="koboSpan" id="kobo.1236.3">We then discussed the common deployment architecture of the solution and the details of various components with their roles. </span><span class="koboSpan" id="kobo.1236.4">In that part, we discussed various ways to ingest data in Aria, different types of sources, collectors, Wavefront Proxy, and the Wavefront service, a SaaS platform. </span><span class="koboSpan" id="kobo.1236.5">Later in the chapter, we learned how to open a trial account for Aria and integrate an existing Kubernetes cluster with the account. </span><span class="koboSpan" id="kobo.1236.6">Then, we saw how to access a set of default dashboards for Kubernetes integration provided by Aria out of the box. </span><span class="koboSpan" id="kobo.1236.7">Lastly, we learned about creating custom charts, dashboards, and alerts for the integrations </span><span class="No-Break"><span class="koboSpan" id="kobo.1237.1">in place.</span></span></p>
<p><span class="koboSpan" id="kobo.1238.1">Although it seems like we covered the solution in great depth, we just scratched the surface. </span><span class="koboSpan" id="kobo.1238.2">There are still several more capabilities we could not cover in this chapter, as we only covered the details centered around Kubernetes monitoring. </span><span class="koboSpan" id="kobo.1238.3">Besides the details covered here, Aria has a great set of capabilities for APM using the ingested span logs and application health metrics. </span><span class="koboSpan" id="kobo.1238.4">We could not even cover topics such as derived metrics, delta counters, user permission configuration, and external logging solution integration because of the limited scope of </span><span class="No-Break"><span class="koboSpan" id="kobo.1239.1">this chapter.</span></span></p>
<p><span class="koboSpan" id="kobo.1240.1">In the next chapter, we will see how to securely connect various applications deployed in different Kubernetes clusters, even across different cloud infrastructures, using Tanzu </span><span class="No-Break"><span class="koboSpan" id="kobo.1241.1">Service Mesh.</span></span></p>
</div>
</body></html>