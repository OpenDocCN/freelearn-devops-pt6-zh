- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Rancher and Kubernetes have been driving the wave of DevOps adoption for both
    on-premises and cloud workloads. This book will guide you through the history
    of Rancher and Kubernetes and how they came into being. We will dive into how
    to design, build, and manage your Rancher environment. We will then build upon
    Rancher, deploying a range of cluster types, including RKE, RKE2, k3s, EKS, and
    GKE. With each of these cluster types, we will go over how they work, design a
    solution around them, and finally, deploy them using Rancher.
  prefs: []
  type: TYPE_NORMAL
- en: We will then shift into getting your clusters production-ready. This includes
    how we back up and restore the different cluster types and monitor the health
    of our clusters and the application hosted on them. Then, we will dive into how
    to provide the additional services needed outside of core Kubernetes services,
    including persistent storage with Longhorn, security/compliance using OPA Gatekeeper,
    and how to bring dynamic scaling to our clusters.
  prefs: []
  type: TYPE_NORMAL
- en: We will then close the book by covering how to build and deploy our application
    in a Rancher/Kubernetes ecosystem using tools such as Drone CI for our CI/CD pipeline
    and Harbor for hosting build artifacts. We will then dive into the deep topic
    of Helm charts and how they bring package management to our clusters. Finally,
    we will close by covering resource management and cost reporting to address the
    goal of turning IT from a black hole into which you throw money into the profit
    center it can be.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book primarily targets DevOps engineers looking to deploy Kubernetes with
    Rancher, including how Rancher changed how clusters are built and managed using
    RKE (Rancher Kubernetes Engine) and RKE2/k3s. It is also for people who want to
    learn more about the Day 2 task part of the Kubernetes and Rancher ecosystem.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[*Chapter 1*](B18053_01_Epub.xhtml#_idTextAnchor015), *Introduction to Rancher
    and Kubernetes*, explores the history of Rancher and its earlier products, and
    how Kubernetes changed the whole picture.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 2*](B18053_02_Epub.xhtml#_idTextAnchor025), *Rancher and Kubernetes
    High-Level Architecture*, discusses the different products that make up the Rancher
    ecosystem, including the Rancher server, RKE1/2, and k3s.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 3*](B18053_03_Epub.xhtml#_idTextAnchor039), *Creating a Single Node
    Rancher*, delves into a single node Rancher install, and the limitations of using
    it in addition to how to migrate to an HA setup.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 4*](B18053_04_Epub.xhtml#_idTextAnchor052), *Creating an RKE and
    RKE2 Cluster*, looks at RKE1 and 2, how they work, and the rules for architecting
    a solution using them.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 5*](B18053_05_Epub.xhtml#_idTextAnchor073), *Deploying Rancher on
    a Hosted Kubernetes Cluster*, covers how to install Rancher on a hosted Kubernetes
    cluster such as **Google Kubernetes Engine** (**GKE**), Amazon **Elastic Container
    Service** (**EKS**) for Kubernetes, **Azure Kubernetes Service** (**AKS**), or
    **Digital Ocean''s Kubernetes Service** (**DOKS**).'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 6*](B18053_06_Epub.xhtml#_idTextAnchor095), *Creating an RKE Cluster
    Using Rancher*, demonstrates how to use Rancher to deploy a downstream RKE cluster
    along with the rules of architecting this type of cluster.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 7*](B18053_07_Epub.xhtml#_idTextAnchor112), *Deploying a Hosted Cluster
    with Rancher*, uses cloud providers to deploy hosted Kubernetes clusters using
    Rancher for managing the cluster over time.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 8*](B18053_08_Epub.xhtml#_idTextAnchor131), *Importing an Externally
    Managed Cluster into Rancher*, shows how to bring any kind of Kubernetes into
    Rancher and how Rancher can gain access to imported clusters.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 9*](B18053_09_Epub.xhtml#_idTextAnchor150), *Cluster Configuration
    Backup and Recovery*, describes how you back up an RKE1/2 cluster using etcd backups
    in addition to how to restore a cluster from a backup.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 10*](B18053_10_Epub.xhtml#_idTextAnchor172), *Monitoring and Logging*,
    explains how to use Rancher monitoring to deploy Prometheus, Grafana, and alert
    manager for monitoring the health of your cluster, in addition to how to use Banzai
    Cloud Logging to capture your pod logs.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 11*](B18053_11_Epub.xhtml#_idTextAnchor184), *Bring Storage to Kubernetes
    Using Longhorn*, explores why you would need persistent storage in your Kubernetes
    cluster and how Longhorn can solve this problem, including how Longhorn works
    and how to architect a solution using Longhorn.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 12*](B18053_12_Epub.xhtml#_idTextAnchor198), *Security and Compliance
    Using OPA Gatekeeper*, talks about how to enforce standards and security in your
    Kubernetes cluster using tools such as OPA Gatekeeper and NeuVector.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 13*](B18053_13_Epub.xhtml#_idTextAnchor209), *Scaling in Kubernetes*,
    delves into using **Horizontal Pod Autoscaler** (**HPA**), **Vertical Pod Autoscaler**
    (**VPA**), and Cluster Autoscaler to dynamically scale your environment.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 14*](B18053_14_Epub.xhtml#_idTextAnchor224), *Load Balancer Configuration
    and SSL Certificates*, explains how to publish applications hosted in Kubernetes
    to the outside world using ingresses and load balancers.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 15*](B18053_15_Epub.xhtml#_idTextAnchor243), *Rancher and Kubernetes
    Troubleshooting*, explains how to recover from some of the most common failures
    and issues, including how to detect and prevent them in the future along with
    how to reproduce these issues in a lab environment.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 16*](B18053_16_Epub.xhtml#_idTextAnchor258), *Setting Up a CI/CD
    Pipeline and Image Registry*, explains what a CI/CD pipeline is and how we can
    use it to deploy applications in a standardized and controlled process, along
    with deploying Drone CI and Harbor to support your applications.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 17*](B18053_17_Epub.xhtml#_idTextAnchor280), *Creating and Using
    Helm Charts*, describes Helm charts and how we can use Helm to package applications
    both from public and private and then how to publish them in a Kubernetes cluster.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 18*](B18053_18_Epub.xhtml#_idTextAnchor287), *Resource Management*,
    explains how to manage resources inside your Kubernetes cluster along with monitoring
    and controlling the cost of hosted applications in Kubernetes.'
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book assumes that you have a basic understanding of Linux server administration,
    including basic Bash scripting, installing packages, and automating tasks at scale.
    In addition, we are going to assume that you have a basic understanding of most
    cloud platforms, such as AWS, GCP, vSphere, or Azure.
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/Preface.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'It is also recommended to have a lab environment to deploy Rancher and RKE1/2
    clusters. An important note: most cloud providers offer trail credits that should
    be more than enough to spin up small lab clusters.'
  prefs: []
  type: TYPE_NORMAL
- en: Finally, Kubernetes and Rancher are ever-changing, so it is important to remember
    that version numbers will need to be changed as time moves on. So, it is highly
    recommended to review the release notes of each product and software before picking
    a version.
  prefs: []
  type: TYPE_NORMAL
- en: Download the color images
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://static.packt-cdn.com/downloads/9781803246093_ColorImages.pdf](https://static.packt-cdn.com/downloads/9781803246093_ColorImages.pdf).'
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can download the example code files for this book from GitHub at [https://github.com/PacktPublishing/Rancher-Deep-Dive](https://github.com/PacktPublishing/Rancher-Deep-Dive).
    In case there's an update to the code, it will be updated on the existing GitHub
    repository.
  prefs: []
  type: TYPE_NORMAL
- en: We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/).
    Check them out!
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  prefs: []
  type: TYPE_NORMAL
- en: '`Code in text`: Indicates code words in text, database table names, folder
    names, filenames, file extensions, pathnames, dummy URLs, user input, and Twitter
    handles. Here is an example: "It is pretty common to rename the local cluster
    to something more helpful, such as `rancher-prod` or `rancher-west`."'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    screen. For example, words in menus or dialog boxes appear in the text like this.
    Here is an example: "With Rancher logging, it is recommended to deploy via the
    App Marketplace in the Rancher UI by going to **Cluster Tools** and clicking on
    the **Logging** app."'
  prefs: []
  type: TYPE_NORMAL
- en: Tips or Important Notes
  prefs: []
  type: TYPE_NORMAL
- en: Appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: If you have questions about any aspect of this book,
    mention the book title in the subject of your message and email us at [customercare@packtpub.com](mailto:customercare@packtpub.com).'
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/support/errata](http://www.packtpub.com/support/errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at [copyright@packt.com](mailto:copyright@packt.com)
    with a link to the material.'
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com).'
  prefs: []
  type: TYPE_NORMAL
- en: Share Your Thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you've read *Rancher Deep Dive*, we'd love to hear your thoughts! Please
    [click here to go straight to the Amazon review page](https://packt.link/r/180324609X)
    for this book and share your feedback.
  prefs: []
  type: TYPE_NORMAL
- en: Your review is important to us and the tech community and will help us make
    sure we're delivering excellent quality content.
  prefs: []
  type: TYPE_NORMAL
