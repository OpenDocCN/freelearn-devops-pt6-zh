- en: '14'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '14'
- en: FinOps, Sustainability, AI, and Future Trends for GitOps
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: FinOps、可持续性、AI 和 GitOps 的未来趋势
- en: In this chapter, we venture beyond the conventional boundaries of GitOps to
    explore its extensive scope and multifaceted impact across various domains not
    covered in the main sections of the book. Our journey is structured into distinct
    yet interconnected blocks, each shedding light on different dimensions where GitOps
    extends its influence, providing a comprehensive insight into the potential and
    versatility of this practice.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们超越了 GitOps 的常规边界，探索了其在书籍主章节未涵盖的各个领域中的广泛范围和多方面影响。我们的旅程被结构化为若干不同但互相关联的模块，每个模块都揭示了
    GitOps 扩展影响力的不同维度，提供了对这种实践潜力和多样性的全面洞察。
- en: We commence with the fundamentals of **FinOps** and **cost management**, where
    the fusion of financial acumen and operational expertise comes to the forefront.
    This segment elucidates how the FinOps framework, integrated with GitOps methodologies,
    empowers organizations to wield granular control over their cloud expenditures.
    By leveraging tools such as **OpenCost** and **Kubecost** in a GitOps-driven environment,
    businesses can achieve unprecedented transparency and efficiency in managing costs
    for clusters, projects, and beyond, ensuring that every dollar spent is an investment
    toward innovation and growth.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 我们从 **FinOps** 和 **成本管理** 的基础开始，财务智慧与操作专业知识的融合在此成为焦点。该部分阐明了 FinOps 框架如何与 GitOps
    方法论结合，使组织能够精确控制其云支出。通过在 GitOps 驱动的环境中使用如 **OpenCost** 和 **Kubecost** 等工具，企业能够实现前所未有的透明度和高效性，管理集群、项目及其他领域的成本，确保每一美元的支出都是面向创新和增长的投资。
- en: Transitioning to the realm of sustainability and green operations, we delve
    into how GitOps can be a catalyst for eco-friendly IT practices. This block emphasizes
    the significance of sustainable operations, not only from an economic standpoint
    but also in contributing to environmental stewardship. We discuss practical strategies,
    such as the automated shutdown of development clusters, illustrating how GitOps
    can align technological advancements with ecological responsibility, thereby fostering
    a culture of sustainability within the tech industry.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 过渡到可持续性和绿色操作领域，我们深入探讨了 GitOps 如何成为推动环保 IT 实践的催化剂。该模块强调了可持续操作的重要性，不仅从经济角度看，还在于为环境保护做出贡献。我们讨论了诸如自动化关闭开发集群等实际策略，展示了
    GitOps 如何将技术进步与生态责任对接，从而在科技行业中培养可持续发展的文化。
- en: The exploration expands to include GitOps and **artificial intelligence** (**AI**)-driven
    automation, a segment that bridges the advanced realms of AI and GitOps. This
    fusion is revolutionizing the way organizations deploy, monitor, and manage their
    IT landscapes, transcending the hype to deliver tangible, impactful automation
    solutions. Through real-world examples and case studies, we examine the dual benefits
    of AI in enhancing DevOps practices and streamlining the deployment of inter-company
    services, all within the GitOps framework.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 该探索扩展到包括 GitOps 和 **人工智能** (**AI**) 驱动的自动化，这是一个连接 AI 和 GitOps 高级领域的环节。这种融合正在彻底改变组织部署、监控和管理
    IT 环境的方式，超越了炒作，提供了切实有效的自动化解决方案。通过现实世界的案例和案例研究，我们考察了 AI 在提升 DevOps 实践和简化跨公司服务部署中的双重优势，所有这些都在
    GitOps 框架内进行。
- en: Finally, we reflect on the evolving landscape of GitOps, contemplating the continuous
    evolution of GitOps principles and their transformative influence across various
    sectors. This concluding block forecasts the future trajectory of GitOps, speculating
    on its role amid emerging technologies and its potential to redefine industry
    standards. We delve into how GitOps is **pivotal** in forecasting and monitoring
    cloud costs, thereby enabling organizations to navigate the complexities of modern
    cloud environments with confidence and strategic foresight.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们回顾了 GitOps 的发展趋势，思考 GitOps 原则的持续演变及其在各个领域的变革性影响。这个总结部分预测了 GitOps 的未来发展轨迹，推测它在新兴技术中的角色以及重新定义行业标准的潜力。我们深入探讨了
    GitOps 在预测和监控云成本方面的 **关键** 作用，从而帮助组织在现代云环境的复杂性中保持信心和战略眼光。
- en: Each of these blocks, while distinct in focus, collectively underscores the
    expansive reach of GitOps, illustrating its role as a cornerstone in modern IT
    strategy. This chapter aims to broaden readers’ perspective, encouraging them
    to envision GitOps not merely as a tool for operational efficiency but as a holistic
    approach that harmonizes technological innovation with financial wisdom, environmental
    consciousness, and forward-thinking adaptability.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 这些模块各自聚焦不同，但共同强调了GitOps的广泛影响力，展示了它作为现代IT战略基石的角色。本章旨在拓宽读者的视野，鼓励他们将GitOps视为不仅仅是提升运营效率的工具，而是一个将技术创新、财务智慧、环保意识和前瞻性适应力融合的整体方法。
- en: 'We will cover the following main topics in this chapter:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主要主题：
- en: Covering the fundamentals of FinOps
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探讨FinOps的基础知识
- en: Forecasting and monitoring costs with GitOps
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用GitOps进行成本预测和监控
- en: Optimization techniques for cloud spend
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 云支出优化技巧
- en: Assessing carbon footprint and promoting green operations
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 评估碳足迹并推动绿色运营
- en: Looking at GitOps and AI-driven automation
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 探讨GitOps和人工智能驱动的自动化
- en: Future challenges and opportunities in GitOps
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GitOps中的未来挑战与机会
- en: The role of GitOps in emerging technologies
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: GitOps在新兴技术中的角色
- en: Covering the fundamentals of FinOps
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探讨FinOps的基础知识
- en: '**FinOps**, an operational framework blending finance and DevOps principles,
    is fundamentally a cultural practice aimed at maximizing the business value of
    cloud investments. It fosters a collaborative environment where engineering, finance,
    and business teams work together to facilitate data-driven decisions, enhancing
    financial accountability and optimizing cloud costs.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '**FinOps**，一个将财务和DevOps原则融合的运营框架，根本上是一种文化实践，旨在最大化云投资的商业价值。它促进了一个协作环境，在这个环境中，工程、财务和业务团队共同工作，促进基于数据的决策，提高财务责任感并优化云成本。'
- en: The essence of FinOps lies in its ability to bridge the gap between traditionally
    siloed departments, promoting a shared responsibility model where all stakeholders
    are vested in the cloud’s cost-effectiveness and operational efficiency. This
    cross-functional synergy is crucial for enabling faster product delivery while
    ensuring financial transparency and control.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: FinOps的本质在于它能够弥合传统上分隔的部门之间的鸿沟，推动一种共享责任模型，使所有利益相关者都参与到云的成本效益和运营效率中。这种跨职能的协同对于加速产品交付并确保财务透明度和控制至关重要。
- en: Key aspects of FinOps include real-time monitoring of cloud expenses, enabling
    organizations to make informed decisions that balance cost, speed, and quality.
    The approach goes beyond mere cost-cutting; it’s about leveraging the cloud’s
    variable spending model to drive innovation, revenue growth, and strategic investments
    in the tech infrastructure.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: FinOps的关键方面包括实时监控云开支，使组织能够做出平衡成本、速度和质量的明智决策。这种方法不仅仅是削减成本；它是通过利用云的可变支出模型来推动创新、收入增长和在技术基础设施中的战略投资。
- en: Organizations looking to adopt FinOps can start by exploring resources offered
    by the FinOps Foundation, which provides education, best practices, and community
    engagement to support different maturity levels in the FinOps journey. The **Crawl,
    Walk, Run** maturity model advocated by FinOps allows organizations to evolve
    their financial operations progressively, enhancing their cloud architecture and
    investment strategies continuously.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 寻求采用FinOps的组织可以从探索FinOps基金会提供的资源开始，该基金会提供教育、最佳实践和社区参与，支持不同成熟度水平的FinOps之旅。FinOps倡导的**爬行、行走、跑步**成熟度模型使组织能够逐步发展其财务操作，不断优化其云架构和投资策略。
- en: The Crawl, Walk, Run model
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '**爬行、行走、跑步**模型'
- en: The **Crawl, Walk, Run** model is a framework that describes the progressive
    stages of learning and implementation. In the **Crawl** stage, individuals or
    organizations focus on understanding basic principles with limited scope and high
    reliance on guidance. The **Walk** stage involves greater familiarity and confidence,
    with more complex tasks and increased efficiency. Finally, in the **Run** stage,
    there is full mastery and independent, innovative use of the new concept, process,
    or technology. This model helps manage expectations and provides a structured
    growth path to ensure a solid foundation before advancing to more complex levels.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**Crawl, Walk, Run** 模型是描述学习和实施逐步阶段的框架。在 **Crawl** 阶段，个人或组织专注于理解基本原则，范围有限且高度依赖指导。**Walk**
    阶段涉及更大的熟悉度和信心，任务变得更加复杂，效率提高。最后，在 **Run** 阶段，完全掌握并独立、创新地使用新概念、新流程或新技术。这个模型有助于管理期望，并提供一个结构化的成长路径，确保在进阶到更复杂的层级之前建立扎实的基础。'
- en: Central to the FinOps framework are principles guiding collaborative efforts,
    personal ownership of cloud usage, and the strategic alignment of cloud investments
    with business value. These principles ensure that every team member, from executives
    to engineers, understands and contributes to the efficient and innovative use
    of cloud resources.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: FinOps 框架的核心原则包括指导协作努力、个人对云资源使用的责任以及云投资与业务价值的战略对齐。这些原则确保从高管到工程师的每个团队成员都能理解并为高效、创新地使用云资源做出贡献。
- en: Incorporating FinOps into an organization’s operational model not only promises
    enhanced cost management and optimization but also aligns cloud expenditure with
    business outcomes, ensuring that investments translate into tangible value. This
    strategic alignment is crucial in today’s dynamic cloud environments, where adaptive
    planning and cost-effective resource utilization are key to sustaining competitive
    advantage and fostering long-term growth.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 将 FinOps 融入组织的运营模式，不仅承诺增强成本管理和优化，还能使云支出与业务结果对齐，确保投资转化为实际价值。这种战略对齐在当今动态的云环境中至关重要，因为适应性规划和成本效益资源利用是保持竞争优势和促进长期增长的关键。
- en: In the next section, we will use OpenCost [*1*] and Kubecost [*2*] to determine
    the costs for a cluster or for a namespace, which could, for example, represent
    a project.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将使用 OpenCost [*1*] 和 Kubecost [*2*] 来确定集群或命名空间的成本，举例来说，这些命名空间可以代表一个项目。
- en: Forecasting and monitoring costs with GitOps
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用 GitOps 进行成本预测和监控
- en: GitOps can be seamlessly integrated with FinOps to enhance the financial governance
    of cloud resources while **maintaining agility** and operational efficiency. The
    combination of GitOps and FinOps practices enables organizations to manage their
    cloud infrastructure and costs more effectively through automation, version control,
    and continuous monitoring.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps 可以与 FinOps 无缝集成，以增强云资源的财务治理，同时**保持敏捷性**和运营效率。GitOps 和 FinOps 实践的结合，使组织能够通过自动化、版本控制和持续监控，更有效地管理其云基础设施和成本。
- en: How GitOps complements FinOps
  id: totrans-28
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GitOps 如何补充 FinOps
- en: 'First, let’s understand how GitOps complements FinOps:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们了解 GitOps 如何补充 FinOps：
- en: '**Automated cost optimization**: GitOps allows for the automation of deployment
    and scaling of cloud resources, which can be integrated with FinOps strategies
    to ensure that resource utilization is optimized for cost without sacrificing
    performance. This means infrastructure can scale up or down automatically, aligning
    with financial objectives and operational demands.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动化成本优化**：GitOps 允许自动化部署和扩展云资源，可以与 FinOps 策略结合，确保资源利用在不牺牲性能的前提下优化成本。这意味着基础设施可以自动扩展或收缩，符合财务目标和运营需求。'
- en: '**Version-controlled spending**: With GitOps, every change to the infrastructure
    is version-controlled in Git repositories, providing an audit trail of what changes
    were made, who made them, and why. This aligns with FinOps principles by adding
    transparency to the financial impact of operational changes, enabling better budget
    tracking and cost allocation.'
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**版本控制的支出**：使用 GitOps，每次对基础设施的更改都会在 Git 仓库中进行版本控制，提供对所做更改的审计追踪，包括更改内容、执行人以及更改的原因。这与
    FinOps 原则一致，通过为操作变更的财务影响提供透明度，帮助更好地进行预算跟踪和成本分配。'
- en: '**Collaboration and visibility**: GitOps fosters collaboration among development,
    operations, and finance teams by using Git as a **single source of truth** (**SSOT**).
    This collaborative environment ensures that financial considerations are integrated
    into the earliest stages of infrastructure planning and application development,
    promoting a cost-aware culture.'
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**协作与可视化**：GitOps通过使用Git作为**单一事实来源**（**SSOT**）促进开发、运维和财务团队之间的协作。这种协作环境确保了财务考虑被纳入到基础设施规划和应用开发的最早阶段，推动了一个成本意识的文化。'
- en: '**Policy enforcement**: Integrating **policy-as-code** (**PaC**) tools within
    a GitOps workflow can enforce financial governance, ensuring that resources are
    utilized efficiently and within budget. Policies can be set to prevent overspending,
    enforce the use of cost-optimized resources, or ensure adherence to budgetary
    constraints.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**政策执行**：将**政策即代码**（**PaC**）工具集成到GitOps工作流中，可以执行财务治理，确保资源的使用高效且在预算内。可以设定政策来防止超支，强制使用成本优化的资源，或确保遵守预算约束。'
- en: '**Continuous cost monitoring and feedback**: GitOps enables continuous monitoring
    and feedback loops, allowing teams to quickly identify and address inefficiencies
    in cloud resource utilization. This constant vigilance helps in maintaining a
    balance between operational efficiency, cost, and speed, in line with FinOps goals.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**持续的成本监控和反馈**：GitOps使得持续监控和反馈环路成为可能，帮助团队快速识别并解决云资源使用中的低效问题。这种持续的警觉性有助于在操作效率、成本和速度之间保持平衡，符合FinOps目标。'
- en: '**Proactive financial management**: By using GitOps, organizations can proactively
    manage their cloud expenses. **Infrastructure-as-code** (**IaC**) templates stored
    in Git repositories can be analyzed to forecast costs and understand the financial
    implications of planned changes before they are executed.'
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**主动的财务管理**：通过使用GitOps，组织可以主动管理其云端开支。存储在Git仓库中的**基础设施即代码**（**IaC**）模板可以被分析，用来预测成本，并在执行之前了解计划更改的财务影响。'
- en: Utilizing GitOps with FinOps
  id: totrans-36
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用GitOps与FinOps
- en: 'The following points describe how integrating cost monitoring, budget enforcement,
    resource optimization, and financial operations automation into a GitOps pipeline
    can enhance cost efficiency and ensure financial governance:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 以下几点描述了如何将成本监控、预算执行、资源优化和财务操作自动化集成到GitOps管道中，以提升成本效率并确保财务治理：
- en: '**Implementing cost monitoring tools**: Integrate cloud cost monitoring tools
    into the GitOps pipeline to provide real-time feedback on the financial impact
    of code changes and infrastructure updates'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**实施成本监控工具**：将云成本监控工具集成到GitOps管道中，以提供有关代码更改和基础设施更新对财务影响的实时反馈。'
- en: '**Enforcing budget policies**: Use GitOps to enforce budget policies through
    IaC, ensuring that deployments conform to predefined financial constraints and
    operational budgets'
  id: totrans-39
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**强制执行预算政策**：通过IaC使用GitOps强制执行预算政策，确保部署符合预定的财务约束和操作预算。'
- en: '**Optimizing resource allocation**: Leverage GitOps to automate the deployment
    of cost-optimized resources, such as spot instances, and to shut down underutilized
    resources, ensuring efficient cloud spend'
  id: totrans-40
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**优化资源分配**：利用GitOps自动化成本优化资源的部署，例如使用抢占实例，并关闭利用率低的资源，确保云支出的高效性。'
- en: '**Streamlining financial operations**: Automate financial operations tasks
    such as cost reporting, budget alerts, and resource tagging through GitOps, ensuring
    that financial governance is consistently applied across all cloud resources'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**简化财务操作**：通过GitOps自动化财务操作任务，例如成本报告、预算提醒和资源标签，从而确保财务治理在所有云资源中得到一致应用。'
- en: By integrating GitOps with FinOps practices, organizations can ensure that their
    cloud infrastructure is not only operationally efficient but also aligned with
    their financial objectives, delivering maximum value from their cloud investments.
    This holistic approach enables a more agile, transparent, and cost-effective cloud
    management strategy.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将GitOps与FinOps实践相结合，组织可以确保其云基础设施不仅在操作上高效，而且与其财务目标保持一致，从而最大化其云投资的价值。这种全方位的方法实现了一个更加灵活、透明和成本效益高的云管理战略。
- en: 'Now, let’s take a look at how it works in practice. For this, we will examine
    two tools: OpenCost as an open source option and Kubecost, which is built on OpenCost
    but offers many additional features on top in the next part.'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看它在实践中是如何运作的。为此，我们将考察两个工具：OpenCost，作为一个开源选项，以及基于OpenCost构建的Kubecost，后者在接下来的部分中提供了许多额外的功能。
- en: OpenCost versus Kubecost with GitOps
  id: totrans-44
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: OpenCost 与 Kubecost 配合 GitOps 使用
- en: OpenCost and Kubecost are tools used in the realm of Kubernetes cost monitoring
    and analysis, providing insights into resource utilization and assisting in managing
    costs associated with Kubernetes environments in the cloud. Let’s cover a brief
    description of both tools and the differences between them.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: OpenCost 和 Kubecost 是在 Kubernetes 成本监控和分析领域使用的工具，它们提供关于资源利用的洞察，并帮助管理与 Kubernetes
    环境相关的云端成本。我们将简要介绍这两个工具及其差异。
- en: OpenCost
  id: totrans-46
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: OpenCost
- en: 'OpenCost is an open source tool that brings **transparency** to the costs and
    usage associated with Kubernetes clusters. It enables teams to monitor, analyze,
    and optimize their Kubernetes costs by providing detailed insights into resource
    utilization and associated expenses. OpenCost offers features such as the following:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: OpenCost 是一款开源工具，它为与 Kubernetes 集群相关的成本和使用情况提供**透明度**。它通过提供详细的资源利用和相关费用洞察，帮助团队监控、分析和优化其
    Kubernetes 成本。OpenCost 提供以下功能：
- en: Cost breakdown at the pod, deployment, namespace, or cluster level
  id: totrans-48
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 按 pod、部署、命名空间或集群级别进行成本拆分
- en: Support for multi-cluster environments
  id: totrans-49
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 支持多集群环境
- en: Integrations with cloud providers for more accurate cost estimation
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与云服务提供商的集成，以实现更准确的成本估算
- en: Forever free and open source, supported and maintained by experts
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 永远免费且开源，由专家支持和维护
- en: 'How does this all fit with GitOps, or, more specifically, what value does GitOps
    add in the FinOps context? OpenCost sets up on-premises pricing configurations
    based on the `us-central-1` region—for instance, `"CPU": "0.031611"$`, and `"RAM":
    "0.004237"$` on an hourly basis. Nevertheless, OpenCost also allows for the customization
    of pricing. This is where GitOps comes into play, enabling not just the deployment
    of the OpenCost tool across various clusters (*Figure 14**.1*) but also the capability
    to configure prices accordingly. For example, if you have three data centers in
    Europe, located in three different countries, the CPU and RAM prices will vary
    due to factors such as electricity prices, procurement, depreciation, and so on.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '这一切如何与 GitOps 相结合，或者更具体地说，GitOps 在 FinOps 上下文中带来了什么价值？OpenCost 基于 `us-central-1`
    区域设置本地定价配置——例如，`"CPU": "0.031611"$` 和 `"RAM": "0.004237"$` 按小时计算。然而，OpenCost 也允许定制定价。此时，GitOps
    就派上用场了，它不仅能在不同集群间部署 OpenCost 工具（*图 14.1*），还可以根据需要配置价格。例如，如果你在欧洲有三个数据中心，分别位于三个不同的国家，由于电力价格、采购、折旧等因素，CPU
    和 RAM 的价格会有所不同。'
- en: 'There are globally defined values under `optimization/opencost`, and then there’s
    a custom pricing model for each specific country. Visually, it looks as follows:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 在 `optimization/opencost` 下有全球定义的值，此外每个特定国家还有自定义定价模型。其视觉效果如下：
- en: '![Figure 14.1 – OpenCost with GitOps and on-premise pricing configuration](img/B22100_14_01.jpg)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.1 – 配合 GitOps 和本地定价配置的 OpenCost](img/B22100_14_01.jpg)'
- en: Figure 14.1 – OpenCost with GitOps and on-premise pricing configuration
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.1 – 配合 GitOps 和本地定价配置的 OpenCost
- en: 'For the scenario in *Figure 14**.1*, we establish the following folder structure
    [*3*]:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 对于*图 14.1*中的场景，我们建立以下文件夹结构 [*3*]：
- en: '[PRE0]'
  id: totrans-57
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'It can also be combined with **hybrid cloud** and **multi-cloud**; then, it
    might look like this:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 它还可以与**混合云**和**多云**结合使用；然后，它可能看起来像这样：
- en: '![Figure 14.2 – OpenCost with GitOps and hybrid-setup pricing configuration](img/B22100_14_02.jpg)'
  id: totrans-59
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.2 – 配合 GitOps 和混合设置定价配置的 OpenCost](img/B22100_14_02.jpg)'
- en: Figure 14.2 – OpenCost with GitOps and hybrid-setup pricing configuration
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.2 – 配合 GitOps 和混合设置定价配置的 OpenCost
- en: GitOps, combined with OpenCost, opens up new possibilities in FinOps, enabling
    more user- and infrastructure-defined cost visibility across distributed infrastructures,
    thus allowing for enhanced financial oversight, precise cost allocation, and strategic
    budget optimization in cloud environments.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps 与 OpenCost 相结合，在 FinOps 中开辟了新的可能性，提供了跨分布式基础设施的用户和基础设施定义的成本可见性，从而加强了财务监管、精确的成本分配和云环境中的战略预算优化。
- en: However, if you require functionalities such as team collaboration, budget planning,
    alerting, estimated monthly savings, and more, then you should consider exploring
    Kubecost.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你需要团队协作、预算规划、警报、估算月度节省等功能，则应考虑探索 Kubecost。
- en: Kubecost
  id: totrans-63
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: Kubecost
- en: 'Kubecost is a product that builds on OpenCost. It’s a commercial solution that
    offers additional features and support for businesses that go beyond the core
    functionalities of the OpenCost project. Kubecost includes all the features of
    OpenCost, along with the following:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: Kubecost 是一个基于 OpenCost 的产品。它是一个商业解决方案，提供比 OpenCost 项目核心功能更多的附加功能和支持。Kubecost
    包含了 OpenCost 的所有功能，并且增加了以下内容：
- en: Advanced budgeting and cost forecasting
  id: totrans-65
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级预算和成本预测
- en: Personalized optimization recommendations
  id: totrans-66
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 个性化优化建议
- en: Additional security and compliance features
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 额外的安全性和合规性功能
- en: Professional support and consultation
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 专业支持和咨询
- en: 'Additionally, you have the flexibility to utilize GitOps not just for deploying
    Kubecost across various clusters but also to **empower teams** to set **budgets**
    based on namespaces, clusters, or labels, along with specifying actions (*Figure
    14**.3*) to take when budget thresholds are exceeded:'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，你可以灵活地利用 GitOps，不仅仅是为了在多个集群中部署 Kubecost，还可以让团队根据命名空间、集群或标签设置**预算**，并指定在预算超标时需要采取的行动（*图
    14.3*）：
- en: '![Figure 14.3 – Kubecost with GitOps: defining budget and cost alerts](img/B22100_14_03.jpg)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.3 – Kubecost 与 GitOps：定义预算和成本警报](img/B22100_14_03.jpg)'
- en: 'Figure 14.3 – Kubecost with GitOps: defining budget and cost alerts'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.3 – Kubecost 与 GitOps：定义预算和成本警报
- en: By integrating GitOps with Kubecost, organizations empower their teams with
    enhanced control over their projects or clusters, streamlining the deployment
    of this powerful tool. This synergy allows teams not only to deploy Kubecost efficiently
    at scale but also to define essential parameters that align with their budgetary
    needs. Such integration is pivotal in fostering a collaborative environment for
    cost management, enabling various teams within the organization to share best
    practices, insights, and strategies to collectively optimize resources.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 通过将 GitOps 与 Kubecost 集成，组织能够赋予团队更多的控制权，简化这一强大工具的部署。这种协同作用不仅让团队能够高效地大规模部署 Kubecost，还能定义与预算需求对齐的关键参数。这种集成在促进成本管理的协作环境中至关重要，使组织内的各个团队能够共享最佳实践、见解和策略，共同优化资源。
- en: This collaborative atmosphere is further enriched by the capabilities of Kubecost
    combined with GitOps, which facilitate proactive cost management. With the ability
    to set predefined thresholds and configure automated alerts, teams are equipped
    to actively monitor and manage their cloud spending. This proactive stance ensures
    that any potential budget overruns are swiftly identified and addressed, and overall
    cloud expenditure is optimized effectively.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: Kubecost 与 GitOps 相结合的能力进一步丰富了这种协作氛围，促进了主动的成本管理。通过设置预定义的阈值并配置自动警报，团队可以积极监控和管理云支出。这种主动的立场确保了任何潜在的预算超支能迅速被识别并解决，同时有效优化整体云支出。
- en: The confluence of GitOps and Kubecost transforms the approach to cloud cost
    management, moving from a reactive to a proactive model. Teams are no longer in
    the dark about their spending trends and are instead provided with a clear, actionable
    framework that enables them to maintain financial efficiency while capitalizing
    on the scalability and flexibility of cloud resources. This integration ensures
    that cost optimization is not just an afterthought such as the end of the month
    but a fundamental aspect of **daily operations**, empowering teams to leverage
    cloud resources judiciously and economically.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps 和 Kubecost 的融合改变了云成本管理的方式，从反应型转变为主动型模型。团队不再对自己的支出趋势一无所知，而是提供了一个清晰的、可操作的框架，使他们能够保持财务效率，同时充分利用云资源的可扩展性和灵活性。这种集成确保了成本优化不仅仅是月底的后续工作，而是**日常运营**的基本组成部分，赋予团队合理经济地利用云资源的能力。
- en: Differences between OpenCost and Kubecost
  id: totrans-75
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: OpenCost 与 Kubecost 的区别
- en: 'Here are the most important differences between the two tools:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是这两个工具之间最重要的区别：
- en: '**Open source versus commercial**: OpenCost is an open source project inviting
    the community to freely use and adapt it, whereas Kubecost is a commercial version
    offering enhanced features and support for business customers.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开源与商业版**：OpenCost 是一个开源项目，邀请社区自由使用和适配，而 Kubecost 是一个商业版，提供增强的功能和支持，面向企业客户。'
- en: '**Feature set**: Kubecost builds upon OpenCost, extending it with additional,
    commercial features specifically designed for enterprise customers. For example,
    while OpenCost provides basic cost monitoring for Kubernetes clusters, Kubecost
    offers advanced features such as automated cost optimization recommendations and
    detailed cost allocation reports for different teams and projects.'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**功能集**：Kubecost在OpenCost的基础上进行了扩展，增加了专门为企业客户设计的附加商业功能。例如，OpenCost为Kubernetes集群提供基本的成本监控，而Kubecost则提供自动化成本优化建议以及为不同团队和项目提供详细的成本分配报告。'
- en: '**Support**: Kubecost provides professional support and consulting services
    that go beyond what is typically expected from an open source project.'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支持**：Kubecost提供专业的支持和咨询服务，超出了通常从开源项目中预期的范围。'
- en: Both tools aim to improve transparency and control over costs associated with
    Kubernetes usage, but they cater to different user groups and needs, ranging from
    the open source community to large enterprises.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 这两款工具旨在提升Kubernetes使用相关费用的透明度和控制力，但它们面向的用户群体和需求不同，从开源社区到大型企业均有涵盖。
- en: This combination of GitOps and OpenCost or Kubecost not only streamlines operational
    efficiency but also significantly enhances the strategic financial management
    of Kubernetes environments.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps与OpenCost或Kubecost的结合，不仅简化了操作效率，还显著提升了Kubernetes环境的战略财务管理。
- en: In the next part, we look at how to optimize cloud costs and how GitOps with
    Kubecost contributes to this.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将探讨如何优化云成本，以及GitOps与Kubecost如何为此作出贡献。
- en: Optimization techniques for cloud spend
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 云支出优化技术
- en: Optimization techniques for cloud spending are crucial for organizations looking
    to maximize their **cloud investment** while minimizing unnecessary costs. Integrating
    GitOps with tools such as Kubecost can significantly streamline this process,
    providing a systematic approach to managing and reducing cloud expenses. Here’s
    how this combination can be leveraged to enhance cloud spend optimization.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 对于希望最大化**云投资**并最小化不必要成本的组织来说，云支出优化技术至关重要。将GitOps与如Kubecost等工具结合，可以显著简化这一过程，提供一种系统化的方法来管理和减少云费用。以下是如何利用这一组合来提升云支出优化的方式。
- en: Combining GitOps and Kubecost for cloud spend optimization
  id: totrans-85
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: GitOps与Kubecost结合进行云支出优化
- en: GitOps, by design, brings automation, predictability, and transparency to cloud
    operations. It establishes a Git repository as the SSOT for the entire infrastructure,
    which means every change is version-controlled, traceable, and reversible. This
    methodical approach is instrumental in cloud spend optimization.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps通过自动化、可预测性和透明度将其带入云操作中。它将Git存储库作为整个基础设施的SSOT，这意味着每一次变更都有版本控制、可追溯且可回滚。这种方法化的方式对云支出优化至关重要。
- en: Important note
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: An example on GitHub under [*Chapter 14*](B22100_14.xhtml#_idTextAnchor274),
    `...optimization/kubecost`, demonstrates how to configure alerts in the Kubecost
    UI and via Helm Chart deployment using the `values.yaml` file.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 在GitHub上的一个示例，[*第14章*](B22100_14.xhtml#_idTextAnchor274)，`...optimization/kubecost`，展示了如何通过Kubecost
    UI和Helm Chart部署，利用`values.yaml`文件配置告警。
- en: 'When GitOps and Kubecost are used together, they provide a powerful framework
    for ongoing cloud spend optimization:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 当GitOps与Kubecost结合使用时，它们为持续的云支出优化提供了强大的框架：
- en: '**Automated resource optimization**: GitOps can automate the deployment of
    Kubecost’s recommendations, ensuring that cost-saving measures are promptly and
    consistently applied across the infrastructure'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动化资源优化**：GitOps可以自动化部署Kubecost的建议，确保节省成本的措施能及时且一致地应用于基础设施。'
- en: '**Continuous monitoring and adjustment**: The combination allows for continuous
    monitoring of cloud spend and automatic adjustments based on predefined policies,
    ensuring that the cloud environment is always running in the most cost-effective
    manner'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**持续监控与调整**：这一组合能够持续监控云支出，并根据预定义的策略进行自动调整，确保云环境始终以最具成本效益的方式运行。'
- en: '**Enhanced collaboration**: By integrating these tools, financial and operational
    teams can collaborate more effectively, with GitOps providing the operational
    framework and Kubecost offering financial insights, leading to more informed decision-making'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**增强协作**：通过整合这些工具，财务团队与运营团队可以更有效地协作，GitOps提供操作框架，而Kubecost提供财务洞察，进而促进更加明智的决策。'
- en: Let’s imagine a new project comes in. The platform team provides the Kubernetes
    platform, but the FinOps team, which has a fixed budget of 500 USD per project,
    is responsible for managing the costs. The FinOps Team can create a budget with
    alerts in the UI or let the GitOps team deploy the alert via GitOps budgets for
    the project namespaces and clusters and set up **alerts**.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 假设有一个新项目进来。平台团队提供 Kubernetes 平台，但 FinOps 团队负责管理每个项目固定预算为 500 美元的成本。FinOps 团队可以在
    UI 中创建一个预算并设置警报，或者让 GitOps 团队通过 GitOps 项目命名空间和集群预算部署警报，并设置 **警报**。
- en: 'If the FinOps team, for example, wonders why the cumulative budget across the
    namespaces is between 70-100 USD, but the total spent budget is around 600 USD,
    they can use the alerts and UI to investigate the root cause. The Kubecost UI
    (*Figure 14**.4*) reveals that the cluster efficiency, for example, is below 12%,
    and savings of about 50 USD are already possible with a 7-day retrospective:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，如果 FinOps 团队想知道为什么命名空间中的累计预算在 70-100 美元之间，但总支出预算约为 600 美元，他们可以使用警报和 UI 来调查根本原因。Kubecost
    UI (*图 14**.4*) 显示，集群效率低于 12%，并且通过 7 天的回顾，已经可以节省大约 50 美元：
- en: '![Figure 14.4 – Kubecost cluster efficiency ~12% for 7 days](img/B22100_14_04.jpg)'
  id: totrans-95
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.4 – Kubecost 集群效率 ~12% 持续 7 天](img/B22100_14_04.jpg)'
- en: Figure 14.4 – Kubecost cluster efficiency ~12% for 7 days
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.4 – Kubecost 集群效率 ~12% 持续 7 天
- en: 'The FinOps team then examines the potential savings in *Figure 14**.5* to understand
    the origins of the costs. It quickly becomes apparent that the cluster for the
    project is oversized. Together with the platform team and by utilizing Kubecost,
    the teams involved in the project can implement sizing adjustments and mechanisms
    to modify actions accordingly. At this juncture, it’s crucial that collaboration
    between the teams is effective and that all teams act in the interest of the company,
    sustainability, and the project. This is how cloud costs can be sensibly optimized:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，FinOps 团队会检查 *图 14**.5* 中的潜在节省，以了解成本的来源。很快就能明显看出，项目的集群规模过大。与平台团队合作，并利用 Kubecost，项目中的各个团队可以实施规模调整和机制，以便相应地调整行动。在这一阶段，团队之间的协作至关重要，所有团队都应以公司、可持续性和项目的利益为出发点。这就是如何合理优化云成本的方式：
- en: '![Figure 14.5 – Kubecost savings recommendation](img/B22100_14_05.jpg)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.5 – Kubecost 节省建议](img/B22100_14_05.jpg)'
- en: Figure 14.5 – Kubecost savings recommendation
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.5 – Kubecost 节省建议
- en: In conclusion, leveraging GitOps alongside Kubecost can transform cloud spend
    optimization from a reactive to a proactive endeavor. This integration not only
    provides granular insights into cloud usage and expenses but also automates the
    application of cost-saving strategies, ensuring that cloud resources are utilized
    efficiently and economically, and aligning cloud expenditure with organizational
    budgetary goals and operational requirements.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 总结来说，结合 GitOps 和 Kubecost 可以将云支出优化从被动转变为主动。这种整合不仅提供了关于云使用和支出的详细见解，还自动应用节省成本的策略，确保云资源得到高效和经济的利用，并使云支出与组织的预算目标和运营需求保持一致。
- en: In the following section, we will explore the utilization of GitOps along with
    diverse tools to progress toward sustainability.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将探讨如何利用 GitOps 以及多种工具朝着可持续性目标迈进。
- en: Assessing carbon footprint and promoting green operations
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评估碳足迹并推动绿色运营
- en: Assessing the carbon footprint and promoting green operations in cloud environments
    are critical steps toward achieving sustainability in IT operations. Tools such
    as `kube-green` [*4*] and **Armada** [*5*] offer innovative approaches to managing
    and reducing the environmental impact of cloud computing.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 评估碳足迹并推动云环境中的绿色运营是实现 IT 运营可持续性的关键步骤。像 `kube-green` [*4*] 和 **Armada** [*5*]
    这样的工具提供了创新的方法来管理和减少云计算的环境影响。
- en: Assessing carbon footprint with kube-green
  id: totrans-104
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 使用 kube-green 评估碳足迹
- en: 'The `kube-green` tool focuses on optimizing resource usage in a way that correlates
    directly with energy consumption, thereby minimizing the environmental impact.
    Here’s how it contributes to green operations:'
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: '`kube-green` 工具专注于以直接与能源消耗相关的方式优化资源使用，从而减少环境影响。它是如何推动绿色运营的：'
- en: '`kube-green` tool can intelligently schedule workloads to run during times
    when the energy grid is supplied by renewable sources, thus promoting the use
    of green energy'
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`kube-green` 工具可以智能地调度工作负载，使其在能源电网由可再生能源供应时运行，从而促进绿色能源的使用。'
- en: '**Resource optimization**: It helps in fine-tuning the allocation of resources,
    ensuring that applications use only what they need and reducing the overall energy
    consumption of the data center'
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**资源优化**：帮助微调资源分配，确保应用程序仅使用所需的资源，并减少数据中心的总体能耗。'
- en: '**Idle resource management**: The tool can automatically scale down or turn
    off idle resources, significantly cutting down energy waste and associated carbon
    emissions'
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**空闲资源管理**：该工具可以自动缩减或关闭空闲资源，显著减少能源浪费和相关的碳排放。'
- en: Implementing `kube-green` allows organizations to move toward carbon-neutral
    computing, aligning IT operations with broader environmental sustainability goals.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 实施`kube-green`使组织能够朝着碳中和计算迈进，将IT运营与更广泛的环境可持续性目标对齐。
- en: Promoting green operations with Armada
  id: totrans-110
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过Armada促进绿色运营。
- en: 'While not a direct tool like `kube-green`, Armada represents the concept of
    a fleet management approach in Kubernetes, which can be adapted to promote green
    operations. By managing clusters efficiently, Armada can help in the following
    ways:'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然不像`kube-green`那样是一个直接的工具，Armada代表了Kubernetes中的舰队管理方法的概念，可以适应以促进绿色运营。通过高效管理集群，Armada可以在以下方面提供帮助：
- en: '**Cluster consolidation**: Optimizing the number of active clusters and nodes
    based on demand, **reducing energy consumption** by avoiding the over-provisioning
    of resources'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**集群整合**：根据需求优化活动集群和节点的数量，**通过避免资源过度配置来减少能源消耗**。'
- en: '**Energy-efficient deployments**: Facilitating the deployment of applications
    in an energy-efficient manner, potentially integrating with tools that forecast
    the availability of green energy'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**节能部署**：以节能的方式促进应用程序的部署，可能与预测绿色能源可用性的工具集成。'
- en: '**Monitoring and reporting**: Providing insights into the energy usage and
    efficiency of clusters, enabling informed decisions about how to reduce the carbon
    footprint'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**监控与报告**：提供集群能耗和效率的洞察，帮助做出减少碳足迹的决策。'
- en: Adopting a strategy such as Armada allows organizations to oversee their Kubernetes
    clusters with an eye toward sustainability, ensuring that the infrastructure is
    as energy-efficient as possible.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 采用Armada这样的策略使组织能够以可持续发展的眼光监督其Kubernetes集群，确保基础设施尽可能节能高效。
- en: Assessing carbon footprint by integrating with GitOps
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 通过与GitOps集成评估碳足迹。
- en: 'Integrating tools such as `kube-green` and concepts such as Armada into a GitOps
    workflow can further enhance their effectiveness:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 将`kube-green`等工具和Armada等概念集成到GitOps工作流中，可以进一步提升其效果：
- en: '`kube-green` policies and Armada strategies across all clusters, ensuring uniform
    adherence to sustainability practices'
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`kube-green`策略和Armada策略在所有集群中的应用，确保统一遵循可持续发展实践。'
- en: '**Continuous optimization**: With GitOps, the continual adjustment and optimization
    of green policies can be maintained across the life cycle of applications, keeping
    sustainability a priority in every deployment'
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**持续优化**：通过GitOps，可以在应用程序生命周期内持续调整和优化绿色政策，确保每次部署时都将可持续性作为优先考虑。'
- en: '**Transparency and accountability**: The declarative nature of GitOps provides
    a clear, version-controlled history of all changes made to promote green operations,
    fostering transparency and accountability in sustainability efforts'
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**透明度和问责制**：GitOps的声明式特性提供了所有绿色操作变更的清晰版本控制历史，促进了可持续发展努力中的透明度和问责制。'
- en: By assessing the carbon footprint and promoting green operations, organizations
    not only contribute to the environmental sustainability of their cloud infrastructure
    but also align with global efforts to reduce carbon emissions. The integration
    of these practices with GitOps ensures a systematic, scalable, and effective approach
    to sustainable cloud computing.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 通过评估碳足迹并促进绿色运营，组织不仅为其云基础设施的环境可持续性做出贡献，还与全球减少碳排放的努力保持一致。这些做法与GitOps的整合确保了可持续云计算的系统化、可扩展性和有效性。
- en: As AI is becoming increasingly important and there are already tools that can
    provide teams with useful support, we will take a look at these in the next section.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 随着人工智能变得越来越重要，并且已有工具可以为团队提供有用的支持，我们将在下一节中详细了解这些工具。
- en: Looking at GitOps and AI-driven automation
  id: totrans-123
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 探讨GitOps与AI驱动的自动化。
- en: As the IT landscape becomes increasingly complex, especially when dissecting
    all aspects of Kubernetes in detail without the aid of GitOps or other tools,
    many layers accumulate, spanning from the operating system level through the network
    and up to **public key infrastructures** (**PKIs**). I notice more frequently
    that new employees in this field are finding it increasingly difficult to get
    started and to know where exactly to begin, especially when they are thrust into
    a project. Hence, there are practical AI tools available that can provide support
    in this area.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 随着IT领域日益复杂，尤其是在没有GitOps或其他工具帮助的情况下，详细解析Kubernetes的各个方面时，许多层次逐渐堆叠，从操作系统层到网络，再到**公钥基础设施**（**PKI**）。我发现现在越来越多的新员工在这个领域中，发现起步变得越来越困难，不知道从哪里开始，尤其是当他们被投入一个项目时。因此，存在一些实用的AI工具，可以在这一领域提供支持。
- en: In this chapter, we will explore two tools. The first tool, **Robusta.dev**,
    serves as a **troubleshooting co-pilot** for developers, providing them with real-time
    insights and solutions. The second tool is a **retrieval-augmented generation**
    (**RAG**) model, a self-implemented middleware solution from **iits**, which can
    be used as an enhancement to support developers with a knowledge base. By combining
    these two tools and deploying them via GitOps in the relevant projects, I believe
    they can be extremely beneficial not only for developers new to the field but
    also for those who are already experienced. This integration is likely to result
    in a productive boost.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们将探索两个工具。第一个工具，**Robusta.dev**，充当开发者的**故障排除副驾驶**，为他们提供实时的洞察和解决方案。第二个工具是**检索增强生成**（**RAG**）模型，它是**iits**自实现的中间件解决方案，可以用作增强工具，支持开发者的知识库。通过将这两个工具结合起来，并通过GitOps在相关项目中进行部署，我相信它们不仅对新入行的开发者极为有利，对那些已经有经验的开发者同样有帮助。这种集成有可能带来生产力的提升。
- en: Robusta.dev
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Robusta.dev
- en: Robusta [*6*] is an open source platform designed to enhance the observability
    and debugging capabilities of Kubernetes. It’s a tool that helps DevOps teams,
    **site reliability engineers** (**SREs**), and developers to get more insights
    into their Kubernetes clusters, facilitating better monitoring, alerting, and
    troubleshooting.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: Robusta [*6*] 是一个开源平台，旨在增强Kubernetes的可观察性和调试功能。它是一个帮助DevOps团队、**站点可靠性工程师**（**SRE**）和开发者深入了解Kubernetes集群的工具，从而促进更好的监控、警报和故障排除。
- en: 'Key features of Robusta include the following:'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: Robusta的主要特点包括以下几点：
- en: '**Enhanced observability**: Robusta provides detailed insights into the Kubernetes
    environment, offering rich, actionable alerts and notifications. It transforms
    plain log files into more interactive, enriched data that helps in quicker understanding
    and resolution of issues.'
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**增强的可观察性**：Robusta提供Kubernetes环境的详细洞察，提供丰富的、可操作的警报和通知。它将普通的日志文件转化为更具交互性、富有数据的内容，帮助更快地理解和解决问题。'
- en: '**Automated troubleshooting**: The platform can automate the troubleshooting
    process for common Kubernetes problems, reducing the manual effort required to
    diagnose and resolve issues.'
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**自动化故障排除**：该平台可以自动化常见Kubernetes问题的故障排除过程，从而减少诊断和解决问题所需的人工努力。'
- en: '**Customizable playbooks**: Users can create custom playbooks to automate responses
    to specific incidents or alerts. This allows for a tailored response mechanism
    that can evolve with the needs of the infrastructure.'
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**可自定义的操作手册**：用户可以创建自定义的操作手册，以自动化响应特定的事件或警报。这允许根据基础设施的需求演变定制响应机制。'
- en: '**Integration with existing tools**: It integrates well with the existing ecosystem
    of DevOps tools, providing seamless connectivity with monitoring solutions, alerting
    tools, and messaging platforms such as Slack.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**与现有工具的集成**：它与现有的DevOps工具生态系统良好集成，提供与监控解决方案、警报工具以及像Slack这样的消息平台的无缝连接。'
- en: '**Open source community**: Being open source, it allows developers and users
    to contribute to the tool, fostering a community-driven approach to enhancing
    Kubernetes observability and management.'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开源社区**：作为开源工具，它允许开发者和用户为该工具做出贡献，推动社区驱动的方式来增强Kubernetes的可观察性和管理能力。'
- en: We will use the enhancement **ChatGPT** bot [*7*] with a customizable playbook
    to make the Robusta tool even more effective. But let’s follow the next steps
    in the guide. We will use Prometheus and ChatGPT in our following example.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用增强版的**ChatGPT**机器人 [*7*]，配合可自定义的操作手册，使Robusta工具更加高效。但接下来让我们按照指南中的步骤进行操作。我们将在接下来的示例中使用Prometheus和ChatGPT。
- en: Important note
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Prometheus** is an open source monitoring and alerting toolkit widely used
    for its powerful querying language and ability to handle multi-dimensional data
    such as metrics from cloud and containerized environments, while **ChatGPT** is
    an advanced AI language model developed by **OpenAI**, capable of generating human-like
    text, engaging in conversation, answering questions, and providing information
    across a vast range of topics.'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: '**Prometheus** 是一个开源的监控和告警工具包，因其强大的查询语言和能够处理多维数据（如来自云和容器化环境的指标）而被广泛使用，而**ChatGPT**是由**OpenAI**开发的先进
    AI 语言模型，能够生成类人文本、进行对话、回答问题，并提供涵盖广泛主题的信息。'
- en: 'Let’s get started:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们开始吧：
- en: 'Install the Robusta Python CLI:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装 Robusta Python CLI：
- en: '[PRE1]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Generate a values file for Helm:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为 Helm 生成一个 values 文件：
- en: '[PRE2]'
  id: totrans-141
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'You will be guided through all necessary steps:'
  id: totrans-142
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你将被引导完成所有必要的步骤：
- en: '[PRE3]'
  id: totrans-143
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'In the newest version, they validate the Helm over Helm lint, so you have to
    add `clusterName`:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在最新版本中，它们通过 Helm lint 验证 Helm，因此你需要添加 `clusterName`：
- en: '[PRE4]'
  id: totrans-145
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Then, you can modify the `generated_values.yaml` file to create multiple triggers.
    For the showcase, I will keep it simple and apply it over helm in the next step.
  id: totrans-146
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 然后，你可以修改 `generated_values.yaml` 文件，创建多个触发器。为了展示，我会保持简单，并在下一步通过 Helm 应用它。
- en: 'Install Robusta with Helm:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用 Helm 安装 Robusta：
- en: '[PRE5]'
  id: totrans-148
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Run a demo to see if the trigger (**Prometheus**), action (**Logs-Enricher**),
    and sink (Slack) work:'
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行示例以查看触发器（**Prometheus**）、动作（**Logs-Enricher**）和接收端（Slack）是否正常工作：
- en: '[PRE6]'
  id: totrans-150
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'You should receive a notification in Slack, as illustrated in *Figure 14**.6*,
    containing metainformation along with the pod’s logs:'
  id: totrans-151
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 你应该会在 Slack 中收到一条通知，如*图 14.6*所示，包含元信息以及 pod 的日志：
- en: '![Figure 14.6 – Robusta with Slack as sink without ChatGPT](img/B22100_14_06.jpg)'
  id: totrans-152
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.6 – 使用 Slack 作为接收端没有 ChatGPT 的 Robusta](img/B22100_14_06.jpg)'
- en: Figure 14.6 – Robusta with Slack as sink without ChatGPT
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.6 – 使用 Slack 作为接收端没有 ChatGPT 的 Robusta
- en: 'We now need to include the playbook repository and integrate our custom playbook
    tailored for the ChatGPT action, as follows:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在需要包括 playbook 仓库，并集成为 ChatGPT 动作量身定制的自定义 playbook，如下所示：
- en: '[PRE7]'
  id: totrans-155
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The highlighted section is the additional part.
  id: totrans-156
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 高亮部分是额外的部分。
- en: 'Now, you should activate the Prometheus alert again using the following code:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该使用以下代码再次激活 Prometheus 告警：
- en: '[PRE8]'
  id: totrans-158
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'You should now be able to view the **Ask ChatGPT** button, as depicted in *Figure
    14**.7*:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在应该能够看到**Ask ChatGPT**按钮，如*图 14.7*所示：
- en: '![Figure 14.7 – Robusta with Slack as sink with ChatGPT](img/B22100_14_07.jpg)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.7 – 使用 Slack 作为接收端与 ChatGPT 配合的 Robusta](img/B22100_14_07.jpg)'
- en: Figure 14.7 – Robusta with Slack as sink with ChatGPT
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.7 – 使用 Slack 作为接收端与 ChatGPT 配合的 Robusta
- en: 'Upon clicking the button, you should receive a detailed explanation regarding
    the occurrence, common causes, potential troubleshooting steps, and viable solutions,
    as illustrated in *Figure 14**.8*. This feature significantly aids developers
    by saving them considerable time and reducing the hassle involved in troubleshooting
    issues. Utilizing GitOps with Argo CD, you can deploy not only Robusta but also
    the extension across multiple clusters, as we have repeatedly demonstrated throughout
    this book:'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 点击按钮后，你应该会收到一份关于发生情况、常见原因、潜在故障排除步骤和可行解决方案的详细说明，如*图 14.8*所示。此功能显著帮助开发人员节省大量时间，减少排查问题的麻烦。通过与
    Argo CD 一起使用 GitOps，你不仅可以在多个集群上部署 Robusta，还可以部署扩展功能，正如本书中反复展示的那样：
- en: '![Figure 14.8 – Robusta with Slack as sink with ChatGPT: support](img/B22100_14_08.jpg)'
  id: totrans-163
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.8 – 使用 Slack 作为接收端与 ChatGPT 配合的 Robusta：支持](img/B22100_14_08.jpg)'
- en: 'Figure 14.8 – Robusta with Slack as sink with ChatGPT: support'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.8 – 使用 Slack 作为接收端与 ChatGPT 配合的 Robusta：支持
- en: Robusta aims to simplify the operational complexity of managing Kubernetes clusters,
    making it easier for teams to maintain **high availability** (**HA**), performance,
    and reliability of their containerized applications. By integrating with GitOps,
    Robusta enhances automation, ensures consistent environments through declarative
    configuration, and facilitates swift recovery and scalability, thereby streamlining
    the deployment process and reinforcing infrastructure resilience.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Robusta 的目标是简化管理 Kubernetes 集群的操作复杂性，使团队更容易保持**高可用性**（**HA**）、性能和容器化应用的可靠性。通过与
    GitOps 集成，Robusta 提升了自动化水平，确保通过声明式配置保持一致的环境，并促进快速恢复和扩展，从而简化了部署过程并增强了基础设施的弹性。
- en: Private LLM solution with iitsAI
  id: totrans-166
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 私有 LLM 解决方案与 iitsAI
- en: With tools such as **Robusta.dev**, we already have good support for observability
    and **incident management** (**IM**) in Kubernetes environments, but how can we
    further enhance productivity, onboard new developers, and improve existing ones?
    We are introducing an additional tool called **iitsAI**, from the **iits-consulting**
    company, operating under **iitsAI**. This tool allows developers to supplement
    their own data sources on top of a pre-trained module such as **Mistral 7B** and
    leverage multiple **large language models** (**LLMs;** **mixed models**).
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 借助 **Robusta.dev** 等工具，我们已经在 Kubernetes 环境中为可观察性和 **事件管理**（**IM**）提供了很好的支持，但我们如何进一步提高生产力、帮助新开发者上手并提升现有开发者的能力呢？我们推出了一个名为
    **iitsAI** 的附加工具，由 **iits-consulting** 公司开发，运作在 **iitsAI** 下。该工具允许开发者在预训练模块（如
    **Mistral 7B**）的基础上，补充自己的数据源，并利用多种 **大型语言模型**（**LLMs；** **混合模型**）。
- en: Important note
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Ollama** is a cross-platform framework that lets you use LLMs such as **Mistral
    7B** locally on your computer.'
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: '**Ollama** 是一个跨平台框架，允许你在本地计算机上使用 **Mistral 7B** 等 LLM。'
- en: An LLM is a type of AI program that can recognize and generate text, translate
    languages, write different kinds of creative content, and answer your questions
    in an informative way.
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: LLM 是一种 AI 程序，能够识别和生成文本、翻译语言、编写各种创意内容，并以信息性方式回答你的问题。
- en: RAG is a technique that improves the accuracy and reliability of **generative
    AI** (**GenAI**) models by incorporating factual information from external sources.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: RAG 是一种通过从外部源整合事实信息，来提高 **生成性 AI**（**GenAI**）模型的准确性和可靠性的技术。
- en: '**Mistral 7B** is a 7.3 billion-parameter **neural network** (**NN**) model
    trained on a massive dataset of text and code that can perform various tasks,
    including generating text, translating languages, writing different kinds of creative
    content, and answering your questions in an informative way.'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '**Mistral 7B** 是一个拥有 73 亿参数的 **神经网络**（**NN**）模型，经过大量文本和代码数据集的训练，能够执行各种任务，包括生成文本、翻译语言、撰写不同类型的创意内容，并以信息性方式回答你的问题。'
- en: '**iitsAI** offers a private LLM solution that runs on Kubernetes within your
    **own infrastructure**, enriched with your **own data**, providing you with complete
    end-to-end control. Alternatively, you can choose the hosted version by iits,
    available through a **sovereign cloud provider** in Germany. Both solutions include
    **single sign-on** (**SSO**) and fine-grained access control to the data through
    role mapping defined by you.'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: '**iitsAI** 提供一个私有 LLM 解决方案，运行在 Kubernetes 中，属于你的 **自有基础设施**，并且包含你自己的 **数据**，为你提供完整的端到端控制。或者，你也可以选择由
    iits 提供的托管版本，通过德国的 **主权云提供商**提供。这两种解决方案都包括 **单点登录**（**SSO**）和通过你定义的角色映射来对数据进行细粒度访问控制。'
- en: 'The functionality of LLMs is simplified as follows:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: LLM 的功能简化如下：
- en: The helpers of LLMs are large NNs trained on massive amounts of data
  id: totrans-175
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LLM 的助手是经过大量数据训练的大型神经网络。
- en: Each LLM processes its part of the prompt and generates a response based on
    its knowledge and abilities
  id: totrans-176
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 每个 LLM 会处理其部分提示，并根据其知识和能力生成响应。
- en: The responses from the LLMs are then merged to create a comprehensive and informative
    response for the user
  id: totrans-177
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 来自 LLM 的响应随后会被合并，生成一个全面且信息丰富的响应给用户。
- en: This way, complex tasks can be broken down into smaller parts and processed
    in parallel by multiple LLMs. The result is faster and more efficient processing
    of the prompt. Imagine a prompt that gets split into pieces and sent to different
    **AI helpers**. Each helper works on its piece, then all the answers are combined
    for a final response.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种方式，复杂任务可以被分解为更小的部分，并由多个 LLM 并行处理。结果是更快速、更高效的提示处理。可以想象，一个提示被拆分成多个部分，分别发送给不同的
    **AI 助手**。每个助手处理它的部分，然后将所有答案汇总为最终响应。
- en: 'The tool built by iits provides the following architecture:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 由 iits 开发的工具提供以下架构：
- en: '![Figure 14.9 – Ollama with RAG: service architecture [8]](img/B22100_14_09.jpg)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.9 – Ollama 与 RAG：服务架构 [8]](img/B22100_14_09.jpg)'
- en: 'Figure 14.9 – Ollama with RAG: service architecture [8]'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.9 – Ollama 与 RAG：服务架构 [8]
- en: Important note
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 重要提示
- en: '**Weaviate** is an open source vector database that enables you to store data
    objects and vectors.'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: '**Weaviate** 是一个开源向量数据库，允许你存储数据对象和向量。'
- en: '**Airbyte** is an open source data integration platform that helps you move
    data between different sources and destinations.'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: '**Airbyte** 是一个开源数据集成平台，帮助你在不同的数据源和目标之间移动数据。'
- en: 'The user inputs a prompt into a web UI, as they are accustomed to with **ChatGPT**,
    which references a model via **Ollama**, such as **Mistral 7B**, and provides
    the base LLM model in the background. Then, **iitsAI** developed a middleware
    to conserve resources and extract the best possible outcome from the prompt. The
    prompt is divided into slices, undergoes several iterations, and is processed
    through multiple **LLMs**. Here, the LLMs act as a vector database (**Weaviate**),
    which connects to **Airbyte** through a custom-developed connector or uses Airbyte
    to load documents from various sources and provide them to the LLM agents. In
    the end, the user receives a response to their inquiry based on the provided documents,
    which looks like this:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 用户通过 Web UI 输入提示，正如他们习惯于使用**ChatGPT**，它通过**Ollama**引用一个模型，如**Mistral 7B**，并在后台提供基础
    LLM 模型。然后，**iitsAI** 开发了一种中间件来节省资源并从提示中提取最佳结果。提示被分割成多个部分，经过几次迭代，并通过多个**LLM**进行处理。在这里，LLM
    充当一个向量数据库（**Weaviate**），通过定制开发的连接器与**Airbyte**连接，或者使用 Airbyte 从不同来源加载文档并将其提供给
    LLM 代理。最终，用户根据提供的文档收到对其询问的响应，如下所示：
- en: '![Figure 14.10 – iitsAI and logistics industry develop an internal knowledge
    base](img/B22100_14_10.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图 14.10 – iitsAI 与物流行业共同开发内部知识库](img/B22100_14_10.jpg)'
- en: Figure 14.10 – iitsAI and logistics industry develop an internal knowledge base
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.10 – iitsAI 与物流行业共同开发内部知识库
- en: The intriguing aspect of the solution is that it operates on Kubernetes and
    is deployed using GitOps. Consequently, the entire solution, from the UI to loading
    the base model and provisioning the files, is managed by the companies themselves
    on their own infrastructure. This autonomy is crucial for European businesses
    when employing technologies such as AI, Kubernetes, and GitOps.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 该解决方案的一个有趣之处在于，它运行在 Kubernetes 上，并通过 GitOps 部署。因此，整个解决方案，从 UI 到加载基础模型和配置文件，都由公司在自己的基础设施上管理。这种自主性对于欧洲企业在使用
    AI、Kubernetes 和 GitOps 等技术时至关重要。
- en: Let’s now explore how it can be integrated with GitOps and the opportunities
    this combination presents.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们探讨它如何与 GitOps 集成，以及这一组合所带来的机会。
- en: 'In use case A (*Figure 14**.11*), a product provided to various customers can
    be delivered by the development team. **Simultaneously**, the team can supply
    a knowledge base to the customers on how to use the product. Users can then resolve
    all necessary queries using simple language requests without the need to sift
    through external documentation:'
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 在用例 A（*图 14**.11*）中，提供给不同客户的产品可以由开发团队交付。**同时**，团队还可以为客户提供如何使用产品的知识库。用户可以通过简单的语言请求解决所有必要的查询，而无需翻阅外部文档：
- en: '![](img/B22100_14_11.jpg)'
  id: totrans-191
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B22100_14_11.jpg)'
- en: Figure 14.11 – iitsAI and custom app knowledge base
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.11 – iitsAI 与自定义应用程序知识库
- en: 'For use case B (*Figure 14**.12*), as the platform team deploys the platform,
    they can also create an internal knowledge base about all the delivered tools,
    potential issues, releases, response times, FAQs, and so on, which can be accessed
    through a chat assistant in **natural language** (**NL**). This not only boosts
    efficiency but also eliminates several iterative steps, such as contacting the
    service desk, which typically involves searching the documentation provided and
    assisting at the first level of support:'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: 对于用例 B（*图 14**.12*），当平台团队部署平台时，他们还可以创建一个关于所有交付工具、潜在问题、发布、响应时间、常见问题等的内部知识库，该知识库可以通过**自然语言**（**NL**）的聊天助手访问。这不仅提高了效率，还消除了多个迭代步骤，例如联系服务台，这通常需要查找提供的文档并在第一层支持中提供帮助：
- en: '![](img/B22100_14_12.jpg)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B22100_14_12.jpg)'
- en: Figure 14.12 – iitsAI and platform knowledge base
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.12 – iitsAI 与平台知识库
- en: 'Thanks to GitOps, the deployment is straightforward and can be scaled across
    clusters. Moreover, the GitOps approach aids in conserving resources since LLMs
    are **GPU-intensive**. It supports setups such as those shown in *Figure 14**.13*,
    where only the UI is deployed on the workload cluster, while the middleware, the
    vector database, and the base model can operate on a service cluster that provides
    **GPU** **node pools**:'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: 得益于 GitOps，部署过程简单且可以在集群之间扩展。此外，GitOps 方法有助于节省资源，因为 LLM 是**GPU 密集型**的。它支持如*图
    14**.13*所示的设置，其中只有 UI 部署在工作负载集群上，而中间件、向量数据库和基础模型可以在服务集群上运行，提供**GPU** **节点池**：
- en: '![](img/B22100_14_13.jpg)'
  id: totrans-197
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B22100_14_13.jpg)'
- en: Figure 14.13 – iitsAI split UI and LLMs backend to save resources
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: 图 14.13 – iitsAI 分离 UI 和 LLM 后端以节省资源
- en: As we can see, GitOps offers us tremendous flexibility at this juncture, reminding
    us of our **Kubernetes Service Catalog** (**KSC**) from previous chapters and
    how one can control their stack using labels. This allows for even more finely-grained
    control of the deployments. By now integrating AI, as just demonstrated, we can
    proactively assist with troubleshooting and provide an interactive knowledge base,
    hopefully making the added value clear.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们所见，GitOps在这一阶段为我们提供了巨大的灵活性，使我们想起了之前章节中的**Kubernetes服务目录**（**KSC**），以及如何使用标签来控制自己的堆栈。这使得部署的控制更加精细。通过集成AI，如前所示，我们可以主动协助故障排除，并提供一个互动的知识库，帮助我们清晰地展现所增加的价值。
- en: In the next section, we will explore potential challenges and opportunities
    associated with the future use of GitOps.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将探讨与未来使用GitOps相关的潜在挑战和机遇。
- en: Future challenges and opportunities in GitOps
  id: totrans-201
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GitOps的未来挑战和机遇
- en: In this section, it’s crucial to address the collaborative dynamics and the
    overarching strategy required when multiple teams converge within the same operational
    framework, especially when they are required to share resources such as a repository.
    The key is to establish clear protocols from the outset, defining what is permissible
    and what needs coordination, much like setting contribution guidelines that dictate
    the sequence and considerations for changes.
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一部分，至关重要的是要解决多个团队在相同操作框架内协作的动态和所需的总体战略，尤其是当他们需要共享像代码库这样的资源时。关键是从一开始就建立明确的协议，定义哪些是允许的，哪些需要协调，就像设定贡献指南，规定更改的顺序和考虑事项。
- en: This approach is reflective of the **open source software** (**OSS**) model,
    where contributors worldwide collaborate effectively on a project without it being
    owned by a single entity. Such a model underscores the potential of GitOps to
    harmonize efforts across diverse teams, transcending the traditional boundaries
    of DevOps. GitOps aims to unify development, operations, finance, sustainability,
    privacy, security, and other disciplines, enabling them to deliver a cohesive
    and robust product collectively.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法反映了**开源软件**（**OSS**）模型，全球的贡献者在项目上有效合作，而该项目并不由单一实体拥有。这样的模型突显了GitOps的潜力，能够在不同的团队之间协调工作，超越传统的DevOps边界。GitOps旨在统一开发、运营、财务、可持续性、隐私、安全等多个领域，使它们能够共同交付一个统一且强大的产品。
- en: Sustainability is poised to play a significant role in the realm of GitOps.
    Unlike traditional **continuous integration/continuous deployment** (**CI/CD**)
    pipelines that may run based on code changes, GitOps frequently reconciles the
    actual state of the system with the desired state defined in Git. While this ensures
    consistency and **reliability**, it also means that as the number of applications
    grows, resource consumption might increase correspondingly. This necessitates
    a thoughtful approach to how GitOps practices can be optimized to mitigate environmental
    impact without compromising the efficiency and reliability of the system. The
    future of GitOps will likely see innovations that allow it to scale sustainably,
    managing resource consumption wisely while maintaining **high standards** of automated,
    consistent, and declarative infrastructure management.
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 可持续性将在GitOps领域中发挥重要作用。与可能基于代码更改运行的传统**持续集成/持续部署**（**CI/CD**）流水线不同，GitOps通常将系统的实际状态与Git中定义的目标状态进行协调。虽然这确保了一致性和**可靠性**，但这也意味着随着应用程序数量的增加，资源消耗可能相应增加。因此，必须采取深思熟虑的方法，以优化GitOps实践，减少对环境的影响，同时不妥协系统的效率和可靠性。GitOps的未来可能会出现创新，使其能够在可持续的基础上扩展，在保持**高标准**的自动化、一致性和声明性基础设施管理的同时，明智地管理资源消耗。
- en: The role of GitOps in emerging technologies
  id: totrans-205
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: GitOps在新兴技术中的角色
- en: 'In the rapidly evolving landscape of technology, GitOps stands out as a pivotal
    methodology, particularly in the realm of emerging technologies. It represents
    a paradigm shift, emphasizing the use of Git as an SSOT and automating the deployment
    process, thereby intertwining development and operations more closely than ever
    before. This methodology is becoming increasingly vital as organizations navigate
    the complexities of modern software deployment, especially in cloud-native environments
    and when dealing with innovative technologies. This list summarizes the role of
    GitOps in emerging technologies:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 在快速发展的技术领域中，GitOps 作为一种关键的方法论脱颖而出，尤其在新兴技术领域。它代表了一种范式转变，强调将 Git 作为单一真实来源（SSOT）并自动化部署过程，从而比以往任何时候都更紧密地将开发与运维结合在一起。在组织应对现代软件部署的复杂性，特别是在云原生环境中以及处理创新技术时，这种方法论变得越来越重要。以下是
    GitOps 在新兴技术中的作用总结：
- en: '**Enhancing cloud-native ecosystems**: As organizations increasingly adopt
    cloud-native technologies, the complexity of managing these environments grows.
    GitOps provides a structured, predictable method of managing this complexity,
    using version control to manage the entire state of the cloud-native infrastructure.
    This is particularly beneficial for Kubernetes, serverless architectures, and
    service mesh technologies, where configuration and state are critical. GitOps
    not only simplifies the management of these technologies but also enhances security,
    auditability, and transparency, which are paramount in cloud-native ecosystems.'
  id: totrans-207
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**增强云原生生态系统**：随着组织越来越多地采用云原生技术，管理这些环境的复杂性也在增加。GitOps 提供了一种结构化、可预测的方法来管理这种复杂性，使用版本控制来管理整个云原生基础设施的状态。这对于
    Kubernetes、无服务器架构和服务网格技术尤为重要，因为这些技术的配置和状态至关重要。GitOps 不仅简化了这些技术的管理，还增强了安全性、可审计性和透明度，这些在云原生生态系统中至关重要。'
- en: '**Facilitating edge computing**: With the rise of edge computing, managing
    numerous remote environments consistently and securely has become a challenge.
    GitOps offers a way to deploy and manage applications across various edge locations
    reliably. By keeping configurations in Git, organizations can ensure that changes
    are traceable, verifiable, and automatically deployed, reducing the potential
    for human error and increasing operational efficiency.'
  id: totrans-208
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**促进边缘计算**：随着边缘计算的兴起，一致性和安全地管理众多远程环境已成为一项挑战。GitOps 提供了一种可靠的方法，用于跨各个边缘位置部署和管理应用程序。通过将配置保存在
    Git 中，组织可以确保更改是可追溯的、可验证的，并且可以自动部署，从而减少人为错误的可能性并提高运营效率。'
- en: '**Accelerating AI and machine learning (ML) operations**: The integration of
    GitOps in AI and ML operations streamlines the deployment of complex AI models
    and the continuous delivery of ML infrastructure. It ensures that data scientists
    and ML engineers can focus on model development and experimentation without worrying
    about the underlying infrastructure. GitOps automates the deployment process,
    ensuring consistent, repeatable, and reliable delivery of AI applications.'
  id: totrans-209
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**加速人工智能和机器学习（ML）操作**：GitOps 在人工智能和机器学习操作中的集成简化了复杂 AI 模型的部署和 ML 基础设施的持续交付。它确保数据科学家和
    ML 工程师可以专注于模型开发和实验，而无需担心基础设施。GitOps 自动化了部署过程，确保了 AI 应用程序的一致性、可重复性和可靠交付。'
- en: '**Supporting Internet of Things (IoT) deployments**: IoT involves managing
    a vast number of devices, each potentially running different software versions.
    GitOps can play a crucial role in automating the deployment and management of
    software across these devices, ensuring consistency, reliability, and security
    at scale. The declarative approach of GitOps means that the desired state of the
    IoT infrastructure can be version-controlled and automatically applied, reducing
    the complexity and increasing the scalability of IoT operations.'
  id: totrans-210
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支持物联网（IoT）部署**：物联网涉及管理大量设备，每个设备可能运行不同的软件版本。GitOps 在自动化这些设备上软件的部署和管理中发挥着至关重要的作用，确保一致性、可靠性和安全性。GitOps
    的声明式方法意味着物联网基础设施的期望状态可以进行版本控制并自动应用，从而减少复杂性并提高物联网操作的可扩展性。'
- en: '**Enhancing security in DevSecOps**: In the DevSecOps world, integrating security
    into the **development and operations life cycle** is crucial. GitOps supports
    this by ensuring that all changes are reviewed, approved, and traceable through
    Git. This facilitates **rigorous audit trails**, quick rollbacks in case of issues,
    and a more secure infrastructure deployment pipeline, thereby enhancing the overall
    security posture of the organization.'
  id: totrans-211
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**提升 DevSecOps 中的安全性**：在 DevSecOps 世界中，将安全性融入 **开发与运维生命周期** 是至关重要的。GitOps 通过确保所有更改都经过审查、批准并可追溯，支持这一点。这有助于**严格的审计追踪**、在出现问题时快速回滚，并且提供一个更加安全的基础设施部署管道，从而提升组织整体的安全态势。'
- en: GitOps is not just a trend but a fundamental shift in how we manage emerging
    technologies. It bridges the gap between development and operations, ensuring
    faster, more secure, and more reliable software delivery. As we continue to embrace
    new technologies and face new challenges, the principles of GitOps provide a solid
    foundation for managing the complexity of modern IT environments, making it an
    indispensable tool in the arsenal of today’s technology leaders.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: GitOps 不仅仅是一个趋势，更是我们管理新兴技术的一种根本性变革。它架起了开发和运维之间的桥梁，确保了更快、更安全和更可靠的软件交付。在我们继续拥抱新技术并面对新挑战时，GitOps
    的原则为管理现代 IT 环境的复杂性提供了坚实的基础，使其成为当今技术领导者必备的工具。
- en: Summary
  id: totrans-213
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we hopefully gained clarity on how GitOps, through the use
    of various tools, enables both economic and ecological action. The importance
    of cultural change in the adoption of GitOps should also have become evident,
    as it allows numerous teams to collaborate and autonomously deploy tools, policies,
    and so on that align with the company’s interests. While interpreting future trends
    isn’t straightforward, the potential unlocked by combining the discussed AI tools
    should now be apparent. Ultimately, GitOps serves to deploy, expand, and maintain
    various tools or policies from different teams across a distributed cluster landscape
    or logically grouped clusters at scale.
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一章中，我们希望你能清晰地理解 GitOps 如何通过使用各种工具，促进经济和生态行动。采用 GitOps 的文化变革的重要性也应该变得更加明显，因为它使得多个团队能够协作，并自主部署符合公司利益的工具、政策等。虽然解读未来趋势并不简单，但结合我们讨论的
    AI 工具所释放的潜力现在应该显而易见。最终，GitOps 旨在大规模地在分布式集群环境或逻辑分组的集群中部署、扩展和维护来自不同团队的各种工具或政策。
- en: In *Implementing GitOps with Kubernetes*, we have taken a hands-on approach
    to explore scalable and straightforward solutions grounded in real-world scenarios.
    From foundational concepts to advanced implementations, this book has aimed to
    equip you with the knowledge and tools necessary to harness the full potential
    of GitOps within Kubernetes environments. Through practical examples, insights
    from industry experts, and detailed explanations of best practices, we hope you
    now feel prepared to implement GitOps strategies effectively.
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 在《*使用 Kubernetes 实现 GitOps*》一书中，我们采取了实践的方式，探索了基于实际场景的可扩展和简单解决方案。从基础概念到高级实现，本书旨在为你提供必要的知识和工具，使你能够在
    Kubernetes 环境中充分发挥 GitOps 的潜力。通过实际案例、行业专家的见解以及最佳实践的详细说明，我们希望你现在已经准备好有效地实施 GitOps
    策略。
- en: As you conclude this book, the next step is to apply what you’ve learned to
    real-world projects. Experiment with different tools, refine your workflows, and
    continually seek ways to optimize and secure your deployments. Stay engaged with
    the community, keep up with the latest trends, and never stop learning.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 在你读完本书后，下一步就是将你所学的知识应用到实际项目中。尝试不同的工具，优化你的工作流程，并不断寻找优化和保护部署的方法。保持与社区的互动，跟进最新趋势，永远不要停止学习。
- en: We wish you the best of luck on your GitOps journey ahead. May you achieve new
    heights in operational excellence, scalability, and innovation. Thank you for
    joining us on this journey, and we wish you success in all your GitOps endeavors.
    Wishing you all the best, Pietro and Artem.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 祝你在接下来的 GitOps 旅程中好运。愿你在运维卓越、可扩展性和创新方面取得新高度。感谢你与我们一起踏上这段旅程，祝你在所有 GitOps 相关的事业中取得成功。祝一切顺利，Pietro
    和 Artem。
- en: References
  id: totrans-218
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 参考文献
- en: '[*1*] [https://github.com/opencost/opencost](https://github.com/opencost/opencost)'
  id: totrans-219
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*1*] [https://github.com/opencost/opencost](https://github.com/opencost/opencost)'
- en: '[*2*] [https://github.com/kubecost](https://github.com/kubecost)'
  id: totrans-220
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*2*] [https://github.com/kubecost](https://github.com/kubecost)'
- en: '[*3*] [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/GitOps-for-Kubernetes-Deployment)Implementing-GitOps-with-Kubernetes'
  id: totrans-221
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*3*] [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/GitOps-for-Kubernetes-Deployment)实施GitOps与Kubernetes'
- en: '[*4*] [https://github.com/kube-green/kube-green](https://github.com/kube-green/kube-green)'
  id: totrans-222
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*4*] [https://github.com/kube-green/kube-green](https://github.com/kube-green/kube-green)'
- en: '[*5*] [https://github.com/armadaproject/armada](https://github.com/armadaproject/armada)'
  id: totrans-223
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*5*] [https://github.com/armadaproject/armada](https://github.com/armadaproject/armada)'
- en: '[*6*] [https://home.robusta.dev](https://home.robusta.dev)'
  id: totrans-224
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*6*] [https://home.robusta.dev](https://home.robusta.dev)'
- en: '[*7*] [https://github.com/robusta-dev/kubernetes-chatgpt-bot](https://github.com/robusta-dev/kubernetes-chatgpt-bot)'
  id: totrans-225
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*7*] [https://github.com/robusta-dev/kubernetes-chatgpt-bot](https://github.com/robusta-dev/kubernetes-chatgpt-bot)'
- en: '[*8*] [https://github.com/iits-consulting/otc-terraform-template](https://github.com/iits-consulting/otc-terraform-template)'
  id: totrans-226
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[*8*] [https://github.com/iits-consulting/otc-terraform-template](https://github.com/iits-consulting/otc-terraform-template)'
