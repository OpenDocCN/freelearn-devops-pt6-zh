<html><head></head><body>
		<div id="_idContainer025">
			<h1 id="_idParaDest-16" class="chapter-number"><a id="_idTextAnchor018"/>1</h1>
			<h1 id="_idParaDest-17"><a id="_idTextAnchor019"/>Introducing Observability and the Grafana Stack</h1>
			<p>The modern computer systems we work with have moved from the realm of complicated into the realm of complex, where the number of interacting variables make them ultimately unknowable and uncontrollable. We are using the terms <em class="italic">complicated</em> and <em class="italic">complex</em> as per system theory. A complicated<a id="_idIndexMarker000"/> system, like an engine, has clear causal relationships between components. A<a id="_idIndexMarker001"/> complex system, such as the flowing of traffic in a city, shows emergent behavior from the interactions of <span class="No-Break">its components.</span></p>
			<p>With the average cost of downtime estimated to be $9,000 per minute by Ponemon Institute in 2016, this complexity can cause significant financial loss if organizations do not take steps to manage this risk. <strong class="bold">Observability</strong> offers a way to mitigate these risks, but making systems observable comes with its own <a id="_idIndexMarker002"/>financial risks if implemented poorly or without a clear <span class="No-Break">business goal.</span></p>
			<p>In this book, we will give you a good understanding of what observability is and who the customers who might use it are. We will explore how to use the tools available from Grafana Labs to gain visibility of your organization. These tools include Loki, Prometheus, Mimir, Tempo, Frontend Observability, Pyroscope, and k6. You will learn how to<a id="_idIndexMarker003"/> use <strong class="bold">Service Level Indicators</strong> (<strong class="bold">SLIs</strong>) and <strong class="bold">Service Level Objectives</strong> (<strong class="bold">SLOs</strong>) to obtain<a id="_idIndexMarker004"/> clear transparent signals of when a service is operating correctly, and how to use the Grafana <strong class="bold">incident response tools</strong> to<a id="_idIndexMarker005"/> handle incidents. Finally, you will learn about managing their observability platform using <strong class="bold">automation tools</strong> such as <a id="_idIndexMarker006"/>Ansible, Terraform, <span class="No-Break">and Helm.</span></p>
			<p>This chapter aims to introduce observability to all audiences, using examples outside of the computing world. We’ll introduce the types <a id="_idIndexMarker007"/>of <strong class="bold">telemetry</strong> used by observability tools, which will give you an overview of how to use them to quickly understand the state of your services. The<a id="_idIndexMarker008"/> various <strong class="bold">personas</strong> who might use observability systems will be outlined so that you can explore complex ideas later with a clear grounding on who will benefit from their correct implementation. Finally, we’ll investigate Grafana’s <strong class="bold">Loki, Grafana, Tempo, Mimir</strong> (<strong class="bold">LGTM</strong>) stack, how to deploy it, and what <span class="No-Break">alternatives </span><span class="No-Break"><a id="_idIndexMarker009"/></span><span class="No-Break">exist.</span></p>
			<p>In this chapter, we’re going to cover the following <span class="No-Break">main topics:</span></p>
			<ul>
				<li>Observability in <span class="No-Break">a nutshell</span></li>
				<li>Telemetry types <span class="No-Break">and technologies</span></li>
				<li>Understanding the customers <span class="No-Break">of observability</span></li>
				<li>Introducing the <span class="No-Break">Grafana stack</span></li>
				<li>Alternatives to the <span class="No-Break">Grafana stack</span></li>
				<li>Deploying the <span class="No-Break">Grafana stack</span></li>
			</ul>
			<h1 id="_idParaDest-18"><a id="_idTextAnchor020"/>Observability in a nutshell</h1>
			<p>The term <strong class="bold">observability</strong> is <a id="_idIndexMarker010"/>borrowed from control theory. It’s common to use the term interchangeably with the<a id="_idIndexMarker011"/> term <strong class="bold">monitoring</strong> in IT systems, as the concepts are closely related. Monitoring is the ability to raise an alarm when something is wrong, while observability is the ability to understand a system and determine whether something is wrong, <span class="No-Break">and why.</span></p>
			<p>Control theory<a id="_idIndexMarker012"/> was formalized in the late 1800s on the topic of centrifugal governors in steam engines. This diagram shows a simplified view of such <span class="No-Break">a system:</span></p>
			<div>
				<div id="_idContainer010" class="IMG---Figure">
					<img src="image/B18277_01_1.jpg" alt="Figure 1.1 – James Watt’s steam engine flyweight governor (source: https://www.mpoweruk.com)"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.1 – James Watt’s steam engine flyweight governor (source: https://www.mpoweruk.com)</p>
			<p>Steam engines use a boiler to boil water in a pressure vessel. The steam pushes a piston backward and forward, which converts heat energy to reciprocal energy. In steam engines that use centrifugal governors, this reciprocal energy is converted to rotational energy via a wheel connected to a piston. The centrifugal governor provides a physical link backward through the system to the throttle. This means that the speed of rotation controls the throttle, which, in turn, controls the speed of rotation. Physically, this is observed by the balls on the governor flying outward and dropping inward until the system <span class="No-Break">reaches equilibrium.</span></p>
			<p>Monitoring defines<a id="_idIndexMarker013"/> the metrics or events that are of interest in advance. For instance, the governor measures the pre-defined metric of drive shaft revolutions. The controllability of the throttle is then provided by the pivot and actuator rod assembly. Assuming the actuator rod is adjusted correctly, the governor should control the throttle from fully open to <span class="No-Break">fully closed.</span></p>
			<p>In contrast, observability <a id="_idIndexMarker014"/>is achieved by allowing the internal state of the system to be inferred from its external outputs. If the operating point adjustment is incorrectly set, the governor may spin too fast or too slowly, rendering the throttle control ineffective. A governor spinning too fast or too slowly could also indicate that the sliding ring is stuck in place and needs oiling. Importantly, this insight can be gained without defining in advance what too fast or too slow means. The insight that the governor is spinning too fast or too slowly also needs very little knowledge of the full <span class="No-Break">steam engine.</span></p>
			<p>Fundamentally, both monitoring and observability are used to improve the reliability and performance of the system <span class="No-Break">in question.</span></p>
			<p>Now that we have introduced the high-level concepts, let’s explore a practical example outside of the world of <span class="No-Break">software services.</span></p>
			<h2 id="_idParaDest-19"><a id="_idTextAnchor021"/>Case study – A ship passing through the Panama Canal</h2>
			<p>Let’s <a id="_idIndexMarker015"/>imagine a ship traversing the Agua Clara locks on the Panama Canal. This can be illustrated using the <span class="No-Break">following figure:</span></p>
			<div>
				<div id="_idContainer011" class="IMG---Figure">
					<img src="image/B18277_01_2.jpg" alt="Figure 1.2 – The Agua Clara locks on the Panama Canal"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.2 – The Agua Clara locks on the Panama Canal</p>
			<p>There are a few aspects of these locks that we might want <span class="No-Break">to monitor:</span></p>
			<ul>
				<li>The successful opening and closing of <span class="No-Break">each gate</span></li>
				<li>The water level inside <span class="No-Break">each lock</span></li>
				<li>How long it takes for a ship to traverse <span class="No-Break">the locks</span></li>
			</ul>
			<p>Monitoring<a id="_idIndexMarker016"/> these aspects may highlight situations that we need to be <span class="No-Break">alerted about:</span></p>
			<ul>
				<li>A gate is stuck open because of a <span class="No-Break">mechanical failure</span></li>
				<li>The water level is rapidly descending because of <span class="No-Break">a leak</span></li>
				<li>A ship is taking too long to exit the locks because it <span class="No-Break">is stuck</span></li>
			</ul>
			<p>There may be situations where the data we are monitoring are within acceptable limits, but we can still observe a deviation from what is considered <em class="italic">normal</em>, which should prompt <span class="No-Break">further action:</span></p>
			<ul>
				<li>A small leak has formed near the top of the <span class="No-Break">lock wall:</span><ul><li>We would see the water level drop but only when it is above <span class="No-Break">the leak</span></li><li>This could prompt maintenance work on the <span class="No-Break">lock wall</span></li></ul></li>
				<li>A gate in one lock is opening more slowly because it <span class="No-Break">needs maintenance:</span><ul><li>We would see the time between opening and closing the <span class="No-Break">gate increase</span></li><li>This could prompt maintenance on the <span class="No-Break">lock gate</span></li></ul></li>
				<li>Ships take longer to traverse the locks when the wind is coming from a <span class="No-Break">particular direction:</span><ul><li>We could compare hourly average <span class="No-Break">traversal rates</span></li><li>This<a id="_idIndexMarker017"/> could prompt work to reduce the impact of wind from <span class="No-Break">one direction</span></li></ul></li>
			</ul>
			<p>Now that we’ve seen an example of measuring a real-world system, we can group these types of measurements into different data types to best suit the application. Let’s introduce <span class="No-Break">those now.</span></p>
			<h1 id="_idParaDest-20"><a id="_idTextAnchor022"/>Telemetry types and technologies</h1>
			<p>The boring but important part of observability <a id="_idIndexMarker018"/>tools is <strong class="bold">telemetry</strong> – capturing data that is useful, shipping it from place to place, and producing visualizations, alerts, and reports that offer value to <span class="No-Break">the organization.</span></p>
			<p>Three main types of <a id="_idIndexMarker019"/>telemetry are used to build monitoring and observability systems – metrics, logs, and distributed traces. Other telemetry types may be used by some vendors and in particular circumstances. We will touch on these here, but they will be explored in more detail in <em class="italic">Chapters 12</em> and <em class="italic">13</em> of <span class="No-Break">this book.</span></p>
			<h2 id="_idParaDest-21"><a id="_idTextAnchor023"/>Metrics</h2>
			<p><strong class="bold">Metrics</strong> can be<a id="_idIndexMarker020"/> thought of as numeric data that is recorded at a point in time and enriched with labels or dimensions to enable analysis. Metrics are frequently generated and are easy to search, making them ideal for determining whether something is <a id="_idIndexMarker021"/>wrong or unusual. Let’s look at an example of metrics showing <span class="No-Break">temporal changes:</span></p>
			<div>
				<div id="_idContainer012" class="IMG---Figure">
					<img src="image/B18277_01_3.jpg" alt="Figure 1.3 – Metrics showing changes over time"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.3 – Metrics showing changes over time</p>
			<p>Taking our example of the Panama Canal, we could represent the <em class="italic">water level in each lock</em> as a metric, to be measured at regular intervals. To be able to use the data effectively, we might add some of <span class="No-Break">these labels:</span></p>
			<ul>
				<li><strong class="bold">The lock name</strong>: <span class="No-Break">Agua Clara</span></li>
				<li><strong class="bold">The lock chamber</strong>: <span class="No-Break">Lower lock</span></li>
				<li><strong class="bold">The canal</strong>: <span class="No-Break">Panama Canal</span></li>
			</ul>
			<h2 id="_idParaDest-22"><a id="_idTextAnchor024"/>Logs</h2>
			<p><strong class="bold">Logs</strong> are considered<a id="_idIndexMarker022"/> to be unstructured <a id="_idIndexMarker023"/>string data types. They are recorded at a point in time and usually contain a huge amount of information about what is happening. While logs can be structured, there is no guarantee of that structure persisting, because the log producer has control over the structure of the log. Let’s look at <span class="No-Break">an example:</span></p>
			<pre class="source-code">
Jun 26 2016 20:31:01 pc-ac-g1 gate-events no obstructions seen
Jun 26 2016 20:32:01 pc-ac-g1 gate-events starting motors
Jun 26 2016 20:32:30 pc-ac-g1 gate-events motors engaged successfully
Jun 26 2016 20:35:30 pc-ac-g1 gate-events stopping motors
Jun 26 2016 20:35:30 pc-ac-g1 gate-events gate open complete</pre>			<p>In our example, the various operations involved in opening or closing a lock gate could be represented <span class="No-Break">as </span><span class="No-Break"><a id="_idIndexMarker024"/></span><span class="No-Break">logs.</span></p>
			<p>Almost every system produces logs, and they often give very detailed information. This is great for understanding what happened. However, the volume of data presents <span class="No-Break">two problems:</span></p>
			<ul>
				<li>Searching <a id="_idIndexMarker025"/>can be inefficient <span class="No-Break">and slow.</span></li>
				<li>As the data is in text format, knowing what to search for can be difficult. For example, <strong class="source-inline">error occurred</strong>, <strong class="source-inline">process failed</strong>, and <strong class="source-inline">action did not complete successfully</strong> could all be used to describe a failure, but there are no shared strings to <span class="No-Break">search for.</span></li>
			</ul>
			<p>Let’s consider a real log entry from a computer system to see how log data is <span class="No-Break">usually represented:</span></p>
			<div>
				<div id="_idContainer013" class="IMG---Figure">
					<img src="image/B18277_01_4.jpg" alt="Figure 1.4 – Logs showing discrete events in time"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.4 – Logs showing discrete events in time</p>
			<p>We can clearly see that we have a number of <a id="_idIndexMarker026"/>fields that have been extracted from the log<a id="_idIndexMarker027"/> entry by the system. These fields detail where the log entry originated from, what time it occurred, and various <span class="No-Break">other items.</span></p>
			<h2 id="_idParaDest-23"><a id="_idTextAnchor025"/>Distributed traces</h2>
			<p><strong class="bold">Distributed traces</strong> show <a id="_idIndexMarker028"/>the end-to-end journey of an action. They are captured from every <a id="_idIndexMarker029"/>step that is taken to complete the action. Let’s imagine a trace that covers the passage of a ship through the lock system. We will be interested in the time a ship enters and leaves each lock, and we will want to be able to compare different ships using the system. A full passage can be given an identifier, usually called <a id="_idIndexMarker030"/>a <strong class="bold">trace ID</strong>. Traces are made up <a id="_idIndexMarker031"/>of <strong class="bold">spans</strong>. In our example, a span would cover the entry and exit for each individual lock. These spans are given a second identifier, called <a id="_idIndexMarker032"/>a <strong class="bold">span ID</strong>. To tie these two together, each span in a trace references the trace ID for the whole trace. The following screenshot shows an example of how a distributed trace is represented for a <span class="No-Break">computer application:</span></p>
			<div>
				<div id="_idContainer014" class="IMG---Figure">
					<img src="image/B18277_01_5.jpg" alt="Figure 1.5 – Traces showing the relationship of actions over time"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 1.5 – Traces showing the relationship of actions over time</p>
			<p>Now that we have introduced metrics, logs, and traces, let’s consider a more detailed example of a ship passing through the locks, and how each<a id="_idIndexMarker033"/> telemetry type would be produced in <span class="No-Break">this process:</span></p>
			<ol>
				<li>Ship enters the <span class="No-Break">first lock:</span><ul><li>Span <span class="No-Break">ID created</span></li><li>Trace <span class="No-Break">ID created</span></li><li>Contextual information is added to the span, for example, a <span class="No-Break">ship identification</span></li><li>Key events are recorded in the span with time stamps, for example, gates are opened <span class="No-Break">and closed</span></li></ul></li>
				<li>Ship exits the <span class="No-Break">first lock:</span><ul><li>Span closed and submitted to the <span class="No-Break">recording system</span></li><li>Second lock notified of trace ID and <span class="No-Break">span ID</span></li></ul></li>
				<li>Ship enters the <span class="No-Break">second lock:</span><ul><li>Span <span class="No-Break">ID created</span></li><li>Trace ID added <span class="No-Break">to span</span></li><li>Contextual information is added to <span class="No-Break">the span</span></li><li>Key events recorded in the span with <span class="No-Break">time stamps</span></li></ul></li>
				<li>Ship exits the <span class="No-Break">second lock:</span><ul><li>Span closed and submitted to the <span class="No-Break">recording system</span></li><li>Third lock notified of trace ID and <span class="No-Break">span ID</span></li></ul></li>
				<li>Ship enters the <span class="No-Break">third lock:</span><ul><li>Repeat <span class="No-Break"><em class="italic">step 3</em></span></li></ul></li>
				<li>Ship exits the <span class="No-Break">third lock:</span><ul><li>Span closed and submitted to the <span class="No-Break">recording system</span></li></ul></li>
			</ol>
			<p>Now let’s look at <a id="_idIndexMarker034"/>some other <span class="No-Break">telemetry types.</span></p>
			<h2 id="_idParaDest-24"><a id="_idTextAnchor026"/>Other telemetry types</h2>
			<p>Metrics, logs, and traces are often called the <em class="italic">three pillars</em> or the <em class="italic">golden triangle</em> of observability. As we outlined earlier, observability is the ability to understand a system. While metrics, logs, and traces give us a very good ability to understand a system, they are not the only signals we might need, as this depends at what abstraction layer we need to observe the system. For instance, when looking at a very detailed level, we may be very interested in the stack trace of an application’s activity at the CPU and RAM level. Conversely, if we are interested in the execution of a CI/CD pipeline, we may just be interested in whether a deployment occurred and <span class="No-Break">nothing more.</span></p>
			<p><strong class="bold">Profiling data</strong> (<strong class="bold">stack traces</strong>) can<a id="_idIndexMarker035"/> give us a<a id="_idIndexMarker036"/> very detailed technical view of the system’s use of resources such as <a id="_idIndexMarker037"/>CPU cycles or memory. With cloud services often charged per hour for these resources, this kind of detailed analysis can easily create <span class="No-Break">cost savings.</span></p>
			<p>Similarly, <strong class="bold">events</strong> can be<a id="_idIndexMarker038"/> consumed from a platform, such as CI/CD. These can offer a huge amount of insight that can reduce the <strong class="bold">Mean Time to Recovery</strong> (<strong class="bold">MTTR</strong>). Imagine <a id="_idIndexMarker039"/>responding to an out-of-hours alert and seeing that a new version of a service was deployed immediately before the issues started occurring. Even better, imagine not having to wake up because the deployment process could check for failures and roll back automatically. Events differ from logs only in that an event represents a whole action. In our earlier example in the <em class="italic">Logs</em> section, we created five logs, but all of these referred to stages of the same event (opening the lock gate). As a relatively generic term, <em class="italic">event</em> gets used with <span class="No-Break">other meanings.</span></p>
			<p>Now that we’ve introduced the fundamental concepts of the technology, let’s talk about the customers who will use <span class="No-Break">observability data.</span></p>
			<h1 id="_idParaDest-25"><a id="_idTextAnchor027"/>Introducing the user personas of observers</h1>
			<p>Observability<a id="_idIndexMarker040"/> deals with <a id="_idIndexMarker041"/>understanding a system, identifying whether something is wrong with that system, and understanding why it is wrong. But what do we mean by <em class="italic">understanding a system</em>? The simple answer would be <em class="italic">knowing the state of a single application or </em><span class="No-Break"><em class="italic">infrastructure component</em></span><span class="No-Break">.</span></p>
			<p>In this section, we will introduce the user personas that we will use throughout this book. These personas will help to distinguish the different types of questions that people use observability systems <span class="No-Break">to answer.</span></p>
			<p>Let’s take a quick look at the user personas that will be used throughout the book as examples, and <span class="No-Break">their roles:</span></p>
			<table id="table001-1" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style"/>
						<td class="No-Table-Style">
							<p><strong class="bold">Name </strong><span class="No-Break"><strong class="bold">and role</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Description</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><img src="image/B18277_01_6.png" alt="" role="presentation"/></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Diego Developer</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Frontend, backend, full stack, and <span class="No-Break">so on</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><img src="image/B18277_01_7.png" alt="" role="presentation"/></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Ophelia Operator</span></p>
						</td>
						<td class="No-Table-Style">
							<p>SRE, DevOps, DevSecOps, customer success, and <span class="No-Break">so on</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><img src="image/B18277_01_8.png" alt="" role="presentation"/></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Steven Service</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Service manager and <span class="No-Break">other tasks</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><img src="image/B18277_01_9.png" alt="" role="presentation"/></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Pelé Product</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Product manager, product owner, and <span class="No-Break">so on</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><img src="image/B18277_01_10.png" alt="A picture containing vector graphics&#10;&#10;Description automatically generated"/></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Masha Manager</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Manager, senior leadership, and <span class="No-Break">so on</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.1 – User persona introductions</p>
			<p>Now let’s look at each of these users in <span class="No-Break">greater detail.</span></p>
			<h2 id="_idParaDest-26"><a id="_idTextAnchor028"/>Diego Developer</h2>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="image/B18277_01_11.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p><em class="italic">Diego Developer</em> works <a id="_idIndexMarker042"/>on many types of systems, from frontend applications that<a id="_idIndexMarker043"/> customers directly interact with, to backend systems that let his organization store data in ways that delight its customers. You might even find him working on platforms that other developers use to get their applications integrated, built, delivered, and deployed safely <span class="No-Break">and speedily.</span></p>
			<h3>Goals</h3>
			<p>He writes great <a id="_idIndexMarker044"/>software that is well tested and addresses customers’ <span class="No-Break">actual needs.</span></p>
			<h3>Interactions</h3>
			<p>When he is not <a id="_idIndexMarker045"/>writing code, he works with <em class="italic">Ophelia Operator</em> to address any questions and issues <span class="No-Break">that occur.</span></p>
			<p><em class="italic">Pelé Product</em> works in his team and provides insight into the customer’s needs. They work together closely, taking those needs and turning them into detailed plans on how to deliver software that <span class="No-Break">addresses them.</span></p>
			<p><em class="italic">Steven Service</em> is keen to ensure that the changes Diego makes are not impacting customer commitments. He’s also the one who wakes Diego up if there is an incident that needs attention. The data provided to <em class="italic">Masha Manager</em> gives her a breakdown of costs. When Diego is<a id="_idIndexMarker046"/> working on developer platforms, he also collects data that helps her get investment from the business into teams that are not performing <span class="No-Break">as expected.</span></p>
			<h3>Needs</h3>
			<p>Diego really needs <a id="_idIndexMarker047"/>easy-to-use libraries for the languages he uses to instrument the code he produces. He does not have time to become an expert. He wants to be able to add a few lines of code and get <span class="No-Break">results quickly.</span></p>
			<p>Having a clear standard for acceptable performance measures makes it easy for him to get the <span class="No-Break">right results.</span></p>
			<h3>Pain points</h3>
			<p>When Diego’s <a id="_idIndexMarker048"/>systems produce too much data, he finds it <a id="_idIndexMarker049"/>difficult to sort signal from noise. He also gets frustrated having to change his code because of an upstream decision to <span class="No-Break">change tooling.</span></p>
			<h2 id="_idParaDest-27"><a id="_idTextAnchor029"/>Ophelia Operator</h2>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="image/B18277_01_12.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p><em class="italic">Ophelia Operator</em> works<a id="_idIndexMarker050"/> in an operations-focused environment. You might find <a id="_idIndexMarker051"/>her in a customer-facing role or as part of a development team as a DevOps engineer. She could be part of a group dedicated to the reliability of an organization’s systems, or she could be working in security or finance to ensure the business runs securely <span class="No-Break">and smoothly.</span></p>
			<h3>Goals</h3>
			<p>Ophelia<a id="_idIndexMarker052"/> wants to make sure a product is functioning as expected. She also likes it when she is not woken up early in the morning by <span class="No-Break">an incident.</span></p>
			<h3>Interactions</h3>
			<p>Ophelia <a id="_idIndexMarker053"/>will work a lot with <em class="italic">Diego Developer</em>; sometimes it’s escalating customer tickets when she doesn’t have the data available to understand the problem; at other times it’s developing runbooks to keep the systems running. Sometimes she will need to give Diego clear information on acceptable performance measures so that her team can make sure systems perform well <span class="No-Break">for customers.</span></p>
			<p><em class="italic">Steven Service</em> works closely with Ophelia. They work together to ensure there are not many incidents, and that they are quickly resolved. Steven makes sure that business data on changes and incidents is tracked, and tweaks processes when things <span class="No-Break">aren’t working.</span></p>
			<p><em class="italic">Pelé Product</em> likes to have data showing the problematic areas of <span class="No-Break">his products.</span></p>
			<h3>Needs</h3>
			<p>Good data is<a id="_idIndexMarker054"/> necessary to do the job effectively. Being able to see that a customer has encountered an error can make the difference between resolving a problem straight away or having them wait maybe weeks for <span class="No-Break">a response.</span></p>
			<p>During an incident seeing that a new version of a service was deployed at the time a problem started can change an hours-long incident into a brief blip, and keep <span class="No-Break">customers happy.</span></p>
			<h3>Pain points</h3>
			<p>Getting continuous<a id="_idIndexMarker055"/> alerts but not being empowered to fix the underlying issue is a big problem. Ophelia has seen colleagues burn out, and it makes her<a id="_idIndexMarker056"/> want to leave the organization when <span class="No-Break">this happens.</span></p>
			<h2 id="_idParaDest-28"><a id="_idTextAnchor030"/>Steven Service</h2>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="image/B18277_01_13.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p><em class="italic">Steven Service</em> works <a id="_idIndexMarker057"/>in service delivery. He is interested in making sure the organization’s <a id="_idIndexMarker058"/>services are delivered smoothly. Jumping in on critical incidents and coordinating actions to get them resolved as quickly as possible is part of the job. So is ensuring that changes are made using processes that help others do it as safely as possible. Steven also works with third parties who provide services that are critical to the running of <span class="No-Break">the organization.</span></p>
			<h3>Goals</h3>
			<p>He wants <a id="_idIndexMarker059"/>services to run as smoothly as possible so that the organization can spend more time focused <span class="No-Break">on customers.</span></p>
			<h3>Interactions</h3>
			<p><em class="italic">Diego Developer</em> and <em class="italic">Ophelia Operator</em> work a lot with the change management processes created by <em class="italic">Steven</em> and the support processes he manages. Having accurate data to hand during <a id="_idIndexMarker060"/>change management really helps to make the process as smooth <span class="No-Break">as possible.</span></p>
			<p>Steven works very closely with <em class="italic">Masha Manager</em> to make sure she has access to data showing where processes are working smoothly and where they need to spend time <span class="No-Break">improving them.</span></p>
			<h3>Needs</h3>
			<p>He needs to be <a id="_idIndexMarker061"/>able to compare the delivery of different products and provide that data to <em class="italic">Masha</em> and <span class="No-Break">the business.</span></p>
			<p>During incidents, he needs to be able to get the right people on the call as quickly as possible and keep a record of what happened for the <span class="No-Break">incident post-mortem.</span></p>
			<h3>Pain points</h3>
			<p>Being able to identify <a id="_idIndexMarker062"/>the right person to get on a call during an incident is a common problem he faces. Seeing incidents drag on while different systems are compared and who can fix the problem is argued about is also a big concern <span class="No-Break">to </span><span class="No-Break"><a id="_idIndexMarker063"/></span><span class="No-Break">him.</span></p>
			<h2 id="_idParaDest-29"><a id="_idTextAnchor031"/>Pelé Product</h2>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="image/B18277_01_14.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p><em class="italic">Pelé Product</em> works in the <a id="_idIndexMarker064"/>product team. You’ll find him working with customers to understand <a id="_idIndexMarker065"/>their needs, keeping product roadmaps in order, and communicating requirements back to developers such as <em class="italic">Diego Developer</em> so they can build them. You might also find him understanding and shaping the product backlog for the internal platforms used by developers in <span class="No-Break">the organization.</span></p>
			<h3>Goal</h3>
			<p>Pelé <a id="_idIndexMarker066"/>wants to understand customers, give them products that delight them, and keep them <span class="No-Break">coming back.</span></p>
			<h3>Interactions</h3>
			<p>He spends a lot of time<a id="_idIndexMarker067"/> working with <em class="italic">Diego</em> when they can look at the same information to really understand what customers are doing and how they can help them do <span class="No-Break">it better.</span></p>
			<p><em class="italic">Ophelia Operator</em> and <em class="italic">Steven Service</em> help <em class="italic">Pelé</em> keep products on track. If too many incidents occur, they ask everyone to refocus on getting stability right. There is no point in providing customers with lots of features on a system that they <span class="No-Break">can’t trust.</span></p>
			<p><em class="italic">Pelé</em> works closely with <em class="italic">Masha Manager</em> to ensure the organization has the right skills in the teams that build products. The business depends on her leadership to make sure that these developers have the best tools to help them get their code live in front of customers where it can <span class="No-Break">be used.</span></p>
			<h3>Needs</h3>
			<p><em class="italic">Pelé</em> needs to be able <a id="_idIndexMarker068"/>to understand customers’ pain points even when they do not articulate them clearly during <span class="No-Break">user research.</span></p>
			<p>He needs data that gives him a common language with <em class="italic">Diego</em> and <em class="italic">Ophelia</em>. Sometimes they can get too focused on specific numbers such as shaving off a couple of milliseconds from a request, when improving a poor workflow would improve the customer experience <span class="No-Break">more significantly.</span></p>
			<h3>Pain points</h3>
			<p><em class="italic">Pelé</em> hates not being able to<a id="_idIndexMarker069"/> see at a high level what customers are doing. Understanding which bits of an application have the most usage, and which bits are not used at all, lets him know where to focus time <span class="No-Break">and resources.</span></p>
			<p>While customers never tell him <a id="_idIndexMarker070"/>they want stability, if it’s not there they will lose trust very quickly and start to look <span class="No-Break">at alternatives.</span></p>
			<h2 id="_idParaDest-30"><a id="_idTextAnchor032"/>Masha Manager</h2>
			<div>
				<div id="_idContainer024" class="IMG---Figure">
					<img src="image/B18277_01_15.jpg" alt="" role="presentation"/>
				</div>
			</div>
			<p><em class="italic">Masha</em> works in<a id="_idIndexMarker071"/> management. You might find her leading a team and working closely with them daily. She<a id="_idIndexMarker072"/> also represents middle management, setting strategy and making tactical choices, and she is involved, to some extent, in senior leadership. Much of her role involves managing budgets and people. If something can make that process easier, then she is usually interested in hearing about it. What <em class="italic">Masha</em> does not want to do is waste the organization’s money, because that can directly <span class="No-Break">impact jobs.</span></p>
			<h3>Goals</h3>
			<p>Her primary goals<a id="_idIndexMarker073"/> are to keep the organization running smoothly and ensure the budget <span class="No-Break">is balanced.</span></p>
			<h3>Interactions</h3>
			<p>As a leader, <em class="italic">Masha</em> needs<a id="_idIndexMarker074"/> accurate data and needs to be able to trust the teams who provide that data. The data could be the end-to-end cycle time of feature concept to delivery from <em class="italic">Pelé Product</em>, the lead time for changes from <em class="italic">Diego Developer</em>, or even the MTTR from <em class="italic">Steven Service</em>. Having that data helps her to understand where focus and resources can have the <span class="No-Break">biggest impact.</span></p>
			<p><em class="italic">Masha</em> works regularly with the financial operations staff and needs to make sure they have accurate information on the organization’s expenditure and the value that <span class="No-Break">expenditure provides.</span></p>
			<h3>Needs</h3>
			<p>She needs<a id="_idIndexMarker075"/> good data in a place where she can view it and make good decisions. This usually means she consumes information from a business intelligence system. To use such tools effectively, she needs to be clear on what the organization’s goals are, so that the correct data can be collected to help her understand how her teams are tracking to <span class="No-Break">that goal.</span></p>
			<p>She also needs to know that the teams she is responsible for have the correct data and tools to excel in their <span class="No-Break">given areas.</span></p>
			<h3>Pain points</h3>
			<p>High failure rates and long<a id="_idIndexMarker076"/> recovery time usually result in her having to speak with customers to apologize. <em class="italic">Masha</em> really hates <span class="No-Break">these calls!</span></p>
			<p>Poor visibility of cloud systems is a particular concern. <em class="italic">Masha</em> has too many horror stories of huge overspending caused by a lack of monitoring; she would rather spend that budget on something <a id="_idIndexMarker077"/><span class="No-Break">more useful.</span></p>
			<p>You now know about the customers who use observability data, and the types of data you will be using to meet their needs. As the main focus of this book is on Grafana as the underlying technology, let’s now introduce the tools that make up the <span class="No-Break">Grafana stack.</span></p>
			<h1 id="_idParaDest-31"><a id="_idTextAnchor033"/>Introducing the Grafana stack</h1>
			<p>Grafana<a id="_idIndexMarker078"/> was born in 2013 when a developer was looking for a new user interface to display metrics from Graphite. Initially forked from Kibana, the Grafana project was developed to make it easy to build quick, interactive dashboards that were valuable to organizations. In 2014, <strong class="bold">Grafana Labs</strong> was <a id="_idIndexMarker079"/>formed with the core value of building a sustainable business with a strong commitment to open source projects. From that foundation, Grafana has grown into a strong company supporting more than 1 million active installations. Grafana Labs is a huge contributor to open source projects, from their own tools to widely adopted technologies such as Prometheus, and recent initiatives with a lot of traction such <span class="No-Break">as OpenTelemetry.</span></p>
			<p>Grafana offers many tools, which we’ve grouped into the <span class="No-Break">following categories:</span></p>
			<ul>
				<li>The core Grafana <a id="_idIndexMarker080"/>stack: <strong class="bold">LGTM</strong> and<a id="_idIndexMarker081"/> the <span class="No-Break"><strong class="bold">Grafana Agent</strong></span></li>
				<li>Grafana <span class="No-Break">enterprise plugins</span></li>
				<li>Incident <span class="No-Break">response tools</span></li>
				<li>Other <span class="No-Break">Grafana tools</span></li>
			</ul>
			<p>Let’s explore these tools in the <span class="No-Break">following sections.</span></p>
			<h2 id="_idParaDest-32"><a id="_idTextAnchor034"/>The core Grafana stack</h2>
			<p>The core Grafana stack<a id="_idIndexMarker082"/> consists of Mimir, Loki, Tempo, and Grafana; the acronym LGTM is often used to refer to this <span class="No-Break">tech stack.</span></p>
			<h3>Mimir</h3>
			<p><strong class="bold">Mimir</strong> is a <strong class="bold">Time Series Database</strong> (<strong class="bold">TSDB</strong>) for <a id="_idIndexMarker083"/>the storage of metric data. It uses low-cost object <a id="_idIndexMarker084"/>storage such as S3, GCS, or Azure Blob <a id="_idIndexMarker085"/>Storage. First announced for general availability in March 2022, Mimir is the newest of the four products we’ll discuss here, although it’s worth highlighting that Mimir initially forked from another project, Cortex, which was started in 2016. Parts of Cortex also form the core of Loki <span class="No-Break">and Tempo.</span></p>
			<p>Mimir is a fully Prometheus-compatible solution that addresses the common scalability problems encountered with storing and searching huge quantities of metric data. In 2021 Mimir was load tested to 1 billion active time series. An active time series is a metric with a value and unique labels that has reported a sample in the last 20 minutes. We will explore Mimir and Prometheus in much greater detail in <a href="B18277_05.xhtml#_idTextAnchor106"><span class="No-Break"><em class="italic">Chapter 5</em></span></a><span class="No-Break">.</span></p>
			<h3>Loki</h3>
			<p><strong class="bold">Loki</strong> is a set<a id="_idIndexMarker086"/> of components that offer a full feature logging stack. Loki uses lower-cost object storage such as S3 or GCS, and only indexes label metadata. Loki entered general <a id="_idIndexMarker087"/>availability in <span class="No-Break">November 2019.</span></p>
			<p>Log aggregation tools typically use two data structures to store log data. An index that contains references to the location of the raw data paired with searchable metadata, and the raw data itself stored in a compressed form. Loki differs from a lot of other log aggregation tools by keeping the index data relatively small and scaling the search functionality by using horizontal scaling of the querying component. The process of selecting the best index fields is one we will cover in <a href="B18277_04.xhtml#_idTextAnchor092"><span class="No-Break"><em class="italic">Chapter 4</em></span></a><span class="No-Break">.</span></p>
			<h3>Tempo</h3>
			<p><strong class="bold">Tempo</strong> is a<a id="_idIndexMarker088"/> storage backend for high-scale distributed trace telemetry, with the aim of sampling 100% of the read path. Like Loki and Mimir, it leverages lower-cost object storage such as <a id="_idIndexMarker089"/>S3, GCS, or Azure Blob Storage. Tempo went into general availability in <span class="No-Break">June 2021.</span></p>
			<p>When Tempo released 1.0, it was tested at a sustained ingestion of &gt;2 million spans per second (about 350 MB per second). Tempo also offers the ability to generate metrics from spans as they are ingested; these metrics can be written to any backend that supports Prometheus remote write. Tempo is explored in detail in <a href="B18277_06.xhtml#_idTextAnchor134"><span class="No-Break"><em class="italic">Chapter 6</em></span></a><span class="No-Break">.</span></p>
			<h3>Grafana</h3>
			<p><strong class="bold">Grafana</strong> has been<a id="_idIndexMarker090"/> a <a id="_idIndexMarker091"/>staple for fantastic visualization of data since 2014. It has targeted the ability to connect to a huge variety of data sources from TSDBs to relational databases and even other observability tools. Grafana has over 150 data source plugins available. Grafana has a huge community using it for many different purposes. This community supports over 6,000 dashboards, which means there is a starting place for most available technologies with minimal time <span class="No-Break">to value.</span></p>
			<h3>Grafana Agent</h3>
			<p>Collecting telemetry from many <a id="_idIndexMarker092"/>places is one of the fundamental aspects of observability. <strong class="bold">Grafana Agent</strong> is a<a id="_idIndexMarker093"/> collection of tools for collecting logs, metrics, and traces. There are many other collection tools that Grafana integrates well with. Different collection tools offer different advantages and disadvantages, which is not a topic we will explore in this book. We will highlight other tools in the space later in this chapter and in <a href="B18277_02.xhtml#_idTextAnchor043"><span class="No-Break"><em class="italic">Chapter 2</em></span></a> to give you a starting point for learning more about this topic. We will also briefly discuss architecting a collection infrastructure in <a href="B18277_11.xhtml#_idTextAnchor218"><span class="No-Break"><em class="italic">Chapter 11</em></span></a><span class="No-Break">.</span></p>
			<p>The Grafana stack is a fantastic group of open source software for observability. The commitment of Grafana Labs to open source is supported by great enterprise plugins. Let’s explore <span class="No-Break">them now.</span></p>
			<h2 id="_idParaDest-33"><a id="_idTextAnchor035"/>Grafana Enterprise plugins</h2>
			<p>As<a id="_idIndexMarker094"/> part of their Cloud Pro, Cloud Advanced, and Enterprise license offerings, Grafana offers Enterprise plugins. These are part of any paid subscription <span class="No-Break">to Grafana.</span></p>
			<p>The Enterprise data source plugins allow organizations to read data from many other storage tools they may use, from software development tools such <a id="_idIndexMarker095"/>as <strong class="bold">GitLab</strong> and <strong class="bold">Azure DevOps</strong> to <a id="_idIndexMarker096"/>business intelligence tools such as <strong class="bold">Snowflake</strong>, <strong class="bold">Databricks</strong>, and <strong class="bold">Looker</strong>. Grafana also offers tools to read data from many other<a id="_idIndexMarker097"/> observability <a id="_idIndexMarker098"/>tools, which enables organizations to build comprehensive <a id="_idIndexMarker099"/>operational coverage while offering individual teams a choice of the tools <span class="No-Break">they use.</span></p>
			<p>Alongside the data source plugins, Grafana offers premium tools for logs, metrics, and traces. These include access policies and tokens for log data to secure sensitive information, in-depth health monitoring for the ingest and storage of cloud stacks, and management <span class="No-Break">of tenants.</span></p>
			<h2 id="_idParaDest-34"><a id="_idTextAnchor036"/>Grafana incident response and management</h2>
			<p>Grafana offers three products in <a id="_idIndexMarker100"/>the <strong class="bold">incident response and management</strong> (<span class="No-Break"><strong class="bold">IRM</strong></span><span class="No-Break">) space:</span></p>
			<ul>
				<li>At the foundation of IRM are <strong class="bold">alerting rules</strong>, which<a id="_idIndexMarker101"/> can notify via messaging apps, email, or <span class="No-Break">Grafana OnCall</span></li>
				<li><strong class="bold">Grafana OnCall</strong> offers <a id="_idIndexMarker102"/>an on-call schedule management system that centralizes alert grouping and <span class="No-Break">escalation routing</span></li>
				<li>Finally, <strong class="bold">Grafana Incident</strong> offers a <a id="_idIndexMarker103"/>chatbot functionality that can set up necessary incident spaces, collect timelines for a post-incident review process, and even manage the incident directly from a <span class="No-Break">messaging service</span></li>
			</ul>
			<p>These tools are covered in more detail in <a href="B18277_09.xhtml#_idTextAnchor183"><span class="No-Break"><em class="italic">Chapter 9</em></span></a>. Now let’s take a look at some other important <span class="No-Break">Grafana tools.</span></p>
			<h2 id="_idParaDest-35"><a id="_idTextAnchor037"/>Other Grafana tools</h2>
			<p>Grafana Labs<a id="_idIndexMarker104"/> continues <a id="_idIndexMarker105"/>to be a leader in observability and has acquired several companies in this space to release new products that complement the tools we’ve already discussed. Let’s discuss some of these <span class="No-Break">tools now.</span></p>
			<h3>Faro</h3>
			<p><strong class="bold">Grafana Faro</strong> is a<a id="_idIndexMarker106"/> JavaScript <a id="_idIndexMarker107"/>agent that can be added to frontend web applications. The project allows for <strong class="bold">real user monitoring</strong> (<strong class="bold">RUM</strong>) by collecting telemetry from a browser. By adding RUM into an environment where backend applications and infrastructure are instrumented, observers gain the ability to traverse data from the full application stack. Faro supports the collection of the five core web vitals out of the box, as well as several other signals of interest. Faro entered general availability in November 2022. We cover Faro in more detail in <a href="B18277_12.xhtml#_idTextAnchor231"><span class="No-Break"><em class="italic">Chapter 12</em></span></a><span class="No-Break">.</span></p>
			<h3>k6</h3>
			<p><strong class="bold">k6</strong> is a <a id="_idIndexMarker108"/>load testing<a id="_idIndexMarker109"/> tool that provides both a packaged tool to run in your own infrastructure and a<a id="_idIndexMarker110"/> cloud <strong class="bold">Software as a Service</strong> (<strong class="bold">SaaS</strong>) offering. Load testing, especially as part of a CI/CD pipeline, really enables teams to see how their application will perform under load, and evaluate optimizations and refactoring. Paired with other detailed analysis tools such as Pyroscope, the level of visibility and accessibility to non-technical members of the team can be astounding. The project started back in 2016 and was acquired by Grafana Labs in June 2021. The goal of k6 is to make performance testing easy and repeatable. We’ll explore k6 in <a href="B18277_13.xhtml#_idTextAnchor239"><span class="No-Break"><em class="italic">Chapter 13</em></span></a><span class="No-Break">.</span></p>
			<h3>Pyroscope</h3>
			<p><strong class="bold">Pyroscope</strong> is a<a id="_idIndexMarker111"/> recent acquisition<a id="_idIndexMarker112"/> of Grafana Labs, joining in March 2023. Pyroscope is a tool that enable teams to engage in the continuous profiling of system resource use by applications (CPU, memory, etc.). Pyroscope advertises that with a minimal overhead of ~2-5% of performance, they can collect samples as frequently as every 10 seconds. <strong class="bold">Phlare</strong> is a <a id="_idIndexMarker113"/>Grafana Labs project started in 2022, and the two projects have now merged. We discuss Pyroscope in more detail in <a href="B18277_13.xhtml#_idTextAnchor239"><span class="No-Break"><em class="italic">Chapter 13</em></span></a><span class="No-Break">.</span></p>
			<p>Now that you know the different tools available from Grafana Labs, let’s look at some alternatives that <span class="No-Break">are available.</span></p>
			<h1 id="_idParaDest-36"><a id="_idTextAnchor038"/>Alternatives to the Grafana stack</h1>
			<p>The monitoring and observability space is packed with <a id="_idIndexMarker114"/>different open and closed source solutions such as <strong class="source-inline">ps</strong> and <strong class="source-inline">top</strong> going back to the 70s and 80s. We will not attempt to list every tool here; we aim to offer a source of inspiration for people who are curious and want to explore, or who need a quick reference of the available tools (as the authors have on a <span class="No-Break">few occasions).</span></p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor039"/>Data collection</h2>
			<p>These are agent tools that can be used to<a id="_idIndexMarker115"/> collect telemetry from <span class="No-Break">the source:</span></p>
			<table id="table002" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Tool Name</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Telemetry Types</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">OpenTelemetry Collector</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Metrics, <span class="No-Break">logs, traces</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">FluentBit</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Metrics, <span class="No-Break">logs, traces</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Vector</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Metrics, <span class="No-Break">logs, traces</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Vendor-specific agents</span></p>
							<p>(See the <em class="italic">Data storage, processing, and visualization</em> section for an <span class="No-Break">expanded list)</span></p>
						</td>
						<td class="No-Table-Style">
							<p>Metrics, <span class="No-Break">logs, traces</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Beats family</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics, logs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Prometheus</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Telegraf</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">StatsD</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Collectd</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Carbon</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Metrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Syslog-ng</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Rsyslog</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Fluentd</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Flume</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logs</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Zipkin Collector</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Traces</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.2 – Data collection tools</p>
			<p>Data collection<a id="_idIndexMarker116"/> is only one piece of the extract transform and load process for observability data. The next section introduces tools to transform and <span class="No-Break">load data.</span></p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor040"/>Data storage, processing, and visualization</h2>
			<p>We’ve grouped data <a id="_idIndexMarker117"/>processing, storage, and visualization together, as there are often a lot of crossovers among them. There are certain tools that also provide <strong class="bold">security monitoring</strong> and are closely related. However, as this topic is outside of the scope of this book, we have chosen to exclude tools that are solely in the <span class="No-Break">security space.</span></p>
			<table id="table003" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Tool Name</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Tool Name</strong></span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break"><strong class="bold">Tool Name</strong></span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">AppDynamics</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">InfluxDB</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Sematext</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Aspecto</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Instana</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Sensu</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>AWS CloudWatch &amp; <span class="No-Break">CloudTrail</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Jaeger</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Sentry</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>Azure <span class="No-Break">Application insights</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Kibana</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Serverless360</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Centreon</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Lightstep</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">SigNoz</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">ClickHouse</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Loggly</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">SkyWalking</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Coralogix</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">LogicMonitor</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Solarwinds</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Cortex</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logtail</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Sonic</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Cyclotron</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Logz.io</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Splunk</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Datadog</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Mezmo</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Sumo Logic</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Dynatrace</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Nagios</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">TelemetryHub</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Elastic</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">NetData</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Teletrace</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p>GCP Cloud <span class="No-Break">Operations Suite</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">New Relic</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Thanos</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Grafana Labs</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">OpenSearch</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Uptrace</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Graphite</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">OpenTSDB</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">VictoriaMetrics</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Graylog</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Prometheus</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Zabbix</span></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><span class="No-Break">Honeycomb</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Scalyr</span></p>
						</td>
						<td class="No-Table-Style">
							<p><span class="No-Break">Zipkin</span></p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 1.3 – Data storage processing and visualization tools</p>
			<p>With a<a id="_idIndexMarker118"/> good understanding of the tools available in this space, let’s now look at the ways we can deploy the tools offered <span class="No-Break">by Grafana.</span></p>
			<h1 id="_idParaDest-39"><a id="_idTextAnchor041"/>Deploying the Grafana stack</h1>
			<p>Grafana Labs<a id="_idIndexMarker119"/> fully embraces<a id="_idIndexMarker120"/> its history as an open source software provider. The LGTM stack, alongside most other components, is open source. There are a few value-added components that are offered as part of an <span class="No-Break">enterprise subscription.</span></p>
			<p>As a SaaS offering, Grafana Labs<a id="_idIndexMarker121"/> provides access to storage for Loki, Mimir, and Tempo, alongside Grafana’s 100+ integrations for external data sources. As a SaaS customer, you also gain ready access to a huge range of other tools you may use and can present them in a consolidated manner, in a single pane of glass. The SaaS offering allows organizations to leverage a full-featured observability platform without the operational overhead of running the platform and obtaining service level agreements for the operation of <span class="No-Break">the platform.</span></p>
			<p>As well as managing the<a id="_idIndexMarker122"/> platform for you, you can run Grafana on your organization’s infrastructure. Grafana offers its software packaged in several formats for Linux and Windows deployments, as well as offering containerized versions. Grafana also offers Helm and Tanka configuration wrappers for each of their tools. This book will mainly concentrate on the SaaS offering because it is easy to get started with the free tier. We will explore some areas where a local installation can assist in <em class="italic">Chapters 11 </em>and<em class="italic"> 14</em>, which cover architecting and supporting DevOps <span class="No-Break">processes respectively.</span></p>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor042"/>Summary</h1>
			<p>In this chapter, you have been introduced to monitoring and observability, how they are similar, and how they differ. The Agua Clara locks on the Panama Canal acted as a simplified example of the concepts of observability in practice. The key takeaway should be to understand that even when a system produces alerts for significant problems, the same data can be used to observe and investigate other <span class="No-Break">potential problems.</span></p>
			<p>We also talked about the customers who might use observability systems. These customers will be referenced throughout this book when we explore a concept and how to target <span class="No-Break">its implementation.</span></p>
			<p>Finally, we introduced the full Grafana Labs stack, and you should now have a good understanding of the different purposes that each <span class="No-Break">product serves.</span></p>
			<p>In the next chapter, we will introduce the basics of adding instrumentation to applications or infrastructure components for readers whose roles are similar to those of Diego <span class="No-Break">and Ophelia.</span></p>
		</div>
	</body></html>