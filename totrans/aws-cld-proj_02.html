<html><head></head><body>
		<div id="_idContainer024">
			<h1 id="_idParaDest-33" class="chapter-number"><a id="_idTextAnchor032"/><st c="0">2</st></h1>
			<h1 id="_idParaDest-34"><a id="_idTextAnchor033"/><st c="2">Creating a Personal Website</st></h1>
			<p><st c="29">This is the beginning of your hands-on experience. </st><st c="81">Over the next chapters, you’ll immerse yourself in various scenarios. </st><st c="151">In this first practical chapter, you are going to navigate through a scenario of building a personal website for your CV from a list of requirements. </st><st c="301">With those requirements in mind, you are going to be guided through the methodology presented in </st><a href="B22051_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="398">Chapter 1</st></em></span></a><st c="407"> and architect a solution using AWS services such as S3 for storage and CloudFront </st><span class="No-Break"><st c="490">for serving.</st></span></p>
			<p><st c="502">After that, you are going to build this architecture using the </st><span class="No-Break"><st c="566">AWS Console.</st></span></p>
			<p><st c="578">In summary, this chapter covers the following main topics </st><span class="No-Break"><st c="637">in order:</st></span></p>
			<ul>
				<li><st c="646">What you are going to build – a </st><span class="No-Break"><st c="679">personal website</st></span></li>
				<li><st c="695">How you are going to build it – using S3 </st><span class="No-Break"><st c="737">and CloudFront</st></span></li>
				<li><st c="751">Actually building it – using the </st><span class="No-Break"><st c="785">AWS Console</st></span></li>
				<li><st c="796">How to improve the solution – security </st><span class="No-Break"><st c="836">and DNS</st></span></li>
			</ul>
			<p><st c="843">By the end of this chapter, you will be able to confidently create and host your own static websites in AWS. </st><st c="953">This is a precursor to more advanced web applications that you will see in the </st><span class="No-Break"><st c="1032">following chapters.</st></span></p>
			<h1 id="_idParaDest-35"><a id="_idTextAnchor034"/><st c="1051">Technical requirements</st></h1>
			<p><st c="1074">In order to create your own personal website, you will need access to an </st><span class="No-Break"><st c="1148">AWS account.</st></span></p>
			<p><st c="1160">This chapter has a dedicated folder in the GitHub repository of this book. </st><st c="1236">There, you will find the code snippets required to follow </st><span class="No-Break"><st c="1294">along: </st></span><a href="https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter2/code"><span class="No-Break"><st c="1301">https://github.com/PacktPublishing/AWS-Cloud-Projects/tree/main/chapter2/code</st></span></a><span class="No-Break"><st c="1378">.</st></span></p>
			<h1 id="_idParaDest-36"><a id="_idTextAnchor035"/><st c="1379">Scenario</st></h1>
			<p><st c="1388">Imagine you’re a recent graduate or a</st><a id="_idIndexMarker055"/><st c="1426"> professional looking to showcase your skills, experience, and accomplishments to potential employers or clients. </st><st c="1540">You want to create an online presence that is easily accessible and professional-looking, where you can share your CV </st><span class="No-Break"><st c="1658">or resume.</st></span></p>
			<p><st c="1668">What better way to do this than to host your own </st><span class="No-Break"><st c="1718">personal website?</st></span></p>
			<h2 id="_idParaDest-37"><a id="_idTextAnchor036"/><st c="1735">Requirements</st></h2>
			<p><st c="1748">Recall that in </st><a href="B22051_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="1764">Chapter 1</st></em></span></a><st c="1773">, gathering </st><a id="_idIndexMarker056"/><st c="1785">requirements was the first step to architect in AWS. </st><st c="1838">No matter how simple or complicated your scenario is, it’s good practice to lay down the requirements on paper. </st><st c="1950">It may sound silly, but spending time describing what you need, and how you will build it, will help you in the </st><span class="No-Break"><st c="2062">long run.</st></span></p>
			<p><st c="2071">In this specific case, you want to build something simple. </st><st c="2131">You want a website that provides a good user experience. </st><st c="2188">You don’t want a recruiter to see the page loading slowly, making them just move on to the next candidate. </st><st c="2295">Likewise, you don’t want a recruiter to try to access your website while it’s down. </st><st c="2379">To avoid this, you need to know what kind of experience your users </st><span class="No-Break"><st c="2446">are having.</st></span></p>
			<p><st c="2457">CVs change often. </st><st c="2476">You might pick up a new skill, change jobs, or otherwise affect your CV. </st><st c="2549">Due to this, you’ll want to have an easy mechanism to update the website. </st><st c="2623">Lastly, as this is a personal project, you must keep costs as low </st><span class="No-Break"><st c="2689">as possible.</st></span></p>
			<p><st c="2701">All of these factors can be translated into functional and </st><span class="No-Break"><st c="2761">non-functional requirements.</st></span></p>
			<h3><st c="2789">Functional requirements</st></h3>
			<p><st c="2813">Functional requirements</st><a id="_idIndexMarker057"/><st c="2837"> define the specific features, functionalities, and capabilities that the solution must provide. </st><st c="2934">In this case, those are </st><span class="No-Break"><st c="2958">as follows:</st></span></p>
			<ul>
				<li><st c="2969">Ability to create, edit, and update the content of the CV, including sections for personal information, education, work experience, skills, </st><span class="No-Break"><st c="3110">and projects</st></span></li>
				<li><st c="3122">Support for non-text content such </st><span class="No-Break"><st c="3157">as images</st></span></li>
				<li><st c="3166">Accessible on any browser over </st><span class="No-Break"><st c="3198">the internet</st></span></li>
				<li><st c="3210">Ability to </st><a id="_idIndexMarker058"/><st c="3222">generate insights based on </st><span class="No-Break"><st c="3249">website data</st></span></li>
			</ul>
			<h3><st c="3261">Non-functional requirements</st></h3>
			<p><st c="3289">Non-functional requirements define the</st><a id="_idIndexMarker059"/><st c="3328"> qualitative attributes that the solution must provide. </st><st c="3384">In this case, those are </st><span class="No-Break"><st c="3408">as follows:</st></span></p>
			<ul>
				<li><st c="3419">Low latency – fast page </st><span class="No-Break"><st c="3444">load times</st></span></li>
				<li><st c="3454">High availability – available </st><span class="No-Break"><st c="3485">when accessed</st></span></li>
				<li><st c="3498">Ease of maintainability – easy process to update, and patch </st><span class="No-Break"><st c="3559">the website</st></span></li>
				<li><st c="3570">Low cost – cheap </st><span class="No-Break"><st c="3588">pay-as-you-go services</st></span></li>
			</ul>
			<p><st c="3610">Now, you have the requirements for the personal website. </st><st c="3668">In keeping with the </st><a href="B22051_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="3688">Chapter 1</st></em></span></a><st c="3697"> methodology, you must now check for known </st><span class="No-Break"><st c="3740">well-accepted patterns.</st></span></p>
			<h2 id="_idParaDest-38"><a id="_idTextAnchor037"/><st c="3763">Architecture patterns</st></h2>
			<p><st c="3785">A simple search in </st><a id="_idIndexMarker060"/><st c="3805">AWS Architecture Center (</st><a href="https://aws.amazon.com/architecture/"><st c="3830">https://aws.amazon.com/architecture/</st></a><st c="3867">) does not yield any</st><a id="_idIndexMarker061"/><st c="3888"> reference architecture diagrams or sample code. </st><st c="3937">However, it returns a YouTube series with an episode named </st><em class="italic"><st c="3996">Back to Basics: Hosting a Static Website on </st></em><span class="No-Break"><em class="italic"><st c="4040">AWS</st></em></span><span class="No-Break"><st c="4043"> (</st></span><a href="https://www.youtube.com/watch?v=N0nhkyhaqyw&amp;ab_channel=AmazonWebServices"><span class="No-Break"><st c="4045">https://www.youtube.com/watch?v=N0nhkyhaqyw&amp;ab_channel=AmazonWebServices</st></span></a><span class="No-Break"><st c="4117">).</st></span></p>
			<p><st c="4120">Watch it; this is a good </st><span class="No-Break"><st c="4146">starting point.</st></span></p>
			<p><st c="4161">Outside the context of the AWS cloud, it is important to understand what a static website is. </st><st c="4256">A </st><strong class="bold"><st c="4258">static website</st></strong><st c="4272"> is a </st><a id="_idIndexMarker062"/><st c="4278">type of website where the content is pre-built and served to users as static files, typically HTML, CSS, and JavaScript files. </st><st c="4405">Static websites do not require </st><span class="No-Break"><st c="4436">server-side processing.</st></span></p>
			<p><strong class="bold"><st c="4459">Dynamic websites</st></strong><st c="4476">, on </st><a id="_idIndexMarker063"/><st c="4481">the other hand, generate content on the server side based on user requests and other data. </st><st c="4572">You will see and build these in the </st><span class="No-Break"><st c="4608">coming chapters.</st></span></p>
			<p><st c="4624">The simplest example of a </st><a id="_idIndexMarker064"/><st c="4651">static website is having a single HTML file on your local desktop and opening it in your browser. </st><st c="4749">This works; however, nobody other than yourself will be able to access it. </st><st c="4824">This is why you need a hosting platform for your </st><span class="No-Break"><st c="4873">static websites.</st></span></p>
			<p><st c="4889">After having the </st><a id="_idIndexMarker065"/><st c="4907">static files built, you upload your files and other people will be able to access them through this hosting platform. </st><st c="5025">This is where AWS and solution architecture play </st><span class="No-Break"><st c="5074">a role.</st></span></p>
			<h1 id="_idParaDest-39"><a id="_idTextAnchor038"/><st c="5081">Architecture</st></h1>
			<p><st c="5094">By now, you understand what a static website is, have your requirements set, and are ready to create an architecture</st><a id="_idIndexMarker066"/><st c="5211"> diagram of </st><span class="No-Break"><st c="5223">the solution.</st></span></p>
			<p><st c="5236">There are two </st><span class="No-Break"><st c="5251">possible options:</st></span></p>
			<ul>
				<li><st c="5268">Diagram without </st><span class="No-Break"><st c="5285">specific services</st></span></li>
				<li><st c="5302">Diagram with </st><span class="No-Break"><st c="5316">specific services</st></span></li>
			</ul>
			<p><st c="5333">Following a formal process, you create a diagram without specific services. </st><st c="5410">After that, during service selection, you can match the unspecific services with the requirements and replace them with </st><span class="No-Break"><st c="5530">specific services.</st></span></p>
			<p><st c="5548">For example, you know you want </st><a id="_idIndexMarker067"/><st c="5580">a </st><strong class="bold"><st c="5582">Content Delivery Network</st></strong><st c="5606"> (</st><strong class="bold"><st c="5608">CDN</st></strong><st c="5611">), so you should represent that. </st><st c="5645">After that, if Amazon CloudFront matches your requirements, replace the agnostic CDN icon with CloudFront's icon in your </st><span class="No-Break"><st c="5766">architecture diagram.</st></span></p>
			<p><st c="5787">However, for this simple scenario and after learning about the architecture pattern, you can jump straight into a diagram populated with </st><span class="No-Break"><st c="5925">AWS services.</st></span></p>
			<p><st c="5938">Remember, you need a place to store your static files and a mechanism to make </st><span class="No-Break"><st c="6017">those available.</st></span></p>
			<p><st c="6033">Your diagram should look like the one in </st><span class="No-Break"><em class="italic"><st c="6075">Figure 2</st></em></span><em class="italic"><st c="6083">.1</st></em><st c="6085">: a three-component diagram, with Amazon S3, Amazon CloudFront, and Amazon CloudWatch. </st><st c="6173">Clients connect through CloudFront, which fetches your website static files from S3. </st><st c="6258">Both of these services emit metrics </st><span class="No-Break"><st c="6294">to CloudWatch.</st></span></p>
			<div>
				<div id="_idContainer015" class="IMG---Figure">
					<img src="image/B22051_02_1.jpg" alt="Figure 2.1 – Static website architecture on AWS"/><st c="6308"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="6360">Figure 2.1 – Static website architecture on AWS</st></p>
			<p><st c="6407">Although </st><a id="_idIndexMarker068"/><st c="6417">clients are represented with a computer icon, they can also be other types of devices such as phones </st><span class="No-Break"><st c="6518">or tablets.</st></span></p>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor039"/><st c="6529">AWS services</st></h1>
			<p><st c="6542">This architecture only uses three services. </st><st c="6587">In this</st><a id="_idIndexMarker069"/><st c="6594"> section, you will learn what these services do and why they address </st><span class="No-Break"><st c="6663">your requirements.</st></span></p>
			<h2 id="_idParaDest-41"><a id="_idTextAnchor040"/><st c="6681">Amazon Simple Storage Service (S3)</st></h2>
			<p><st c="6716">Amazon S3 is a </st><a id="_idIndexMarker070"/><st c="6732">highly scalable and durable object storage service. </st><st c="6784">S3 has many characteristics. </st><st c="6813">The ones relevant to our use case are </st><span class="No-Break"><st c="6851">as follows:</st></span></p>
			<ul>
				<li><st c="6862">S3 is an object</st><a id="_idIndexMarker071"/><st c="6878"> storage service, meaning that it stores data as objects (files) in </st><span class="No-Break"><st c="6946">buckets (directories).</st></span></li>
				<li><st c="6968">Designed for high availability, with data automatically replicated across multiple AWS availability zones within a region, ensuring that your data remains accessible even in the event of an outage or </st><span class="No-Break"><st c="7169">component failure.</st></span></li>
				<li><st c="7187">Fully managed service; you don’t have to worry about the operational overhead of managing storage infrastructure, as all is handled </st><span class="No-Break"><st c="7320">for you.</st></span></li>
				<li><st c="7328">Supports versioning, as a means of keeping multiple variants of an object in the same bucket allowing you to preserve, retrieve, and restore every version of every object stored in </st><span class="No-Break"><st c="7510">your buckets.</st></span></li>
				<li><st c="7523">Highly cost-effective storage solution, with pay-as-you-go pricing and tiered </st><span class="No-Break"><st c="7602">storage classes.</st></span></li>
			</ul>
			<p><st c="7618">Relate these statements to </st><span class="No-Break"><st c="7646">your requirements:</st></span></p>
			<ul>
				<li><st c="7664">You want to store files (e.g. </st><st c="7695">HTML, CSS, and images), and you want to store them in a place where they will be available for the recruiters to access at any time. </st><st c="7828">S3 is </st><span class="No-Break"><st c="7834">highly available.</st></span></li>
				<li><st c="7851">You want the solution to be easily maintained, without having to do operating system patches and all those boring activities. </st><st c="7978">S3 is a </st><span class="No-Break"><st c="7986">fully-managed service.</st></span></li>
				<li><st c="8008">Likewise, you want to be able to update your CV in an easy manner, and if you make a mistake, you want to be able to roll back to a previous version. </st><st c="8159">S3 supports </st><span class="No-Break"><st c="8171">file versioning.</st></span></li>
				<li><st c="8187">Lastly, you need this at the lowest possible cost. </st><st c="8239">S3 has a free tier, it only charges for what you consume, and it is considered a </st><span class="No-Break"><st c="8320">cost-effective service.</st></span></li>
			</ul>
			<p><st c="8343">It checks all the boxes as the service to store your </st><span class="No-Break"><st c="8397">static files.</st></span></p>
			<p><st c="8410">Did you know that S3 has a native functionality to function as a static website? </st><st c="8492">You can read all about it on the AWS website </st><a id="_idIndexMarker072"/><span class="No-Break"><st c="8537">at </st></span><a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html"><span class="No-Break"><st c="8540">https://docs.aws.amazon.com/AmazonS3/latest/userguide/WebsiteHosting.html</st></span></a><span class="No-Break"><st c="8613">.</st></span></p>
			<p><st c="8614">However, it </st><a id="_idIndexMarker073"/><st c="8627">presents two </st><span class="No-Break"><st c="8640">key limitations:</st></span></p>
			<ul>
				<li><st c="8656">S3 is a regional service, and therefore, the website is available at the AWS region-specific website endpoint of </st><span class="No-Break"><st c="8770">the bucket.</st></span></li>
				<li><st c="8781">It does not </st><span class="No-Break"><st c="8794">support HTTPS.</st></span></li>
			</ul>
			<p><st c="8808">This leads us to the next service: CloudFront. </st><st c="8856">If you want to learn more about S3, including what is</st><a id="_idIndexMarker074"/><st c="8909"> included in the free tier, you can read about it </st><span class="No-Break"><st c="8959">at </st></span><a href="https://aws.amazon.com/pm/serv-s3"><span class="No-Break"><st c="8962">https://aws.amazon.com/pm/serv-s3</st></span></a><span class="No-Break"><st c="8995">.</st></span></p>
			<p><span class="No-Break"><st c="8996">Amazon CloudFront</st></span></p>
			<p><st c="9014">Amazon CloudFront is a </st><a id="_idIndexMarker075"/><st c="9038">service that speeds up the distribution of your static and dynamic web content, such as </st><strong class="source-inline"><st c="9126">.html</st></strong><st c="9131">, </st><strong class="source-inline"><st c="9133">.css</st></strong><st c="9137">, </st><strong class="source-inline"><st c="9139">.js</st></strong><st c="9142">, and image files, to your users. </st><st c="9176">It is </st><span class="No-Break"><st c="9182">Amazon’s CDN.</st></span></p>
			<p><st c="9195">A CDN is a geographically distributed group of servers that caches content close to end users. </st><st c="9291">In short, the way it works is that your users terminate their connections at CloudFront locations closer to them, and travel the rest of the way using Amazon’s high-speed backbone network. </st><st c="9480">If your content is already cached in the location, it returns it without traveling all the way to </st><span class="No-Break"><st c="9578">the origin.</st></span></p>
			<p><st c="9589">Some of its key characteristics are </st><span class="No-Break"><st c="9626">as follows:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="9637">Globally distributed</st></strong><st c="9658">: By </st><a id="_idIndexMarker076"/><st c="9664">caching static content at edge locations closer to users, CloudFront can serve the website’s files more quickly, resulting in faster load times and an enhanced user experience. </st><st c="9841">This is particularly beneficial for users with slower internet connections or those located in regions far from the origin </st><span class="No-Break"><st c="9964">S3 bucket.</st></span></li>
				<li><strong class="bold"><st c="9974">Highly available and fault tolerant</st></strong><st c="10010">: CloudFront is built on top of AWS’s highly available and fault-tolerant infrastructure. </st><st c="10101">The edge locations and underlying services are designed with redundancy and fault tolerance in mind, minimizing the impact of individual </st><span class="No-Break"><st c="10238">component failures.</st></span></li>
				<li><strong class="bold"><st c="10257">Increased resiliency</st></strong><st c="10278">: CloudFront supports multiple origin servers (e.g., Amazon S3 buckets or web servers) for a single distribution. </st><st c="10393">If the primary origin server becomes unavailable, CloudFront automatically fails over to a secondary or tertiary origin server, ensuring continuous </st><span class="No-Break"><st c="10541">content delivery.</st></span></li>
				<li><strong class="bold"><st c="10558">Content delivery optimization</st></strong><st c="10588">: CloudFront optimizes the delivery of static content by automatically compressing files, minimizing the amount of data transferred, and supporting advanced caching mechanisms such as cache control headers</st><a id="_idIndexMarker077"/><st c="10794"> and query </st><span class="No-Break"><st c="10805">string forwarding.</st></span></li>
			</ul>
			<p><st c="10823">Again, relate these characteristics to </st><span class="No-Break"><st c="10863">your requirements:</st></span></p>
			<ul>
				<li><st c="10881">You want a distribution mechanism that is available through the internet on any device. </st><st c="10970">You don’t know where your users will be or what types of devices and bandwidth constraints they might have. </st><st c="11078">You benefit from CloudFront’s globally distributed nature with </st><span class="No-Break"><st c="11141">out-of-the-box caching.</st></span></li>
				<li><st c="11164">S3 is highly available, but you also need the CDN to be highly available. </st><st c="11239">When you chain components together, a failure in any one affects the whole system. </st><st c="11322">CloudFront also helps to increase your availability further by bypassing S3 failures using a secondary origin </st><span class="No-Break"><st c="11432">or bucket.</st></span></li>
				<li><st c="11442">Lastly, cost is important. </st><st c="11470">CloudFront’s pricing model is based on data transferred out and the number of requests with a pay-as-you-go model. </st><st c="11585">CloudFront automatically compresses your files, if supported by the client’s browser, minimizing </st><span class="No-Break"><st c="11682">data transfers.</st></span></li>
			</ul>
			<p><st c="11697">If you want to learn more about CloudFront including what is included in the free tier, you can read about it in the AWS </st><a id="_idIndexMarker078"/><span class="No-Break"><st c="11819">documentation: </st></span><a href="https://aws.amazon.com/cloudfront"><span class="No-Break"><st c="11834">https://aws.amazon.com/cloudfront</st></span></a><span class="No-Break"><st c="11867">.</st></span></p>
			<h2 id="_idParaDest-42"><a id="_idTextAnchor041"/><st c="11868">Amazon CloudWatch metrics</st></h2>
			<p><st c="11894">Amazon CloudWatch</st><a id="_idIndexMarker079"/><st c="11912"> monitors resources and the applications you run on AWS in real time. </st><st c="11982">You can use CloudWatch to collect and track metrics, logs, events, </st><span class="No-Break"><st c="12049">and traces.</st></span></p>
			<p><st c="12060">CloudWatch has many features, but in this project, we will only focus on CloudWatch metrics. </st><st c="12154">Some key characteristics of </st><a id="_idIndexMarker080"/><st c="12182">CW metrics are </st><span class="No-Break"><st c="12197">as follows:</st></span></p>
			<ul>
				<li><strong class="bold"><st c="12208">Comprehensive coverage</st></strong><st c="12231">: It collects metrics from a wide range of AWS services, including Amazon S3 and Amazon CloudFront, alongside many others. </st><st c="12355">This comprehensive coverage allows you to monitor and analyze the performance and health of your entire AWS infrastructure and applications from a single </st><span class="No-Break"><st c="12509">centralized location.</st></span></li>
				<li><strong class="bold"><st c="12530">Alarms and notifications</st></strong><st c="12555">: It supports the creation of alarms based on metric thresholds or patterns. </st><st c="12633">These alarms can trigger notifications (e.g., email, SMS, or AWS Lambda functions) when specific conditions are met, allowing you to proactively respond to potential issues or take </st><span class="No-Break"><st c="12814">automated actions.</st></span></li>
				<li><strong class="bold"><st c="12832">Cost-effectiveness</st></strong><st c="12851">: With pricing based on the number of metrics ingested and the data retention period and a pay-as-you-go model, it allows you to scale your monitoring efforts as your AWS infrastructure and applications grow, without incurring significant </st><span class="No-Break"><st c="13091">upfront costs.</st></span></li>
			</ul>
			<p><st c="13105">For any solution you deploy, you need to monitor it. </st><st c="13159">This means that you need to know whether it’s working, and if it isn’t, you need to know why not. </st><st c="13257">In this case, even though this is a simple website with your CV, you want to know whether anyone is accessing it, and what type of experience they are having. </st><st c="13416">This will satisfy the </st><em class="italic"><st c="13438">ability to generate insights based on website </st></em><span class="No-Break"><em class="italic"><st c="13484">data</st></em></span><span class="No-Break"><st c="13488"> requirement.</st></span></p>
			<p><st c="13501">CloudWatch is deeply integrated into the AWS ecosystem. </st><st c="13558">It will natively show you both CloudFront and S3 metrics, for example: the number of requests, error rates, and latency. </st><st c="13679">You will have access to these metrics while minimizing your costs. </st><st c="13746">If you have no visits, you will have </st><span class="No-Break"><st c="13783">no costs.</st></span></p>
			<p><st c="13792">If you want to learn more about CloudWatch metrics, including what is included in the free tier, you can read about it in the </st><a id="_idIndexMarker081"/><st c="13919">AWS </st><span class="No-Break"><st c="13923">documentation: </st></span><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/working_with_metrics.html"><span class="No-Break"><st c="13938">https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/working_with_metrics.html</st></span></a><span class="No-Break"><st c="14026">.</st></span></p>
			<h1 id="_idParaDest-43"><a id="_idTextAnchor042"/><st c="14027">Coding the solution</st></h1>
			<p><st c="14047">Congratulations, you have designed an architecture that fulfills all your requirements. </st><st c="14136">It’s time to build it. </st><st c="14159">During this </st><a id="_idIndexMarker082"/><st c="14171">chapter, you are going to do it using the AWS console in the </st><strong class="bold"><st c="14232">N. </st></strong><span class="No-Break"><strong class="bold"><st c="14235">Virginia</st></strong></span><span class="No-Break"><st c="14243"> region.</st></span></p>
			<h2 id="_idParaDest-44"><a id="_idTextAnchor043"/><st c="14251">Editing the website</st></h2>
			<p><st c="14271">Start by</st><a id="_idIndexMarker083"/><st c="14280"> downloading the assets in the Git repository of this book at </st><a href="https://github.com/PacktPublishing/AWS-Cloud-Projects"><st c="14342">https://github.com/PacktPublishing/AWS-Cloud-Projects</st></a><st c="14395">. You can do it from your workstation terminal using the Git tool, or by downloading the repository as a ZIP file. </st><st c="14510">A detailed step-by-step guide on how to use Git and GitHub is beyond the scope of this book, but if you want to deep dive into the topic, the book </st><em class="italic"><st c="14657">Mastering Git</st></em><st c="14670">, available at </st><a href="https://www.packtpub.com/product/mastering-git/9781783553754"><st c="14685">https://www.packtpub.com/product/mastering-git/9781783553754</st></a><st c="14745">, covers </st><span class="No-Break"><st c="14754">it holistically.</st></span></p>
			<p><st c="14770">You will find three files in the </st><strong class="source-inline"><st c="14804">chapter2/code</st></strong><st c="14817"> folder. </st><st c="14826">Open </st><strong class="source-inline"><st c="14831">index.html</st></strong><st c="14841"> in your favorite code editor. </st><st c="14872">There, you will find a standard HTML that references some styles in the header, along with an HTML body with multiple divisions, highlighted with the tags </st><strong class="source-inline"><st c="15027">div</st></strong><st c="15030">, populated </st><a id="_idIndexMarker084"/><st c="15042">with </st><span class="No-Break"><st c="15047">CV information:</st></span></p>
			<pre class="source-code"><st c="15062">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"&gt;
  &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
  &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
  &lt;link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow&amp;family=Julius+Sans+One&amp;family=Open+Sans&amp;family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"&gt;
  </st><strong class="bold"><st c="15492">&lt;link rel="stylesheet" href="index.css"&gt;</st></strong><st c="15532">
&lt;/head&gt;
&lt;body&gt;
  &lt;page size="A4"&gt;
</st><strong class="bold"><st c="15565">    &lt;div class="container"&gt;</st></strong>
<strong class="bold"><st c="15588">      &lt;div class="leftPanel"&gt;</st></strong><st c="15612">
        &lt;img src="avatar.png"/&gt;
        &lt;div class="details"&gt;
          &lt;div class="item bottomLineSeparator"&gt;
            &lt;h2&gt;
              CONTACT
            &lt;/h2&gt;
  ### OUTPUT OMMITED ###</st></pre>			<p><st c="15739">If you are not familiar with HTML, this is the 1,000-foot overview: HTML files are what browsers read to render web pages. </st><st c="15863">They are represented by the</st><strong class="source-inline"><st c="15890">.html</st></strong><st c="15895"> or </st><strong class="source-inline"><st c="15899">.htm</st></strong><st c="15903"> extensions. </st><st c="15916">HTML documents have a series of elements, represented in between tags. </st><st c="15987">Tags are represented with a word between </st><strong class="source-inline"><st c="16028">&lt;&gt;</st></strong><st c="16030"> symbols. </st><st c="16040">There are opening and closing tags; the content is between them. </st><st c="16105">There are well-defined tags, for example, </st><strong class="source-inline"><st c="16147">&lt;p&gt;</st></strong><st c="16150">, which means </st><a id="_idIndexMarker085"/><st c="16164">paragraph. </st><st c="16175">To represent a paragraph, you would do </st><span class="No-Break"><st c="16214">the following:</st></span></p>
			<pre class="source-code">
<strong class="bold"><st c="16228">&lt;p&gt;</st></strong><st c="16232">This is a paragraph in HTML</st><strong class="bold"><st c="16260">&lt;/p&gt;</st></strong></pre>			<p><st c="16265">You can find documentation about many other tags on the w3school website</st><a id="_idIndexMarker086"/> <span class="No-Break"><st c="16338">at </st></span><a href="https://www.w3schools.com/tags/"><span class="No-Break"><st c="16342">https://www.w3schools.com/tags/</st></span></a><span class="No-Break"><st c="16373">.</st></span></p>
			<p><st c="16374">However, if you just use plain HTML, your website will not have a good aesthetic. </st><st c="16457">To visualize this, open the </st><strong class="source-inline"><st c="16485">index.html</st></strong><st c="16495"> file in your browser. </st><st c="16518">If you haven’t modified it yet, it will look like </st><span class="No-Break"><em class="italic"><st c="16568">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="16576">.2</st></em></span><span class="No-Break"><st c="16578">.</st></span></p>
			<div>
				<div id="_idContainer016" class="IMG---Figure">
					<img src="image/B22051_02_2.jpg" alt="Figure 2.2 – index.html browser visualization"/><st c="16579"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="19110">Figure 2.2 – index.html browser visualization</st></p>
			<p><st c="19155">Now, open it in a text</st><a id="_idIndexMarker087"/><st c="19178"> editor and remove these link tags in </st><span class="No-Break"><st c="19216">the header:</st></span></p>
			<pre class="source-code"><st c="19227">
  &lt;link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"&gt;
  &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
  &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
  &lt;link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow&amp;family=Julius+Sans+One&amp;family=Open+Sans&amp;family=Source+Sans+Pro&amp;display=swap" rel="stylesheet"&gt;
  &lt;link rel="stylesheet" href="index.css"&gt;</st></pre>			<p><st c="19667">Refresh your </st><a id="_idIndexMarker088"/><st c="19681">browser page. </st><st c="19695">Now, it will look like </st><span class="No-Break"><em class="italic"><st c="19718">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="19726">.3</st></em></span><span class="No-Break"><st c="19728">:</st></span></p>
			<div>
				<div id="_idContainer017" class="IMG---Figure">
					<img src="image/B22051_02_3.jpg" alt="Figure 2.3 – index.html browser visualization without styles"/><st c="19730"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="20019">Figure 2.3 – index.html browser visualization without styles</st></p>
			<p><st c="20079">Hopefully, you see the value. </st><st c="20110">Styles in HTML add style to an element, such as color, font, size, and more. </st><st c="20187">Everything in HTML can be styled, even </st><strong class="source-inline"><st c="20226">div</st></strong><st c="20229"> elements. </st><st c="20240">Re-add the five link tags you </st><span class="No-Break"><st c="20270">have removed.</st></span></p>
			<p><st c="20283">Now, open the file</st><a id="_idIndexMarker089"/><st c="20302"> named </st><strong class="source-inline"><st c="20309">index.css</st></strong><st c="20318"> in a text editor. </st><st c="20337">In this code, you can find specific font sizes and colors for each type of tag used in your HTML file. </st><st c="20440">Likewise, you can find </st><span class="No-Break"><st c="20463">positioning attributes:</st></span></p>
			<pre class="source-code"><st c="20486">
h1 {
  font-family: 'Julius Sans One', sans-serif;
}
h2 { /* Contact, Skills, Education, About me, Work Experience */
  font-family: 'Archivo Narrow', sans-serif;
}
h3 { /* Accountant */
  font-family: 'Open Sans', sans-serif;
}
</st><strong class="bold"><st c="20710">.container {</st></strong><st c="20722">
  display: flex;
  flex-direction: row;
  width: 100%;
  height: 100%;
}
</st><strong class="bold"><st c="20788">.leftPanel</st></strong><st c="20798"> {
  width: 27%;
  background-color: #484444;
  padding: 0.7cm;
  display: flex;
  flex-direction: column;
  align-items: center;
}
## OUTPUT OMMITED ###</st></pre>			<p><st c="20939">Contrast the names found here, such as </st><strong class="source-inline"><st c="20979">leftPanel</st></strong><st c="20988"> or </st><strong class="source-inline"><st c="20992">container</st></strong><st c="21001">, with the </st><strong class="source-inline"><st c="21012">div class</st></strong><st c="21021"> attributes of your </st><span class="No-Break"><strong class="source-inline"><st c="21041">index.html</st></strong></span><span class="No-Break"><st c="21051"> file.</st></span></p>
			<p><st c="21057">The third</st><a id="_idIndexMarker090"/><st c="21067"> file, </st><strong class="source-inline"><st c="21074">avatar.png</st></strong><st c="21084">, is just a photo. </st><st c="21103">To insert an image in an HTML, use the </st><strong class="source-inline"><st c="21142">&lt;</st></strong><span class="No-Break"><strong class="source-inline"><st c="21143">img&gt;</st></strong></span><span class="No-Break"><st c="21147"> tag.</st></span></p>
			<p><st c="21152">Now that you understand the three files and how they relate to each other, replace the content with your own CV information and photo. </st><st c="21288">If you feel confident, alter some of the styles </st><span class="No-Break"><st c="21336">as well.</st></span></p>
			<h2 id="_idParaDest-45"><a id="_idTextAnchor044"/><st c="21344">Publishing the website</st></h2>
			<p><st c="21367">So far, all you have done is use </st><a id="_idIndexMarker091"/><st c="21401">your local workstation. </st><st c="21425">In this section, we are going to make your website </st><span class="No-Break"><st c="21476">globally available.</st></span></p>
			<p><st c="21495">Access your AWS account using the Console like in </st><a href="B22051_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="21546">Chapter 1</st></em></span></a><st c="21555">. Navigate to </st><span class="No-Break"><st c="21569">S3: </st></span><a href="https://s3.console.aws.amazon.com/s3/home?region=us-east-1#"><span class="No-Break"><st c="21573">https://s3.console.aws.amazon.com/s3/home?region=us-east-1#</st></span></a><span class="No-Break"><st c="21632">.</st></span></p>
			<p><st c="21633">Create a bucket. </st><st c="21651">In its configuration settings, give it a unique name, and leave </st><strong class="bold"><st c="21715">Block all public </st></strong><span class="No-Break"><strong class="bold"><st c="21732">access</st></strong></span><span class="No-Break"><st c="21738"> checked.</st></span></p>
			<p><st c="21747">Navigate inside the newly created S3 bucket and upload the three files that you downloaded earlier from the book’s GitHub repository: </st><strong class="source-inline"><st c="21882">index.html</st></strong><st c="21892">, </st><strong class="source-inline"><st c="21894">index.css</st></strong><st c="21903">, and </st><strong class="source-inline"><st c="21909">avatar.png</st></strong><st c="21919">. These, as mentioned, were example files, and you can and should replace them with your own. </st><st c="22013">If you have not done this by the end of this chapter, you will have a website of one of the book’s </st><span class="No-Break"><st c="22112">authors’ CVs.</st></span></p>
			<p><st c="22125">Navigate to the CloudFront console (</st><a href="https://us-east-1.console.aws.amazon.com/cloudfront/v4/home?region=us-east-1#/distributions"><st c="22162">https://us-east-1.console.aws.amazon.com/cloudfront/v4/home?region=us-east-1#/distributions</st></a><st c="22254">) and create a </st><span class="No-Break"><st c="22270">new distribution:</st></span></p>
			<ol>
				<li><st c="22287">Select your bucket as </st><span class="No-Break"><strong class="bold"><st c="22310">Origin domain</st></strong></span><span class="No-Break"><st c="22323">.</st></span></li>
				<li><st c="22324">Change </st><strong class="bold"><st c="22332">Origin access</st></strong><st c="22345"> from </st><strong class="bold"><st c="22351">Public</st></strong><st c="22357"> to </st><strong class="bold"><st c="22361">Origin access </st></strong><span class="No-Break"><strong class="bold"><st c="22375">control settings</st></strong></span><span class="No-Break"><st c="22391">.</st></span></li>
				<li><st c="22392">Create a new OAC with the default options, and select it under </st><strong class="bold"><st c="22456">Origin </st></strong><span class="No-Break"><strong class="bold"><st c="22463">access control</st></strong></span><span class="No-Break"><st c="22477">.</st></span></li>
				<li><st c="22478">Under the </st><strong class="bold"><st c="22489">Web Application Firewall (WAF)</st></strong><st c="22519"> section, do not enable the </st><span class="No-Break"><st c="22547">security protections.</st></span></li>
				<li><st c="22568">Before creating your distribution, read through all the options. </st><st c="22634">Notice some interesting ones, such as the cache policy, the ability to compress objects automatically, and the different types </st><span class="No-Break"><st c="22761">of pricing.</st></span></li>
			</ol>
			<p><st c="22772">When you create </st><a id="_idIndexMarker092"/><st c="22789">the distribution, a yellow popup will appear at the top of your screen, like the one shown in </st><span class="No-Break"><em class="italic"><st c="22883">Figure 2</st></em></span><em class="italic"><st c="22891">.4</st></em><st c="22893">. Select </st><strong class="bold"><st c="22902">Copy policy</st></strong><st c="22913">, followed by </st><strong class="bold"><st c="22927">Go to S3 bucket permissions to </st></strong><span class="No-Break"><strong class="bold"><st c="22958">update policy</st></strong></span><span class="No-Break"><st c="22971">.</st></span></p>
			<div>
				<div id="_idContainer018" class="IMG---Figure">
					<img src="image/B22051_02_4.jpg" alt="Figure 2.4 – CloudFront OAC popup"/><st c="22972"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="23197">Figure 2.4 – CloudFront OAC popup</st></p>
			<p><st c="23230">You will be presented with your S3 bucket settings. </st><st c="23283">Select </st><strong class="bold"><st c="23290">Edit</st></strong><st c="23294"> under the </st><strong class="bold"><st c="23305">Bucket policy</st></strong><st c="23318"> section, paste the policy you copied, and </st><span class="No-Break"><st c="23361">save it.</st></span></p>
			<p><st c="23369">The policy should look like the following one. </st><st c="23417">It allows the CloudFront service to access the resources inside your bucket. </st><st c="23494">In this case, that’s the </st><span class="No-Break"><strong class="source-inline"><st c="23519">cloudprojectwebsitebucket</st></strong></span><span class="No-Break"><st c="23544"> bucket:</st></span></p>
			<pre class="source-code"><st c="23552">
{
    "Version": "2008-10-17",
    "Id": "PolicyForCloudFrontPrivateContent",
    "Statement": [
        {
            "Sid": "AllowCloudFrontServicePrincipal",
            "Effect": "Allow",
            "Principal": {
                "Service": "cloudfront.amazonaws.com"
            },
            "Action": "s3:GetObject",
            "Resource": "</st><strong class="bold"><st c="23796">arn:aws:s3:::cloudprojectwebsitebucket/*",</st></strong><st c="23839">
            "Condition": {
                "StringEquals": {
                    "AWS:SourceArn": "arn:aws:cloudfront::111111111111:distribution/E33NUQ32Z0XQZB"
                }
            }
        }
    ]
}</st></pre>			<p><st c="23962">Navigate back to your</st><a id="_idIndexMarker093"/><st c="23984"> CloudFront distribution and note the distribution name. </st><st c="24041">Note that the CloudFront distribution might take a minute or two to </st><span class="No-Break"><st c="24109">become available.</st></span></p>
			<p><st c="24126">Append </st><strong class="source-inline"><st c="24134">index.html</st></strong><st c="24144"> at the end, and after your distribution status shows </st><strong class="bold"><st c="24198">Enabled</st></strong><st c="24205">, open it in your browser. </st><st c="24232">The URL should have the following format; the highlighted part should be different in </st><span class="No-Break"><st c="24318">your case:</st></span></p>
			<pre class="source-code"><st c="24328">
https://</st><strong class="bold"><st c="24337">d1hjtv5xjv873g</st></strong><st c="24352">.cloudfront.net/index.html</st></pre>			<p><st c="24378">However, nobody likes to have to write </st><strong class="source-inline"><st c="24418">index.html</st></strong><st c="24428"> at the end of the </st><span class="No-Break"><st c="24447">URL, right?</st></span></p>
			<p><st c="24458">Navigate to your CloudFront distribution and select </st><strong class="bold"><st c="24511">Edit</st></strong><st c="24515"> under </st><strong class="bold"><st c="24522">Settings</st></strong><st c="24530">. In the </st><strong class="bold"><st c="24539">Default root object</st></strong><st c="24558"> field, insert </st><strong class="source-inline"><st c="24573">index.html</st></strong><st c="24583"> and save </st><span class="No-Break"><st c="24593">your changes.</st></span></p>
			<p><st c="24606">Your distribution state will change to </st><strong class="bold"><st c="24646">Deploying</st></strong><st c="24655"> momentarily, as shown in </st><span class="No-Break"><em class="italic"><st c="24681">Figure 2</st></em></span><em class="italic"><st c="24689">.5</st></em><st c="24691">, under the </st><strong class="bold"><st c="24703">Last </st></strong><span class="No-Break"><strong class="bold"><st c="24708">modified</st></strong></span><span class="No-Break"><st c="24716"> column.</st></span></p>
			<div>
				<div id="_idContainer019" class="IMG---Figure">
					<img src="image/B22051_02_5.jpg" alt="Figure 2.5 – CloudFront distribution status during an update"/><st c="24724"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="24850">Figure 2.5 – CloudFront distribution status during an update</st></p>
			<p><st c="24910">When the distribution finishes propagating your changes, the status column shows the </st><strong class="bold"><st c="24996">Enabled</st></strong><st c="25003"> status, and the </st><strong class="bold"><st c="25020">Last modified</st></strong><st c="25033"> column shows a date as shown in </st><span class="No-Break"><em class="italic"><st c="25066">Figure 2</st></em></span><span class="No-Break"><em class="italic"><st c="25074">.6</st></em></span><span class="No-Break"><st c="25076">.</st></span></p>
			<div>
				<div id="_idContainer020" class="IMG---Figure">
					<img src="image/B22051_02_6.jpg" alt="Figure 2.6 – CloudFront distribution status after an update"/><st c="25077"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="25223">Figure 2.6 – CloudFront distribution status after an update</st></p>
			<p><st c="25282">Refresh your </st><a id="_idIndexMarker094"/><st c="25296">CV page, this time without the path, as shown in the following line. </st><st c="25365">Remember to replace the highlighted string with your </st><span class="No-Break"><st c="25418">own domain:</st></span></p>
			<pre class="source-code"><st c="25429">
 https://</st><strong class="bold"><st c="25438">d1hjtv5xjv873g</st></strong><st c="25453">.cloudfront.net/</st></pre>			<p><st c="25469">Et voilà! </st><st c="25480">Your CV is now online and available for recruiters to </st><span class="No-Break"><st c="25534">visit it.</st></span></p>
			<h2 id="_idParaDest-46"><a id="_idTextAnchor045"/><st c="25543">Monitoring the website</st></h2>
			<p><st c="25566">Your website is online, you</st><a id="_idIndexMarker095"/><st c="25594"> can share the URL with other people and they will always have access to your latest CV. </st><st c="25683">However, how do you know whether they actually accessed it, or whether they are having a </st><span class="No-Break"><st c="25772">good experience?</st></span></p>
			<p><st c="25788">You already know the answer; it’s </st><span class="No-Break"><st c="25823">CloudWatch metrics:</st></span></p>
			<ol>
				<li><st c="25842">Navigate to the CloudWatch metrics </st><span class="No-Break"><st c="25878">console (</st></span><a href="https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#metricsV2"><span class="No-Break"><st c="25887">https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1#metricsV2</st></span></a><span class="No-Break"><st c="25971">).</st></span></li>
				<li><st c="25974">In the </st><strong class="bold"><st c="25982">Browse</st></strong><st c="25988"> tab, you will find all kinds of AWS services. </st><st c="26035">Select CloudFront, followed by </st><span class="No-Break"><strong class="bold"><st c="26066">Per-Distribution Metrics</st></strong></span><span class="No-Break"><st c="26090">.</st></span></li>
				<li><st c="26091">If you have more than one distribution, you will need to identify the relevant one by ID. </st><st c="26182">If you just have one, select </st><strong class="bold"><st c="26211">BytesDownloaded</st></strong><st c="26226">, </st><strong class="bold"><st c="26228">Requests</st></strong><st c="26236">, </st><strong class="bold"><st c="26238">5xxErrorRate</st></strong><st c="26250">, </st><span class="No-Break"><st c="26252">and </st></span><span class="No-Break"><strong class="bold"><st c="26256">4xxErrorRate</st></strong></span><span class="No-Break"><st c="26268">.</st></span></li>
			</ol>
			<p><st c="26269">CloudWatch will plot a graphic for you on the top of your screen, like the one shown in </st><span class="No-Break"><em class="italic"><st c="26358">Figure 2</st></em></span><em class="italic"><st c="26366">.7</st></em><st c="26368">. At 16h25, 18K bytes were downloaded and some users were facing HTTP </st><strong class="source-inline"><st c="26438">400</st></strong><st c="26441"> errors. </st><st c="26450">These metrics were calculated as </st><span class="No-Break"><st c="26483">five-minute averages.</st></span></p>
			<div>
				<div id="_idContainer021" class="IMG---Figure">
					<img src="image/B22051_02_7.jpg" alt="Figure 2.7 – CW metrics graph for CloudFront"/><st c="26504"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="26641">Figure 2.7 – CW metrics graph for CloudFront</st></p>
			<p><st c="26685">These metrics are free</st><a id="_idIndexMarker096"/><st c="26708"> and were automatically populated without you having to do anything other than just configuring CloudFront. </st><st c="26816">However, if you want more detailed metrics such as </st><strong class="bold"><st c="26867">4xx</st></strong><st c="26870"> and </st><strong class="bold"><st c="26875">5xx</st></strong><st c="26878"> error rates by the specific HTTP status code, or cache hits as a percentage of total cacheable requests, you can enable that in your CloudFront distribution at </st><span class="No-Break"><st c="27039">a cost.</st></span></p>
			<p><st c="27046">Explore CloudWatch metrics further and see what other metrics were automatically populated. </st><st c="27139">Here’s a hint: consider your file </st><span class="No-Break"><st c="27173">storage service.</st></span></p>
			<h2 id="_idParaDest-47"><a id="_idTextAnchor046"/><st c="27189">Cleaning up</st></h2>
			<p><st c="27201">AWS resources incur costs. </st><st c="27229">Although most services initially fall under the free tier, eventually that runs out, and you will incur costs. </st><st c="27340">We recommend that you delete every application after you are done playing </st><span class="No-Break"><st c="27414">with it.</st></span></p>
			<p><st c="27422">Start by deleting your</st><a id="_idIndexMarker097"/> <span class="No-Break"><st c="27445">CloudFront distribution:</st></span></p>
			<ol>
				<li><st c="27470">Navigate to CloudFront </st><span class="No-Break"><st c="27494">console (</st></span><a href="https://us-east-1.console.aws.amazon.com/cloudfront/v4/home?region=us-east-1#/distributions"><span class="No-Break"><st c="27503">https://us-east-1.console.aws.amazon.com/cloudfront/v4/home?region=us-east-1#/distributions</st></span></a><span class="No-Break"><st c="27595">).</st></span></li>
				<li><st c="27598">Select and disable your </st><span class="No-Break"><st c="27623">CloudFront distribution.</st></span></li>
				<li><st c="27647">After it’s</st><a id="_idIndexMarker098"/><st c="27658"> disabled, delete </st><span class="No-Break"><st c="27676">the distribution.</st></span></li>
			</ol>
			<p><st c="27693">Next, delete your </st><a id="_idIndexMarker099"/><span class="No-Break"><st c="27712">S3 bucket:</st></span></p>
			<ol>
				<li><st c="27722">Navigate to S3 </st><span class="No-Break"><st c="27738">console (</st></span><a href="https://s3.console.aws.amazon.com/s3/home?region=us-east-1"><span class="No-Break"><st c="27747">https://s3.console.aws.amazon.com/s3/home?region=us-east-1</st></span></a><span class="No-Break"><st c="27806">).</st></span></li>
				<li><st c="27809">Select your bucket. </st><st c="27830">Inside, delete all three files. </st><st c="27862">Buckets can only be deleted if they </st><span class="No-Break"><st c="27898">are empty.</st></span></li>
				<li><st c="27908">Delete </st><span class="No-Break"><st c="27916">your bucket.</st></span></li>
			</ol>
			<h1 id="_idParaDest-48"><a id="_idTextAnchor047"/><st c="27928">Future work</st></h1>
			<p><st c="27940">Congratulations, you now have a working static website hosted on AWS. </st><st c="28011">There are multiple features you can complement it with. </st><st c="28067">This section details a few ideas, but it doesn’t guide you through </st><span class="No-Break"><st c="28134">their implementation.</st></span></p>
			<h2 id="_idParaDest-49"><a id="_idTextAnchor048"/><st c="28155">Implementing custom DNS</st></h2>
			<p><st c="28179">Right now, your CV is at a </st><a id="_idIndexMarker100"/><st c="28207">non-memorable URL. </st><st c="28226">It would be easier for you and others to remember if your URL was something such </st><span class="No-Break"><st c="28307">as </st></span><span class="No-Break"><strong class="source-inline"><st c="28310">bestcandidatecv.com</st></strong></span><span class="No-Break"><st c="28329">.</st></span></p>
			<p><st c="28330">When you access a URL, in the backend, your workstation does a lookup of this URL to retrieve the IP address. </st><st c="28441">Then it connects to </st><span class="No-Break"><st c="28461">that address.</st></span></p>
			<p><st c="28474">To verify this behavior, open your favorite terminal and execute the following command; it returns a series of IP addresses. </st><st c="28600">Make sure you replace the URL with </st><span class="No-Break"><st c="28635">your own:</st></span></p>
			<pre class="console"><st c="28644">
$ nslookup d1hjtv5xjv873g.cloudfront.net</st></pre>			<p><st c="28685">CloudFront supports having custom </st><span class="No-Break"><st c="28720">domain names.</st></span></p>
			<p><st c="28733">To achieve it, first, you will need to register a new domain. </st><st c="28796">Domains are unique. </st><st c="28816">Within the AWS ecosystem, you can register a new domain using </st><strong class="bold"><st c="28878">Route 53</st></strong><st c="28886">. However, you can also register your domain with other providers. </st><st c="28953">Domains </st><a id="_idIndexMarker101"/><st c="28961">have a </st><span class="No-Break"><st c="28968">yearly cost.</st></span></p>
			<p><st c="28980">Secondly, you will need to create a DNS record inside your domain. </st><st c="29048">If you are managing your domain in Route 53, this will be done under hosted zones. </st><st c="29131">This DNS record points your new name to your CloudFront distribution </st><span class="No-Break"><st c="29200">DNS name.</st></span></p>
			<p><st c="29209">In simple terms, if someone looks up </st><strong class="source-inline"><st c="29247">bestcandidatecv.com</st></strong><st c="29266">, the server will return </st><strong class="source-inline"><st c="29291">d1hjtv5xjv873g.cloudfront.net</st></strong><st c="29320">, and then recursively, </st><span class="No-Break"><st c="29344">the IP.</st></span></p>
			<p><st c="29351">Lastly, you will need a </st><a id="_idIndexMarker102"/><st c="29376">new certificate. </st><st c="29393">Navigate to your current CV website and check the certificate details. </st><st c="29464">They should look like </st><span class="No-Break"><em class="italic"><st c="29486">Figure 2</st></em></span><em class="italic"><st c="29494">.8</st></em><st c="29496">. This certificate is only valid for common names that end </st><span class="No-Break"><st c="29555">with </st></span><span class="No-Break"><strong class="source-inline"><st c="29560">cloudfront.net</st></strong></span><span class="No-Break"><st c="29574">.</st></span></p>
			<div>
				<div id="_idContainer022" class="IMG---Figure">
					<img src="image/B22051_02_8.jpg" alt="Figure 2.8 – CloudFront default certificate"/><st c="29575"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="29888">Figure 2.8 – CloudFront default certificate</st></p>
			<p><st c="29931">Since you will access your CV with a custom name, you will need a certificate that supports that naming. </st><st c="30037">Within the AWS ecosystem, you can use the </st><strong class="bold"><st c="30079">AWS Certificate Manager</st></strong><st c="30102"> (</st><strong class="bold"><st c="30104">ACM</st></strong><st c="30107">) to issue a </st><a id="_idIndexMarker103"/><span class="No-Break"><st c="30121">new certificate.</st></span></p>
			<p><st c="30137">If you are interested in implementing this feature, the AWS documentation details the whole </st><span class="No-Break"><st c="30230">process: </st></span><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/CNAMEs.html"><span class="No-Break"><st c="30239">https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/CNAMEs.html</st></span></a><span class="No-Break"><st c="30317">.</st></span></p>
			<h2 id="_idParaDest-50"><a id="_idTextAnchor049"/><st c="30318">Taking security to the next level</st></h2>
			<p><st c="30352">Your website</st><a id="_idIndexMarker104"/><st c="30365"> is simple, and while static websites are generally considered less vulnerable to certain types of web attacks due to their lack of dynamic content and server-side</st><a id="_idIndexMarker105"/><st c="30528"> processing, they can still be targeted by various attacks, such as </st><strong class="bold"><st c="30596">Distributed Denial-of-Service</st></strong><st c="30625"> (</st><strong class="bold"><st c="30627">DDoS</st></strong><st c="30631">) attacks, or </st><span class="No-Break"><st c="30646">content injection.</st></span></p>
			<p><st c="30664">For example, a malicious person can launch a DDoS attack on your website right before an interview. </st><st c="30765">Then during the interview, when you mention it, the website is not available, making you </st><span class="No-Break"><st c="30854">look bad.</st></span></p>
			<p><st c="30863">Security is a </st><a id="_idIndexMarker106"/><st c="30878">huge topic, but some quick wins that you can implement are</st><a id="_idIndexMarker107"/><st c="30936"> AWS </st><strong class="bold"><st c="30941">Web Application Firewall</st></strong><st c="30965"> (</st><strong class="bold"><st c="30967">WAF</st></strong><st c="30970">) and</st><a id="_idIndexMarker108"/> <span class="No-Break"><st c="30976">AWS Shield.</st></span></p>
			<h3><st c="30988">Web Application Firewall</st></h3>
			<p><st c="31013">AWS WAF is a</st><a id="_idIndexMarker109"/><st c="31026"> web application firewall (not all AWS services are what the name implies) that helps to protect from common web exploits that could affect application availability, compromise security, or consume </st><span class="No-Break"><st c="31224">excessive resources.</st></span></p>
			<p><st c="31244">WAF is a managed service, and it offers managed rules </st><a id="_idIndexMarker110"/><st c="31299">called </st><strong class="bold"><st c="31306">rulesets</st></strong><st c="31314">. They are groups of security rules that protect you against common attacks and are automatically updated as new threats emerge. </st><st c="31443">This is especially useful if you are not a security expert, or if you don’t want to spend your time managing </st><span class="No-Break"><st c="31552">security rules.</st></span></p>
			<p><st c="31567">WAF is neatly integrated with CloudFront, and you can enable it by editing your CloudFront distribution. </st><st c="31673">It’s a one-click action. </st><st c="31698">Doing so creates a WAF web ACL for you with 3 Amazon-managed rulesets. </st><st c="31769">You can view them in your </st><span class="No-Break"><st c="31795">WAF console.</st></span></p>
			<p><st c="31807">You can add more rules to the created Web ACL, or if you want to, you can configure a custom web ACL and attach it to your </st><span class="No-Break"><st c="31931">CloudFront distribution.</st></span></p>
			<p><st c="31955">Your static website does not interact with user inputs. </st><st c="32012">In later chapters, as your application attack</st><a id="_idIndexMarker111"/><st c="32057"> surface increases, you will see more benefits </st><span class="No-Break"><st c="32104">of WAF.</st></span></p>
			<p><st c="32111">If you are</st><a id="_idIndexMarker112"/><st c="32122"> interested in implementing this feature, the AWS documentation details the whole </st><span class="No-Break"><st c="32204">process: </st></span><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-awswaf.html"><span class="No-Break"><st c="32213">https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/distribution-web-awswaf.html</st></span></a><span class="No-Break"><st c="32308">.</st></span></p>
			<h3><st c="32309">Shield</st></h3>
			<p><st c="32316">AWS Shield is</st><a id="_idIndexMarker113"/><st c="32330"> a managed DDoS protection service. </st><st c="32366">It is designed to safeguard applications running on AWS against DDoS attacks, which are attempts to make a website or application unavailable by overwhelming it with </st><span class="No-Break"><st c="32532">malicious traffic.</st></span></p>
			<p><st c="32550">Shield uses techniques such as traffic flow monitoring, network anomaly detection, and traffic scrubbing to identify and filter out </st><span class="No-Break"><st c="32683">malicious traffic.</st></span></p>
			<p><st c="32701">It has two offerings: </st><strong class="bold"><st c="32724">Standard</st></strong> <span class="No-Break"><st c="32732">and </st></span><span class="No-Break"><strong class="bold"><st c="32737">Advanced</st></strong></span><span class="No-Break"><st c="32745">.</st></span></p>
			<p><st c="32746">You are</st><a id="_idIndexMarker114"/><st c="32754"> already using Shield Standard. </st><st c="32786">This tier is automatically enabled for all AWS customers at no additional cost. </st><st c="32866">It shields you from the most common and frequently occurring DDoS attacks targeting </st><span class="No-Break"><st c="32950">web applications.</st></span></p>
			<p><st c="32967">Shield </st><a id="_idIndexMarker115"/><st c="32975">Advanced is an optional paid subscription that you can enable on a resource basis. </st><st c="33058">It provides additional detection and mitigation capabilities against more sophisticated and larger DDoS attacks, including those targeting higher layers (HTTP/HTTPS) and specific applications. </st><st c="33251">Shield Advanced integrates with services such as AWS WAF for more advanced </st><span class="No-Break"><st c="33326">security controls.</st></span></p>
			<p><st c="33344">We do </st><em class="italic"><st c="33351">not</st></em><st c="33354"> recommend that you enable Shield Advanced for this project. </st><st c="33415">It has a long subscription commitment, one year, and a big price tag for a personal project </st><span class="No-Break"><st c="33507">at $3,000/month.</st></span></p>
			<p><st c="33523">If you are interested in knowing more about </st><a id="_idIndexMarker116"/><st c="33568">AWS Shield, visit the AWS documentation at </st><a href="https://aws.amazon.com/shield/"><span class="No-Break"><st c="33611">https://aws.amazon.com/shield/</st></span></a><span class="No-Break"><st c="33641">.</st></span></p>
			<h2 id="_idParaDest-51"><a id="_idTextAnchor050"/><st c="33642">Having better observability</st></h2>
			<p><st c="33670">Logging </st><a id="_idIndexMarker117"/><st c="33679">refers to the process of recording events, messages, and other information generated by an application during its execution. </st><st c="33804">It is an essential practice in software development and operations as it provides insights into the behavior, performance, and potential issues of </st><span class="No-Break"><st c="33951">an application.</st></span></p>
			<p><st c="33966">You configured and verified metrics for your static website, but not logs. </st><st c="34042">S3, CloudFront, WAF, and other AWS services have the ability to </st><span class="No-Break"><st c="34106">generate logs.</st></span></p>
			<p><st c="34120">Consider enabling CloudFront access logs. </st><st c="34163">They are log files that contain detailed information about every user request that CloudFront receives. </st><st c="34267">You can enable access logs by editing your </st><span class="No-Break"><st c="34310">CloudFront distribution.</st></span></p>
			<p><st c="34334">CloudFront logs contain 33 fields. </st><st c="34370">Since that’s too many to list, some important ones to have in mind are </st><span class="No-Break"><st c="34441">as follows:</st></span></p>
			<ul>
				<li><span class="No-Break"><strong class="source-inline"><st c="34452">date</st></strong></span></li>
				<li><span class="No-Break"><strong class="source-inline"><st c="34457">time</st></strong></span></li>
				<li><strong class="source-inline"><st c="34462">c-ip</st></strong><st c="34467"> – the IP address of </st><span class="No-Break"><st c="34488">the viewer</st></span></li>
				<li><strong class="source-inline"><st c="34498">cs(UserAgent)</st></strong><st c="34512"> – the </st><span class="No-Break"><st c="34519">browser identifier</st></span></li>
				<li><strong class="source-inline"><st c="34537">x-edge-location</st></strong><st c="34553"> – the physical location the request </st><span class="No-Break"><st c="34590">entered from</st></span></li>
			</ul>
			<p class="callout-heading"><st c="34602">Important note</st></p>
			<p class="callout"><st c="34617">Although this feature might not seem very useful for this specific project, having an observable solution is considered an industry best practice. </st><st c="34765">You will regret not having logs at the time of </st><span class="No-Break"><st c="34812">troubleshooting issues.</st></span></p>
			<p><st c="34835">Logs can be written </st><a id="_idIndexMarker118"/><st c="34856">to various destinations, such as files, databases, or centralized logging services such as CloudWatch, Elasticsearch, or Splunk. </st><st c="34985">CloudFront logs are written to an S3 bucket of your choice. </st><st c="35045">If, later, you decide that you want to centralize your logs in CloudWatch, you can move them from S3. </st><st c="35147">AWS designed this architecture in a blog </st><span class="No-Break"><st c="35188">post: </st></span><a href="https://aws.amazon.com/blogs/mt/sending-cloudfront-standard-logs-to-cloudwatch-logs-for-analysis/"><span class="No-Break"><st c="35194">https://aws.amazon.com/blogs/mt/sending-cloudfront-standard-logs-to-cloudwatch-logs-for-analysis/</st></span></a><span class="No-Break"><st c="35291">.</st></span></p>
			<p><st c="35292">After you have access to your CloudFront log files, you can correlate them with your CloudWatch metrics and have a complete picture of your user experience. </st><st c="35450">For example, you will be able to tell, for the users having 4xx errors in </st><span class="No-Break"><em class="italic"><st c="35524">Figure 2</st></em></span><em class="italic"><st c="35532">.7</st></em><st c="35534">, which countries are they from, which browser versions are they running, and which SSL security ciphers they tried </st><span class="No-Break"><st c="35650">to negotiate.</st></span></p>
			<p><st c="35663">As mentioned, it’s also possible to enable logs for the other components of your architecture, such as S3. </st><st c="35771">Investigate the benefits of that on </st><span class="No-Break"><st c="35807">your own.</st></span></p>
			<p><st c="35816">If you are interested in implementing CloudFront access logs, the AWS documentation details the whole </st><span class="No-Break"><st c="35919">process: </st></span><a href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html"><span class="No-Break"><st c="35928">https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/AccessLogs.html</st></span></a><span class="No-Break"><st c="36010">.</st></span></p>
			<h2 id="_idParaDest-52"><a id="_idTextAnchor051"/><st c="36011">Final architecture</st></h2>
			<p><st c="36030">The final architecture, after </st><a id="_idIndexMarker119"/><st c="36061">enhancements, should look like the one in </st><span class="No-Break"><em class="italic"><st c="36103">Figure 2</st></em></span><em class="italic"><st c="36111">.9</st></em><st c="36113">. Notice the addition of WAF, Route 53, and Certificate Manager. </st><st c="36178">Your final architecture might look slightly different if you did not implement all </st><span class="No-Break"><st c="36261">the enhancements.</st></span></p>
			<div>
				<div id="_idContainer023" class="IMG---Figure">
					<img src="image/B22051_02_9.jpg" alt="Figure 2.9 – Final static website architecture with improvements"/><st c="36278"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><st c="36369">Figure 2.9 – Final static website architecture with improvements</st></p>
			<p><st c="36433">The final simplified traffic flow is </st><span class="No-Break"><st c="36471">as follows:</st></span></p>
			<ol>
				<li><st c="36482">The client enters your custom URL in </st><span class="No-Break"><st c="36520">its browser.</st></span></li>
				<li><st c="36532">Route 53 responds to the </st><span class="No-Break"><st c="36558">DNS query.</st></span></li>
				<li><st c="36568">The client’s browser sends the HTTP request to </st><span class="No-Break"><st c="36616">CloudFront IPs.</st></span></li>
				<li><st c="36631">The request is inspected </st><span class="No-Break"><st c="36657">by WAF.</st></span></li>
				<li><st c="36664">CloudFront replies to the request, and returns the </st><span class="No-Break"><st c="36716">static assets.</st></span></li>
				<li><st c="36730">The</st><a id="_idIndexMarker120"/><st c="36734"> client’s browser renders the </st><span class="No-Break"><st c="36764">website locally.</st></span></li>
			</ol>
			<p><st c="36780">All the components send metrics and logs to CW </st><span class="No-Break"><st c="36828">as configured.</st></span></p>
			<h1 id="_idParaDest-53"><a id="_idTextAnchor052"/><st c="36842">Summary</st></h1>
			<p><st c="36850">In this chapter, you learned what static websites are. </st><st c="36906">You also learned about the common files that compose them, such as HTML, CSS, and JavaScript. </st><st c="37000">You followed </st><a href="B22051_01.xhtml#_idTextAnchor014"><span class="No-Break"><em class="italic"><st c="37013">Chapter 1</st></em></span></a><st c="37022">’s methodology of requirements gathering, architecture patterns, service selection, and diagraming to draw the architecture of your own static website, a </st><span class="No-Break"><st c="37177">personal page.</st></span></p>
			<p><st c="37191">Then, using the AWS console, you </st><span class="No-Break"><st c="37225">built it.</st></span></p>
			<p><st c="37234">Lastly, you learned about multiple possible enhancements that can take your static website to a production-level website. </st><st c="37357">By now, you are capable of building globally distributed, highly available, highly resilient, secure </st><span class="No-Break"><st c="37458">static websites.</st></span></p>
			<p><st c="37474">In the next chapter, you are going to go beyond static websites and create a dynamic web application to share recipes. </st><st c="37594">You will put all your knowledge in static websites to use, but take it one </st><span class="No-Break"><st c="37669">step further.</st></span></p>
		</div>
	<div id="charCountTotal" value="37682"/>

		<div id="_idContainer025" class="Content">
			<h1 id="_idParaDest-54" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor053"/><st c="0">Part 2: Intermediate Level Projects</st></h1>
			<p><st c="36">In </st><em class="italic"><st c="40">Part 2</st></em><st c="46"> of this book, you are going to continue with what you have learned and built in </st><em class="italic"><st c="127">Part 1</st></em><st c="133">. However, this part has an increased level of difficulty. </st><st c="192">You will build four applications in a step-by-step manner powered by many different AWS services, including EC2, Lambda, API Gateway, Rekognition, and DynamoDB. </st><st c="353">By the end of this chapter, you will be able to autonomously build your own distributed </st><span class="No-Break"><st c="441">web applications.</st></span></p>
			<p><st c="458">This part has the </st><span class="No-Break"><st c="477">following chapters:</st></span></p>
			<ul>
				<li><a href="B22051_03.xhtml#_idTextAnchor054"><em class="italic"><st c="496">Chapter 3</st></em></a><st c="506">, </st><em class="italic"><st c="508">Building a Recipe-Sharing Application</st></em></li>
				<li><a href="B22051_04.xhtml#_idTextAnchor089"><em class="italic"><st c="545">Chapter 4</st></em></a><st c="555">, </st><em class="italic"><st c="557">Building a Serverless Recipe-Sharing Application</st></em></li>
				<li><a href="B22051_05.xhtml#_idTextAnchor123"><em class="italic"><st c="605">Chapter 5</st></em></a><st c="615">, </st><em class="italic"><st c="617">Implementing an Image Analyzer to Detect Photo Friendliness</st></em></li>
				<li><a href="B22051_06.xhtml#_idTextAnchor151"><em class="italic"><st c="676">Chapter 6</st></em></a><st c="686">, </st><em class="italic"><st c="688">Architecting a Content Translation Pipeline</st></em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer026">
			</div>
		</div>
	<div id="charCountTotal" value="731"/></body></html>