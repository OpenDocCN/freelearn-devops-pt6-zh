<html><head></head><body>
		<div id="_idContainer090">
			<h1 id="_idParaDest-163" class="chapter-number"><a id="_idTextAnchor210"/>8</h1>
			<h1 id="_idParaDest-164"><a id="_idTextAnchor211"/>Publishing to a Helm Chart Repository</h1>
			<p><strong class="bold">Helm</strong> could not be regarded as the package manager for <strong class="bold">Kubernetes</strong> without the concept of a <strong class="bold">Helm chart repository</strong>. Repositories are used to publish Helm charts to <a id="_idIndexMarker463"/>the community. In this chapter, we will understand different methods of creating a Helm chart repository. Later, we will get hands-on practice with different repository implementations by publishing our Guestbook Helm chart to an HTTP-based repository and an OCI registry.</p>
			<p>In this chapter, we will cover the following topics:</p>
			<ul>
				<li>Understanding Helm chart repositories</li>
				<li>Publishing to an HTTP repository</li>
				<li>Publishing to an OCI registry</li>
			</ul>
			<h1 id="_idParaDest-165"><a id="_idTextAnchor212"/>Technical requirements</h1>
			<p>For this chapter, you will need a GitHub account. If you already have a GitHub account, you can log in at <a href="https://github.com/login">https://github.com/login</a>. Otherwise, you can create a new account at <a href="https://github.com/join">https://github.com/join</a>.</p>
			<p>You should also clone the Packt Git repository locally:</p>
			<p class="source-code">$ git clone https://github.com/PacktPublishing/Managing-Kubernetes-Resources-using-Helm.git</p>
			<p>To begin, let’s understand the basics of a Helm chart repository.</p>
			<h1 id="_idParaDest-166"><a id="_idTextAnchor213"/>Understanding Helm chart repositories</h1>
			<p>Helm chart repositories are used for publishing Helm charts and making them available to a wide community <a id="_idIndexMarker464"/>of Helm users. This is conceptually similar to the repositories that are used in Linux package management, such as RPM or Debian repositories, in which packages are installed using tools such as <strong class="source-inline">dnf</strong> or <strong class="source-inline">apt-get</strong>. Public Helm <a id="_idIndexMarker465"/>chart repositories can be found at Artifact Hub (<a href="https://artifacthub.io">https://artifacthub.io</a>).</p>
			<p>A Helm chart repository is created using one of two high-level implementations:</p>
			<ul>
				<li>An HTTP server</li>
				<li>An OCI registry</li>
			</ul>
			<p>Using an HTTP server is the most <a id="_idIndexMarker466"/>common implementation for publishing charts since it has been in <a id="_idIndexMarker467"/>supported the <a id="_idIndexMarker468"/>longest. To create a Helm chart <a id="_idIndexMarker469"/>repository using <a id="_idIndexMarker470"/>an HTTP server, you can use tools <a id="_idIndexMarker471"/>such as <strong class="bold">Apache httpd</strong>, <strong class="bold">NGINX,</strong> <strong class="bold">Amazon S3</strong>, and <strong class="bold">GitHub Pages</strong>. <strong class="bold">ChartMuseum</strong> (<a href="https://github.com/helm/chartmuseum">https://github.com/helm/chartmuseum</a>) is another popular <a id="_idIndexMarker472"/>option as it provides an API for more advanced operations. In the <em class="italic">Publishing to an HTTP repository</em> section, we will use GitHub Pages to create our repository.</p>
			<p>A repository that’s been created using an HTTP server must consist of the following components:</p>
			<ul>
				<li>Helm charts, packaged as <strong class="source-inline">.tgz</strong> archives</li>
				<li>An <strong class="source-inline">index.yaml</strong> file, containing metadata about the charts contained in the repository</li>
			</ul>
			<p>Basic chart repositories require maintainers to generate <strong class="source-inline">index.yaml</strong> files using the <strong class="source-inline">helm repo index</strong> command, which we will explore later, but more advanced solutions such as ChartMuseum can automatically generate the <strong class="source-inline">index.yaml</strong> file when new charts are uploaded to the repository.</p>
			<p>Besides HTTP, the <a id="_idIndexMarker473"/>other type of repository a Helm chart maintainer can distribute charts to is an <strong class="bold">Open Container Initiative</strong> (<strong class="bold">OCI</strong>) registry. OCI is an open governance structure for creating open standards for <a id="_idIndexMarker474"/>container runtimes and formats. Artifacts is an OCI initiative that allows you to store and serve additional content, such as Helm charts, within container registries aside from container images. Since images and their registries are already a fundamental construct in both Kubernetes <a id="_idIndexMarker475"/>and Helm, the ability to leverage the same registry to store both container images and Helm charts reduces the amount of effort needed by Helm maintainers to publish charts. We will explore publishing Helm charts using OCI registries in greater detail in the <em class="italic">Publishing to an OCI registry</em> section.</p>
			<p>In the next section, we’ll publish our Guestbook Helm chart to GitHub Pages. Here, you will get an understanding of how a basic Helm chart repository is created and interacted with.</p>
			<h1 id="_idParaDest-167"><a id="_idTextAnchor214"/>Publishing to an HTTP repository</h1>
			<p>GitHub Pages is a feature <a id="_idIndexMarker476"/>within GitHub that allows you to serve static content <a id="_idIndexMarker477"/>from a repository. In this <a id="_idIndexMarker478"/>section, we’ll create a new GitHub repository with Pages enabled to publish our Guestbook Helm chart.</p>
			<p>To follow the example in this section, you must have a GitHub account. Directions for creating a GitHub account or logging into an existing one were provided in the <em class="italic">Technical requirements</em> section.</p>
			<p>Once you are logged into GitHub, continue to the next section to create your repository.</p>
			<h2 id="_idParaDest-168"><a id="_idTextAnchor215"/>Creating a GitHub Pages repository</h2>
			<p>Follow these <a id="_idIndexMarker479"/>steps to create a GitHub Pages repository:</p>
			<ol>
				<li>Go to <a href="https://github.com/new">https://github.com/new</a> and access the <strong class="bold">Create a new repository</strong> page.</li>
				<li>Provide a name for your chart repository. We suggest <strong class="source-inline">Chart-Repository-Example</strong>.</li>
				<li>Select the checkbox next to <strong class="bold">Initialize this repository with a README</strong>. This is required because GitHub does not allow you to create a static site if it does not contain <a id="_idIndexMarker480"/>any content. You can leave the rest of the settings at their default values. Note that to leverage GitHub Pages, you must leave the privacy setting set to <strong class="bold">Public</strong> unless you have a paid GitHub Pro account.</li>
			</ol>
			<p>Your <strong class="bold">Create a new repository</strong> page should now look as follows:</p>
			<div>
				<div id="_idContainer086" class="IMG---Figure">
					<img src="image/Figure_8.01_B17979.jpg" alt="Figure 8.1 – Creating a new GitHub repository&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.1 – Creating a new GitHub repository</p>
			<ol>
				<li value="4">Click the <strong class="bold">Create repository</strong> button to create your repository.</li>
			</ol>
			<p>Although your repository has been created, it is not ready to serve Helm charts until GitHub Pages is enabled.</p>
			<ol>
				<li value="5">Click the <strong class="bold">Settings</strong> tab within your repository to access your repository settings. From there, select the <strong class="bold">Pages</strong> tab from the left-hand column. Then, under <strong class="bold">Source</strong>, select the <strong class="bold">main</strong> option from the drop-down list. Finally, click the <strong class="bold">Save</strong> button. This <a id="_idIndexMarker481"/>will instruct GitHub to create a static site that serves the contents of your main branch.</li>
			</ol>
			<p>At this point, your screen should look similar to the following:</p>
			<div>
				<div id="_idContainer087" class="IMG---Figure">
					<img src="image/Figure_8.02_B17979.jpg" alt="Figure 8.2 – Finding GitHub Pages settings&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.2 – Finding GitHub Pages settings</p>
			<p>Now that you have configured your GitHub repository, you should clone it to your local machine so that you can add the Guestbook Helm chart to it later. Follow these steps to clone <a id="_idIndexMarker482"/>your repository:</p>
			<ol>
				<li value="1">Navigate to the root of your repository by selecting the <strong class="bold">Code</strong> tab at the top of the page.</li>
				<li>Select the green <strong class="bold">Clone or download</strong> button. This will reveal the URI to your GitHub repository (note that this is not the same as the URL for the static site). You can use the following screenshot as a reference to find your repository URI:</li>
			</ol>
			<div>
				<div id="_idContainer088" class="IMG---Figure">
					<img src="image/Figure_8.03_B17979.jpg" alt="Figure 8.3 – Locating the git URI&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.3 – Locating the git URI</p>
			<ol>
				<li value="3">Once you have acquired your repository’s URI, clone the repository to your local machine. You may want to ensure you are in your home directory first before you clone <a id="_idIndexMarker483"/>to ensure you do not accidentally clone to an existing git repo:<p class="source-code"><strong class="bold">$ cd ~</strong></p><p class="source-code"><strong class="bold">$ git clone &lt;repository URI&gt;</strong></p></li>
			</ol>
			<p>Now that you have cloned the repository, you can publish your Guestbook chart.</p>
			<h2 id="_idParaDest-169"><a id="_idTextAnchor216"/>Publishing the Guestbook chart</h2>
			<p>Publishing a <a id="_idIndexMarker484"/>Helm chart to an HTTP <a id="_idIndexMarker485"/>repository consists of a three-step process:</p>
			<ol>
				<li value="1">Packaging the Helm chart as a <strong class="source-inline">.tgz</strong> archive</li>
				<li>Generating an <strong class="source-inline">index.yaml</strong> file</li>
				<li>Uploading the <strong class="source-inline">.tgz</strong> archive and the <strong class="source-inline">index.yaml</strong> file to the server</li>
			</ol>
			<p>Helm provides several different commands to make the publishing process a simple task. We’ll walk through these commands in this section.</p>
			<p>First, you can use the <strong class="source-inline">helm package</strong> command to package your chart into a <strong class="source-inline">.tgz</strong> archive. We’ll use the Guestbook chart located in the Packt Git repository at <strong class="source-inline">chapter8/guestbook</strong> as part of this example:</p>
			<p class="source-code">$ helm dependency update chapter8/guestbook</p>
			<p class="source-code">$ helm package guestbook chapter8/guestbook</p>
			<p>If these commands execute successfully, a file called <strong class="source-inline">guestbook-0.1.0.tgz</strong> will be created.</p>
			<p>Note that <a id="_idIndexMarker486"/>we executed the <strong class="source-inline">helm dependency update</strong> command before running <strong class="source-inline">helm package</strong>. This is because <a id="_idIndexMarker487"/>the Guestbook chart must have the dependencies downloaded first to be included in the archive. To simplify this, we could have combined the previous two commands into a single step by providing an additional flag to the <strong class="source-inline">helm package</strong> command:</p>
			<p class="source-code">$ helm package chapter8/guestbook --dependency-update</p>
			<p>This would ensure that the dependencies are included in the final package.</p>
			<p>Once your chart has been packaged, the resulting <strong class="source-inline">.tgz</strong> file should be copied to your local GitHub Pages repository clone. This can be done by using the <strong class="source-inline">cp</strong> command:</p>
			<p class="source-code">$ cp guestbook-0.1.0.tgz &lt;GitHub Pages repository clone&gt;</p>
			<p>When this file is copied, you can use the <strong class="source-inline">helm repo index</strong> command to generate the <strong class="source-inline">index.yaml</strong> file. This command takes the location of your chart repository clone as an argument. Run the following command to generate your <strong class="source-inline">index.yaml</strong> file:</p>
			<p class="source-code">$ helm repo index &lt;GitHub Pages repository clone&gt;</p>
			<p>The command will succeed quietly, but you will see the new <strong class="source-inline">index.yaml</strong> file inside your GitHub Pages clone. The contents of this file provide the Guestbook chart metadata and will look as follows:</p>
			<pre class="source-code">
apiVersion: v1
entries:
  guestbook:
  - apiVersion: v2
    appVersion: v5
    created: "2022-02-20T04:13:36.052015-05:00"
    dependencies:
    - condition: redis.enabled
      name: redis
      repository:  https://raw.githubusercontent.com/bitnami/charts/archive-full-index/bitnami
      version: 15.5.x
    description: An application used for keeping a running record of guests
    digest: 983dee22d05be37fb73cf6a06fa5a2b2c320c1678ad6a8 df3d198a403f467343
    name: guestbook
    type: application
    urls:
    - guestbook-0.1.0.tgz
    version: 0.1.0
generated: "2022-02-20T04:13:36.045492-05:00"</pre>
			<p>If additional <a id="_idIndexMarker488"/>charts were added to this <a id="_idIndexMarker489"/>repository, their metadata would be listed in this file as well.</p>
			<p>Your Helm chart repository should now contain the <strong class="source-inline">.tgz</strong> archive and the <strong class="source-inline">index.yaml</strong> file, with the contents listed similar to the output from the following command:</p>
			<p class="source-code">$ ls &lt;GitHub Pages repository clone&gt;</p>
			<p class="source-code">README.md guestbook-0.1.0.tgz index.yaml</p>
			<p>To finish <a id="_idIndexMarker490"/>the publishing process, you <a id="_idIndexMarker491"/>should commit and push these files to GitHub using the following commands:</p>
			<p class="source-code">$ cd &lt;GitHub Pages repository clone&gt;</p>
			<p class="source-code">$ git add --all</p>
			<p class="source-code">$ git commit –m "publishing the guestbook helm chart"</p>
			<p class="source-code">$ git push origin main</p>
			<p>Once you have pushed to the remote repository, your Guestbook Helm chart will be served from the GitHub Pages static site. We can verify this is working properly by adding our repository and performing a search.</p>
			<p>First, find your GitHub Pages site URL. This URL was displayed in the <strong class="bold">Settings</strong> tab and takes the form of <strong class="source-inline">https://&lt;github username&gt;.github.io/Chart-Repository-Example/</strong>. Once you have identified the URL, use it to add the chart repository:</p>
			<p class="source-code">$ helm repo add example &lt;GitHub Pages Site URL&gt;</p>
			<p>This command will allow Helm to interact with your repository. You can verify that your chart was published successfully by searching for the Guestbook chart against your locally configured repos. This can be done by running the following command:</p>
			<p class="source-code">$ helm search repo guestbook</p>
			<p>You should find the example Guestbook chart that was returned in the search output.</p>
			<p>Congratulations! You have published the Guestbook chart to your Helm chart repository. Note that while we have published our chart to an unauthenticated repository in this chapter, we will explore authentication and security in detail in <a href="B17979_12.xhtml#_idTextAnchor270"><em class="italic">Chapter 12</em></a>, <em class="italic">Helm Security Considerations</em>.</p>
			<p>In the next section, we will explore OCI registry support and publish our Guestbook chart to a container registry.</p>
			<h1 id="_idParaDest-170"><a id="_idTextAnchor217"/>Publishing to an OCI registry</h1>
			<p>Publishing a <a id="_idIndexMarker492"/>Helm chart to an OCI registry follows a similar workflow to the one you would follow <a id="_idIndexMarker493"/>when working with a standard container image. Commands such as <strong class="source-inline">docker login</strong>, <strong class="source-inline">docker pull</strong>, and <strong class="source-inline">docker push</strong> have analogous commands in Helm. These commands and their descriptions can be seen in the following table:</p>
			<table id="table001-8" class="No-Table-Style _idGenTablePara-1">
				<colgroup>
					<col/>
					<col/>
				</colgroup>
				<tbody>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="bold">Command</strong></p>
						</td>
						<td class="No-Table-Style">
							<p><strong class="bold">Description</strong></p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">helm registry login</strong></p>
						</td>
						<td class="No-Table-Style">
							<p>Log in to a registry</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">helm registry logout</strong></p>
						</td>
						<td class="No-Table-Style">
							<p>Log out of a registry</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">helm push</strong></p>
						</td>
						<td class="No-Table-Style">
							<p>Push a packaged chart to a registry</p>
						</td>
					</tr>
					<tr class="No-Table-Style">
						<td class="No-Table-Style">
							<p><strong class="source-inline">helm pull</strong></p>
						</td>
						<td class="No-Table-Style">
							<p>Pull a chart from a registry</p>
						</td>
					</tr>
				</tbody>
			</table>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Table 8.1 – Helm commands for OCI management</p>
			<p>Note that full support for OCI-based charts became available in version 3.8.0. Before this version, it was included as an experimental feature and required an environment variable to be present to activate the feature. If you are using a version older than 3.8.0, the <strong class="source-inline">HELM_EXPERIMENTAL_OCI=1</strong> environment variable must be set, as shown here:</p>
			<p class="source-code">$ export HELM_EXPERIMENTAL_OCI=1</p>
			<p>The <strong class="source-inline">helm pull</strong> command is just one example where OCI-based charts can be used interchangeably with charts sourced from different locations (such as an HTTP repository or a local filesystem). Other Helm commands that can be used in this manner include the following:</p>
			<ul>
				<li><strong class="source-inline">helm show</strong></li>
				<li><strong class="source-inline">helm template</strong></li>
				<li><strong class="source-inline">helm install</strong></li>
				<li><strong class="source-inline">helm upgrade</strong></li>
			</ul>
			<p>OCI-based charts can be differentiated from other sources by specifying the OCI protocol (<strong class="source-inline">oci://</strong>) as part of a chart’s location. For example, a chart sourced from a registry at <strong class="source-inline">localhost:5000/helm-charts/mychart</strong> is referenced in Helm as <strong class="source-inline">oci://localhost:5000/helm-charts/mychart</strong>.</p>
			<p>It is also <a id="_idIndexMarker494"/>important to note that while OCI artifacts can be served within the same registry alongside container <a id="_idIndexMarker495"/>images, not every registry fully supports the OCI artifact specification, so it cannot store OCI-based helm charts. Consult the documentation of the registry distribution beforehand.</p>
			<p>To demonstrate how to interact with OCI-based helm charts, we can use the Guestbook chart and store it in an OCI registry. First, we must determine the registry where the chart should be stored. Since we are not only using GitHub to store the raw source code for our charts as it also acts as our Helm repository, the Container Registry provided as part of the GitHub packages offering can act as an OCI registry for helm charts. OCI artifacts are fully supported by the container registry, which is one less concern that we need to worry about.</p>
			<p>To publish content to the container registry, a <strong class="bold">Personal Account Token</strong> (<strong class="bold">PAT</strong>) must be created. Follow <a id="_idIndexMarker496"/>these steps to create a PAT with the necessary permissions to push and pull images:</p>
			<ol>
				<li value="1">Once logged into GitHub, at the top right corner of the page, select your profile picture and click <strong class="bold">Settings</strong> from the dropdown.</li>
				<li>Click <strong class="bold">Developer Settings</strong> and select <strong class="bold">Personal Account Token</strong>.</li>
				<li>Click the <strong class="bold">Generate New Token</strong> button to initiate the token creation process.</li>
				<li>Enter a unique name for the token, such as <strong class="source-inline">Learn Helm</strong>.</li>
				<li>Select the date the token will expire.</li>
				<li>Select the scopes (permissions) that will be granted to the token. The following scopes are required for managing content within the container registry:<ul><li><strong class="source-inline">read:packages</strong></li><li><strong class="source-inline">write:packages</strong></li><li><strong class="source-inline">delete:packages</strong></li></ul></li>
				<li>Click <a id="_idIndexMarker497"/>the <strong class="bold">Generate Token</strong> button to create the token.</li>
			</ol>
			<p>Be sure to copy the generated token as it cannot be retrieved once you’ve navigated away from the page. </p>
			<p>Before interacting with the container registry, it is important to note how content is organized within the registry. While these details are specific to the GitHub service, these concepts can be applied to any container registry. Content is stored in the <strong class="source-inline">ghcr.io/&lt;OWNER&gt;/&lt;ARTIFACT&gt;</strong> format. <strong class="source-inline">OWNER</strong>, in this situation, represents the name of a user account or GitHub organization.  </p>
			<p>The primary reason why these details are so important is that Helm imposes a strict naming convention that is applied to OCI-based charts. Unlike publishing other artifacts to a container registry, where the repository name and tag can be specified, the repository name and tag are determined automatically based on the chart’s name and semantic version, as defined in the <strong class="source-inline">Chart.yaml</strong> file. For example, a chart named <strong class="source-inline">mychart</strong> with version 0.1.0 would be stored in the GitHub container registry for a user named <strong class="source-inline">jdoe</strong> at <strong class="source-inline">ghcr.io/jdoe/mychart:0.1.0</strong>. </p>
			<p>Now that <a id="_idIndexMarker498"/>we understand how charts are organized within OCI registries, let’s push the chart <a id="_idIndexMarker499"/>we created previously to the GitHub registry. The first step is to log in to the registry using the PAT that we created previously using the <strong class="source-inline">helm registry login</strong> command.</p>
			<p>The <strong class="source-inline">helm registry login</strong> command takes the following form:</p>
			<p class="source-code">$ helm registry login &lt;registry&gt;</p>
			<p>To log in to the GitHub registry, execute the following command:</p>
			<p class="source-code">$ helm registry login ghcr.io</p>
			<p>Enter your GitHub username and the PAT as the password when prompted. A <strong class="bold">Login Succeeded</strong> response will be returned upon successful authentication. <strong class="source-inline">–-username</strong>, along with either the <strong class="source-inline">--password</strong> or <strong class="source-inline">--password-stdin</strong> flag, can be used to perform non-interactive authentication. </p>
			<p>Now that we are logged in to the remote registry, we can push the previously created Helm chart <a id="_idIndexMarker500"/>to the remote registry using the <strong class="source-inline">helm push</strong> command. <strong class="source-inline">helm push</strong> requires a <a id="_idIndexMarker501"/>location of an already packaged chart to be provided, along with the destination registry, as shown here:</p>
			<p class="source-code">$ helm push &lt;location_of_tgz_helm_package&gt; &lt;registry/reference&gt;</p>
			<p>Signed charts are also supported, so long as the provenance (<strong class="source-inline">.prov</strong>) file is located in the same directory as the packaged chart. No additional configuration or flags to the <strong class="source-inline">helm push</strong> command are needed. Provenance and chart signing will be discussed in greater detail in <a href="B17979_12.xhtml#_idTextAnchor270"><em class="italic">Chapter 12</em></a>, <em class="italic">Helm Security Considerations</em>.</p>
			<p>Push the packaged Guestbook chart to GitHub’s container registry:</p>
			<p class="source-code">$ helm push guestbook-0.1.0.tgz oci://ghcr.io/&lt;OWNER&gt;</p>
			<p class="source-code">Pushed: ghcr.io/&lt;OWNER&gt;/guestbook:&lt;version&gt;</p>
			<p class="source-code">Digest: sha256:&lt;SHA&gt;</p>
			<p>Once the chart has been pushed, it can be viewed within GitHub via the <strong class="bold">Packages</strong> tab of your user profile. From any page within GitHub, select your profile picture at the top-right corner of the page and select <strong class="bold">Your Profile</strong>. The <strong class="bold">Packages</strong> tab can be found at the top of the page.</p>
			<p>After clicking on the <strong class="bold">Packages</strong> tab, the chart that you pushed previously should be visible, as shown in the following screenshot:</p>
			<div>
				<div id="_idContainer089" class="IMG---Figure">
					<img src="image/Figure_8.04_B17979.jpg" alt="Figure 8.4 – The Packages tab in GitHub&#13;&#10;"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.4 – The Packages tab in GitHub</p>
			<p>By default, newly created packages are private and cannot be accessed by others.  This configuration <a id="_idIndexMarker502"/>can be changed by selecting the package and, from the <strong class="bold">Details</strong> page, selecting <strong class="bold">Package Settings</strong> on <a id="_idIndexMarker503"/>the far right. Select <strong class="bold">Change Visibility</strong> in the <strong class="bold">Danger Zone</strong> section and select <strong class="bold">Public</strong>. </p>
			<p>Alternatively, individual users or teams can be specified instead of changing the visibility if you wish to restrict access to the helm chart.</p>
			<h2 id="_idParaDest-171"><a id="_idTextAnchor218"/>Pulling the OCI Guestbook chart</h2>
			<p>Pulling Helm charts from OCI registries is just as easy as publishing them and the <strong class="source-inline">helm pull</strong> command <a id="_idIndexMarker504"/>can be used to do this. The options found in the <strong class="source-inline">helm pull</strong> command are the same for OCI charts as they are for charts either located within chart repositories or located on the filesystem. Of the various options available, the <strong class="source-inline">--version</strong> flag allows the user to specify the chart to be received. Otherwise, the most recent version per SemVer convention is selected.</p>
			<p>Pull the previously published chart from the GitHub container registry, as shown here:</p>
			<p class="source-code">$ helm pull oci://ghcr.io/&lt;OWNER&gt;/guestbook --version 0.1.0</p>
			<p>The most <a id="_idIndexMarker505"/>recent version of the chart will be retrieved from the registry and the packaged chart (<strong class="source-inline">.tgz</strong>) will be stored locally. </p>
			<h1 id="_idParaDest-172"><a id="_idTextAnchor219"/>Summary</h1>
			<p>After doing some hard work on developing a Helm chart, nothing beats the feeling of finally publishing your Helm chart to a repository for the world to see! In this chapter, we learned about HTTP and OCI Helm chart repositories. HTTP repositories allow you to publish your charts to simple web servers, while OCI registries allow you to publish your Helm charts alongside your container images. To practice, we published the Guestbook Helm chart to GitHub Pages (an HTTP server) and GitHub’s container registry (an OCI registry).</p>
			<p>In the next chapter, we will learn about the tooling and strategies behind testing Helm charts.</p>
			<h1 id="_idParaDest-173"><a id="_idTextAnchor220"/>Further reading</h1>
			<p>To learn more about Helm chart repositories, visit the <em class="italic">Chart Repository Guide</em> section of the Helm documentation: <a href="https://helm.sh/docs/topics/chart_repository/#helm">https://helm.sh/docs/topics/chart_repository/#helm</a>.</p>
			<p>To learn more about OCI support, visit the documentation’s <em class="italic">Registries</em> section: <a href="https://helm.sh/docs/topics/registries/">https://helm.sh/docs/topics/registries/</a>.</p>
			<h1 id="_idParaDest-174"><a id="_idTextAnchor221"/>Questions</h1>
			<p>Answer the following questions to test your knowledge of this chapter:</p>
			<ol>
				<li value="1">What are three different tools you can use to create an HTTP repository?</li>
				<li>What command can you run to ensure that dependencies are always included in the <strong class="source-inline">.tgz</strong> archive?</li>
				<li>What files are required when publishing to an HTTP server?</li>
				<li>How is the process of publishing to an HTTP repository different from publishing to an OCI registry?</li>
				<li>What Helm command is used to publish to an OCI registry?</li>
				<li>What Helm command is used to download a Helm chart from an OCI registry?</li>
			</ol>
		</div>
		<div>
			<div id="_idContainer091">
			</div>
		</div>
	</body></html>