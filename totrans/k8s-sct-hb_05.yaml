- en: '5'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '5'
- en: Security, Auditing, and Compliance
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安全性、审计与合规性
- en: 'In the previous chapters, we established the foundations from a design, implementation,
    and operational perspective to address the challenges of Kubernetes Secrets management.
    We also highlighted key areas of concern by peeling each layer of our full-stack
    infrastructure onion while considering paths to reduce or even mitigate security
    exposures. However, no matter how much effort we put into motion, the following
    questions will always float around:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在前几章中，我们从设计、实施和运营的角度，建立了应对 Kubernetes Secrets 管理挑战的基础。我们还通过逐层剖析完整的基础设施，突出了关键关注点，同时考虑减少或缓解安全暴露的路径。然而，无论我们投入多少努力，以下问题始终会浮现：
- en: How can our IT environments be secured enough?
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的 IT 环境如何才能足够安全？
- en: What are the best practices from a control and audit perspective?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从控制和审计的角度，最佳实践是什么？
- en: What are my **Chief Information Security Officer** (**CISO**) requirements?
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的 **首席信息安全官** (**CISO**) 要求是什么？
- en: This chapter kicks off the advanced topics of this handbook with a reversed
    approach based on the last question, “*What are my CISO team requirements?*” The
    answer is usually in the form of another question, such as “*What are the regulations
    that my organization has to comply with?*”, which implies a legal perspective.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章通过基于最后一个问题的逆向方法，开启本手册的高级主题，“*我的 CISO 团队的要求是什么？*” 这个问题的答案通常是以另一个问题的形式出现，比如“*我的组织必须遵守哪些规定？*”，这暗示了一个法律视角。
- en: 'In this chapter, we will expand on the following topics:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将扩展以下主题：
- en: Understanding cybersecurity versus cyber risk management
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解网络安全与网络风险管理的区别
- en: The most common compliance standards
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最常见的合规标准
- en: Best practices for controlling, auditing, and mitigating security risks
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 控制、审计和缓解安全风险的最佳实践
- en: By the end of this chapter, you will know how to address the security concerns
    at the people, process, and technology levels through a simple reusable blueprint.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 到本章结束时，你将知道如何通过一个简单的可重用蓝图，在人员、流程和技术层面解决安全问题。
- en: Technical requirements
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: 'To complete the hands-on parts of this chapter, we will be leveraging a series
    of tools and platforms that are commonly used to interact with containers, Kubernetes,
    and Secrets management. For this chapter, we will be continuing with the same
    set of tools:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 为了完成本章的实践部分，我们将利用一系列常用工具和平台，这些工具和平台通常用于与容器、Kubernetes 和 Secrets 管理进行交互。在本章中，我们将继续使用相同的工具集：
- en: '`systemd` at the user level to autostart containers/Pods.'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`systemd` 在用户级别用于自动启动容器/Pods。'
- en: '**Podman Desktop** ([https://podman-desktop.io](https://podman-desktop.io))
    is open source software that provides a graphical user interface for building,
    starting, and debugging containers, running local Kubernetes instances, easing
    the migration from containers to Pods, and even connecting with remote platforms
    such as Red Hat OpenShift, Azure Kubernetes Engine, and more.'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Podman Desktop** ([https://podman-desktop.io](https://podman-desktop.io))
    是一个开源软件，提供图形用户界面，用于构建、启动和调试容器，运行本地 Kubernetes 实例，简化从容器到 Pod 的迁移，甚至能够与远程平台如 Red
    Hat OpenShift、Azure Kubernetes Engine 等连接。'
- en: '**Git** ([https://git-scm.com](https://git-scm.com)) is a version control system
    that we will be using to cover this book’s examples but also leverage in our discovery
    of Secrets management solutions.'
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Git** ([https://git-scm.com](https://git-scm.com)) 是一个版本控制系统，我们将用它来展示本书中的示例，并在发现
    Secrets 管理解决方案的过程中加以利用。'
- en: '**Kube-bench** ([https://github.com/aquasecurity/kube-bench](https://github.com/aquasecurity/kube-bench))
    is a community tool that can measure your Kubernetes cluster against the CIS Benchmarks.'
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kube-bench** ([https://github.com/aquasecurity/kube-bench](https://github.com/aquasecurity/kube-bench))
    是一个社区工具，用于根据 CIS 基准对 Kubernetes 集群进行测量。'
- en: '**Compliance Operator** ([https://github.com/ComplianceAsCode/compliance-operator](https://github.com/ComplianceAsCode/compliance-operator))
    is a community tool that measures and remediates security controls on the Kubernetes
    cluster.'
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**合规操作员** ([https://github.com/ComplianceAsCode/compliance-operator](https://github.com/ComplianceAsCode/compliance-operator))
    是一个社区工具，用于测量并修复 Kubernetes 集群上的安全控制。'
- en: '**HashiCorp Vault** ([https://www.vaultproject.io/community](https://www.vaultproject.io/community))
    is a community Vault with an Enterprise offering for storing credentials, tokens,
    and more safely.'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HashiCorp Vault** ([https://www.vaultproject.io/community](https://www.vaultproject.io/community))
    是一个社区版 Vault，提供企业版服务，用于安全存储凭证、令牌等信息。'
- en: '**Trousseau** ([https://trousseau.io](https://trousseau.io)) is a KMS provider
    plugin that leverages external KMSs such as HashiCorp Vault, Azure Key Vault,
    and their AWS equivalents.'
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Trousseau** ([https://trousseau.io](https://trousseau.io)) 是一个KMS提供商插件，利用外部KMS，如HashiCorp
    Vault、Azure Key Vault及其AWS等效服务。'
- en: 'This book’s GitHub repository contains the digital material linked to this
    book: [https://github.com/PacktPublishing/Kubernetes-Secrets-Handbook](https://github.com/PacktPublishing/Kubernetes-Secrets-Handbook).'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的GitHub仓库包含与本书相关的数字资料：[https://github.com/PacktPublishing/Kubernetes-Secrets-Handbook](https://github.com/PacktPublishing/Kubernetes-Secrets-Handbook)。
- en: Cybersecurity versus cyber risk
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络安全与网络风险
- en: While (cyber)security and cyber risk have more than enough publications, they
    are often mistaken to be the same thing.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管（网络）安全和网络风险的出版物多得足够，但它们常常被误认为是相同的概念。
- en: The purpose of this section is to help you reflect on reshaping the traditional
    understanding of *doing* security from an IT-centric perspective to *practicing*
    security while having a holistic understanding of the organization’s needs and
    requirements. This will help you perform a dynamic risk management assessment
    for appropriate security measure implementation.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 本节的目的是帮助你反思如何将传统的*做*安全方式从以IT为中心的视角转变为*实践*安全，并全面理解组织的需求与要求。这将帮助你进行动态风险管理评估，以便实施适当的安全措施。
- en: Cybersecurity
  id: totrans-25
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络安全
- en: 'Most organizations assign the security domain to their respective IT departments
    by designating a set of limited individuals almost working in isolation. Doing
    so introduces three limitations to their cybersecurity mission:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数组织将安全领域划分给各自的IT部门，指定一组几乎是孤立工作的有限人员。这样做会给他们的网络安全任务带来三个限制：
- en: A limited scope only related to the infrastructure stack with no or limited
    consideration to critical business applications
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅限于与基础设施堆栈相关的有限范围，且对关键业务应用的考虑很少或没有考虑
- en: Limited knowledge of the organization’s business continuity plan
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对组织业务连续性计划的了解有限
- en: The operations team has limited capabilities to respond appropriately to a security
    incident
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 运维团队应对安全事件的响应能力有限
- en: 'This model has a twofold approach:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型有双重方法：
- en: Incident-driven or reactive
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 以事件为驱动或反应式
- en: Lock everything down to address the reduced capabilities to monitor and discover
    security breaches
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 封锁一切以应对监控和发现安全漏洞的能力减少
- en: Since security is seen as a constraint by all IT staff, from developers to operations
    of all domains, drastic changes will be made either on an internal incident basis
    or when there is a public reference within the same industry.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 由于安全性被所有IT人员视为一种约束，从开发人员到各个领域的运维人员，都将会在内部事故发生时或当同一行业内有公开参考时做出剧烈的变化。
- en: Some argue that they have monitoring and processes in place that help identify
    and drive incidents to resolution. They also agree that there is a lack of fire
    drills to train their IT staff, a similar situation to the **Disaster Recovery**
    **Plan** (**DRP**).
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 有些人认为他们已部署了监控和流程，能够帮助识别并推动事件解决。他们也同意缺少应急演练来训练IT人员，这与**灾难恢复**计划（**DRP**）类似。
- en: 'In our fast-paced digital economy, this cybersecurity model does not respond
    appropriately to our three questions:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们快速发展的数字经济中，这种网络安全模型无法有效回应我们的三个问题：
- en: How can our IT environments be secured enough?
  id: totrans-36
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的IT环境能被安全到什么程度？
- en: What are the best practices from a control and audit perspective?
  id: totrans-37
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从控制和审计的角度来看，最佳实践是什么？
- en: What are my CISO’s requirements?
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的CISO有哪些要求？
- en: A typical example of ensuring security within this model would be implementing
    a strong login credential policy, including a 30-day password update with additional
    multi-factor authentication with limited integration with the organization’s resources.
    This solution might fit an engineering team working on development but not the
    business team, who mainly uses web-based solutions that time out within a short
    period.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 确保该模型安全的一个典型例子是实施强密码政策，包括30天更换密码并附加多重身份验证，且与组织资源的集成有限。这种解决方案可能适用于开发团队，但不适用于主要使用短时效网页解决方案的业务团队。
- en: Cyber risk
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 网络风险
- en: 'A different approach must be considered here: risk management from a business
    angle to address the governance and compliance requirements of each organization
    department. This will help prioritize the design and implementation of security
    measures while acquiring the appropriate skills at the organizational level. This
    approach demands an understanding of the organization’s mechanics, from finance
    to post-sales support, to prevent technical experts under/over-investing in security
    tools that are inefficient for the different business units.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里必须考虑一种不同的方法：从业务角度进行风险管理，以应对各个组织部门的治理和合规要求。这将帮助在设计和实施安全措施时进行优先级排序，同时确保在组织层面获得适当的技能。这种方法要求对组织的运作有深入了解，从财务到售后支持，以防技术专家对安全工具的投资过少或过多，导致不同业务单位的安全工具效率低下。
- en: 'Like a DRP, cyber risk management is about defining the minimal set of requirements
    to enable the organization to achieve its business goals, even in the case of
    a cyber-attack. When building such governance, not only must we answer the three
    aforementioned questions but also get the board to ask each executive the following:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 像灾难恢复计划（DRP）一样，网络风险管理的目标是定义最小的要求集，以使组织能够在遭遇网络攻击时依然实现其业务目标。在构建这种治理框架时，我们不仅要回答前面提到的三个问题，还需要让董事会要求每个高管回答以下问题：
- en: '**CEO**: What would be the brand damage of a security breach?'
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**首席执行官（CEO）**：安全漏洞会对品牌造成多大损害？'
- en: '**CFO**: What would be the financial impact of a security breach?'
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**首席财务官（CFO）**：安全漏洞会带来多大的财务影响？'
- en: '**CISO**: Are we prioritizing our investment to improve our security posture?'
  id: totrans-45
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**首席信息安全官（CISO）**：我们是否在优先投资以改善我们的安全态势？'
- en: '**COO**: Would our customers/partners trust doing business with our organization?'
  id: totrans-46
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**首席运营官（COO）**：我们的客户/合作伙伴是否愿意信任与我们组织做生意？'
- en: While cybersecurity is seen as a cost, cyber risk management provides the reporting
    capabilities to show the business value of security investments and associated
    posture with a near-real-time response.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管网络安全被视为一项成本，网络风险管理通过提供报告能力，可以展示安全投资的商业价值以及与之相关的态势，并能提供接近实时的响应。
- en: A typical example of security within this model would be implementing a strong
    login credential policy using a one-time password method. This solution offers
    sufficient security for the organization’s employees who are using web-based solutions.
    An additional multi-factor authentication with security auditing could be implemented
    when an employee wants to have access or push changes to the application source
    code.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 该模型中的一个典型安全示例是实施强大的登录凭证策略，采用一次性密码方法。此解决方案为使用基于Web的解决方案的组织员工提供了足够的安全性。员工如果需要访问或推送更改到应用程序源代码时，可以额外实施多因素认证并进行安全审计。
- en: Compared to the cybersecurity approach, the cyber risk assessment addresses
    different risk levels with corresponding measures from a security, compliance,
    and usability perspective and additional measures when interacting with critical
    assets.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 与传统网络安全方法相比，网络风险评估从安全、合规性和可用性的角度评估不同的风险级别，并根据与关键资产交互时的需要采取相应措施。
- en: Conclusion
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 结论
- en: Doing (cyber)security for the sake of ticking a box will not provide any benefit
    to the organization and will frustrate all members of staff, including the IT
    department, resulting in security measures being disabled and shadow infrastructure
    being built.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 单纯为了勾选安全（网络安全）选项而进行安全工作不会给组织带来任何好处，反而会让包括IT部门在内的所有员工感到沮丧，导致安全措施被禁用，影子基础设施被构建。
- en: Governance brings vision, mission, and execution in terms of how to operate
    within the digital economy regarding cyber-attacks. Adding a risk management framework
    will organically introduce the *security* part within your DevOps practice. At
    this point, we can embrace a model that will allow us to identify, protect, detect,
    respond to, and recover from security breaches while considering the necessary
    level of effort per risk to the organization.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 治理框架提供了关于如何在数字经济中应对网络攻击的愿景、使命和执行策略。添加一个风险管理框架将自然而然地将*安全*部分融入到你的DevOps实践中。此时，我们可以采用一种模型，帮助我们在考虑组织每个风险所需努力的同时，识别、保护、检测、响应并从安全漏洞中恢复。
- en: 'As a follow-up to this topic, the following references provide more details
    about the frameworks that aid in this area:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 作为本话题的后续，以下参考资料提供了有关此领域的更多框架细节：
- en: National Institute of Standards and Technology (2018), *Framework for Improving
    Critical Infrastructure* *Cybersecurity*. Self-Publishing.
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 国家标准与技术研究所（2018年），*改善关键基础设施* *网络安全* 框架。自行出版。
- en: European Union Agency for Cybersecurity (2023), *Good Practices for Supply Chain*
    *Cybersecurity*. Self-Publishing.
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 欧洲网络安全局（2023年），*供应链网络安全的良好实践*。自行出版。
- en: Brown, J. (2023), *Executive’s Cybersecurity Program Handbook*, Packt Publishing.
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Brown, J. (2023年)，*高管网络安全计划手册*，Packt Publishing。
- en: Compliance standards
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 合规标准
- en: The concept of compliance is about how an organization will operate respectfully
    while considering a set of laws and policies that are specific to its industry,
    headquarters location, and the countries it may do business with to ensure privacy
    and security. Compliance requirements will dictate most of the requirements of
    an organization’s governance.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 合规概念是关于组织如何在尊重的基础上运作，考虑到特定行业、总部所在地和可能与之合作的国家的一套法律和政策，以确保隐私和安全。合规要求将决定组织治理的大部分要求。
- en: 'Any business might have to comply with more than one regulation, depending
    on their activities. A good example would be a US-based software company leveraging
    **artificial intelligence** (**AI**) within the healthcare sector, with **Software-as-a-Service**
    (**SaaS**) and on-premises offerings for medical practice across the globe. This
    implies the following legal compliance:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 任何企业可能需要遵守多个法规，取决于其活动。一个很好的例子是总部位于美国的软件公司，在全球医疗实践中利用**人工智能** (**AI**)，提供**软件即服务**
    (**SaaS**) 和本地解决方案。这意味着以下的法律合规：
- en: The United States **Health Insurance Portability and Accountability Act** (**HIPAA**),
    for handling patient records
  id: totrans-60
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 美国**健康保险移植与责任法案** (**HIPAA**)，用于处理患者记录
- en: The **European Union General Data Protection Regulation** (**GDPR**), a European
    Union regulation for collecting, processing, and storing personal user data from
    third parties
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**欧盟通用数据保护条例** (**GDPR**)，欧盟关于收集、处理和存储来自第三方的个人用户数据的法规'
- en: The **Payment Card Industry Data Security Standard** (**PCI-DSS**), an international
    industry standard when transacting payment cards
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**支付卡行业数据安全标准** (**PCI-DSS**)，用于处理支付卡时的国际行业标准'
- en: Additional legal compliance, such as the European Union AI Act, which regulates
    the use of AI, the Cyber Resilience Act, which addresses the secure software supply
    chain, the Data Act, which supports the portability of data across cloud providers,
    and the **Network Information System 2** (**NIS2**) directive, which ensures security
    and incident management best practices for critical infrastructure
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 额外的法律合规要求，如欧盟人工智能法案，规范人工智能使用，网络弹性法案，涉及安全软件供应链，数据法案，支持跨云服务提供商的数据可携带性，以及**网络信息系统2**
    (**NIS2**) 指令，确保关键基础设施的安全和事件管理最佳实践
- en: Do not (in)directly (re)sell a solution with any sanctioned country listed by,
    and not limited to, the United States Department of Commerce
  id: totrans-64
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请勿（间接）（再）销售任何列入美国商务部制裁国家的解决方案
- en: Navigating the overall compliance obligations could be overwhelming. However,
    most regulations have overlapping security control rules that can be leveraged
    for a simplified or even unified approach. This is why the **Center for Internet
    Security** (**CIS**) created a comprehensive benchmark per digital platform (operating
    system, mobile device, server software, cloud, virtualization, container, and
    so on).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 理解整体合规义务可能会令人不知所措。然而，大多数法规有重叠的安全控制规则，可用于简化或统一方法。这也是**互联网安全中心** (**CIS**) 针对数字平台（操作系统、移动设备、服务器软件、云、虚拟化、容器等）创建综合基准的原因。
- en: 'The CIS Benchmarks help any organization’s IT department measure its current
    security posture from a security control perspective and related technical configurations,
    including exploit and mitigation details. These controls map with the most common
    regulatory frameworks, such as HIPAA, PCI DSS, SWIFT, ISO 27000, SOC 2, and NIST.
    Here is a mapping example of the CIS Benchmarks with NIST 800-53: [https://www.cisecurity.org/insights/white-papers/cis-controls-v8-mapping-to-nist-800-53-rev-5](https://www.cisecurity.org/insights/white-papers/cis-controls-v8-mapping-to-nist-800-53-rev-5).'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: CIS基准帮助任何组织的IT部门从安全控制和相关技术配置的角度衡量当前的安全态势，包括漏洞和缓解措施的详细信息。这些控制措施与最常见的监管框架（如HIPAA、PCI
    DSS、SWIFT、ISO 27000、SOC 2和NIST）相对应。以下是CIS基准与NIST 800-53的映射示例：[https://www.cisecurity.org/insights/white-papers/cis-controls-v8-mapping-to-nist-800-53-rev-5](https://www.cisecurity.org/insights/white-papers/cis-controls-v8-mapping-to-nist-800-53-rev-5)。
- en: 'From a Kubernetes perspective of the CIS Benchmarks ([https://www.cisecurity.org/benchmark/kubernetes](https://www.cisecurity.org/benchmark/kubernetes)),
    which is version 1.7.0 at the time of writing, here is an overview of the controls
    to be considered to secure Secrets:'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 从Kubernetes的CIS基准视角（[https://www.cisecurity.org/benchmark/kubernetes](https://www.cisecurity.org/benchmark/kubernetes)），截至本文撰写时的版本为1.7.0，以下是需要考虑的控制措施，用以保障机密数据的安全：
- en: '`--encryption-provider-config` argument is set as appropriate:'
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`--encryption-provider-config`参数已根据需要进行适当设置：'
- en: This control description is about encrypting the `etcd` key-value store by using
    the remediation that we explored in [*Chapter 3*](B20970_03.xhtml#_idTextAnchor064),
    *Encrypting Secrets the Kubernetes-Native Way*, in the *Key value* *data* section
  id: totrans-69
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 此控制描述涉及通过使用我们在[*第3章*](B20970_03.xhtml#_idTextAnchor064)中探索的修复方法来加密`etcd`键值存储，具体内容见*键值*
    *数据*部分，*以Kubernetes原生方式加密机密数据*。
- en: The benchmark also includes an audit by checking if `kube-apiserver` is running
    with the `--``encryption-provider-config` flag
  id: totrans-70
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基准测试还包括通过检查`kube-apiserver`是否使用`--encryption-provider-config`标志运行的审计。
- en: '`aescbc`, `aesgcm`, or `kms`'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`aescbc`、`aesgcm`或`kms`'
- en: The benchmark also includes an audit that checks the configuration content from
    the file referenced by the `--``encryption-provider-config` flag
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基准测试还包括一个审计，检查由`--encryption-provider-config`标志引用的文件中的配置内容。
- en: '`Secret`, `ConfigMap`, and `TokenReview` via `Pod` and `Service`*   `Secret`
    as a `Pod` environment variable due to its potential exposures within the node’s
    memory and application logs*   The benchmark also includes an audit overview to
    help you perform a search about environment variables related to Secrets within
    the logs*   `etcd` key-value store, a subject that will be explored in [*Chapter
    11*](B20970_11.xhtml#_idTextAnchor212), *Exploring External* *Secret Stores**   The
    benchmark also includes an audit overview to help you review appropriate Secrets
    management implementation with this third-party solution'
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`Secret`、`ConfigMap`和`TokenReview`通过`Pod`和`Service`*   `Secret`作为`Pod`环境变量，考虑到它在节点内存和应用日志中的潜在暴露*   基准测试还包括审计概览，帮助你在日志中执行与机密相关的环境变量搜索*   `etcd`键值存储，这个主题将在[*第11章*](B20970_11.xhtml#_idTextAnchor212)中探讨，*探索外部*
    *机密存储*  *基准测试还包括审计概览，帮助你审查使用第三方解决方案的适当机密管理实施*'
- en: Note that some regulations might include physical security controls, such as
    data center and physical server access, which are not covered within the CIS Benchmarks.
    However, from our onion perspective and its security analysis in [*Chapter 3*](B20970_03.xhtml#_idTextAnchor064),
    *Encrypting Secrets the Kubernetes-Native Way*, these controls are relevant.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，一些法规可能包括物理安全控制措施，例如数据中心和物理服务器访问，这些内容不包括在CIS基准中。然而，从我们在[*第3章*](B20970_03.xhtml#_idTextAnchor064)中对其安全性分析的洋葱视角出发，*以Kubernetes原生方式加密机密数据*，这些控制措施是相关的。
- en: 'It is time to update our onion diagram so that it includes new layers representing
    the continuous effort to ensure compliance with regulatory obligations and standards
    that are described within the organization’s governance:'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 现在是更新我们的洋葱图表的时候了，以便新增表示持续努力以确保符合组织治理中描述的监管义务和标准的层级：
- en: '![Figure 5.1 – The security posture framework for Kubernetes Secrets Management](img/B20970_05_01.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图5.1 – Kubernetes机密管理的安全态势框架](img/B20970_05_01.jpg)'
- en: Figure 5.1 – The security posture framework for Kubernetes Secrets management
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图5.1 – Kubernetes机密管理的安全态势框架
- en: Considering the organization’s governance and this cyber risk assessment model,
    these additional layers provide continuous discovery, assessment, analysis, and
    (mitigation) execution so that we can define and improve the current security
    and compliance posture.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 考虑到组织的治理结构和这个网络风险评估模型，这些附加层提供了持续的发现、评估、分析和（缓解）执行，因此我们可以定义并改善当前的安全性和合规性态势。
- en: Adopting a DevSecOps mindset
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 采用DevSecOps思维模式
- en: 'In the previous sections, we drafted a series of best practices that could
    be summarized with the following key points:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在前面的章节中，我们起草了一系列最佳实践，可以通过以下关键点总结：
- en: Consider the organization’s governance, which includes the regulatory frameworks
    they must comply with
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑组织的治理结构，包括他们必须遵守的监管框架
- en: Adopt a cyber risk management mindset to customize the security controls to
    be implemented that are appropriate to each business unit instead of a rigid one-size-fits-all
    cybersecurity policy
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 采用网络风险管理思维模式，定制适合每个业务单元的安全控制措施，而不是死板的一刀切的网络安全政策
- en: Consider security as a continuous improvement effort of discovering, analyzing,
    and reporting during all operational activities
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将安全视为一种持续改进的努力，涵盖所有运营活动中的发现、分析和报告
- en: 'We’ve used the term *security posture* a couple of times in this handbook.
    Let’s define what it is while utilizing the NIST 800-37 specifications: “*The
    security status of an enterprise’s networks, information, and systems based on
    information assurance resources (for example, people, hardware, software, and
    policies) and capabilities in place to manage the defense of the enterprise and
    to react as the situation changes. This is synonymous with* *security status.*”'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在本手册中提到过几次*安全态势*这个术语。让我们在使用NIST 800-37规范时定义一下它：“*企业网络、信息和系统的安全状态，基于信息保障资源（例如人员、硬件、软件和政策）以及用于管理企业防御和应对变化情况的能力。这与*
    *安全状态*同义。*”
- en: Once you have established your current security posture against a framework
    such as the CIS Benchmarks for Kubernetes, then it will be easier to identify
    the gaps and continuously improve your posture with the current and future missing
    controls.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你根据像CIS Kubernetes基准这样的框架建立了当前的安全态势，那么就更容易识别差距，并通过当前和未来缺失的控制措施不断改善你的安全态势。
- en: Embracing this approach introduces a change of mindset, which helps with continuously
    reviewing the organization’s security posture and highlighting the gaps to mitigate.
    This is also referred to as DevSecOps practices.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 接纳这种方法意味着思维方式的转变，有助于持续审查组织的安全态势并突出需要缓解的差距。这也被称为DevSecOps实践。
- en: At this stage, a DevSecOps adoption will organically infuse the governance and
    compliance requirements within the entire DevOps cycle. This will shorten the
    feedback loop for the relevant teams to work on mitigation, and thus improve compliance,
    security response, and posture before deploying to production.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 在这一阶段，DevSecOps的采用将自然而然地将治理和合规要求融入到整个DevOps周期中。这将缩短相关团队的反馈循环，从而在部署到生产环境之前改善合规性、安全响应和安全态势。
- en: 'Do not consider the DevSecOps practices as a separate framework; instead, see
    them as complementary to the DevOps model. All security practices are tied together
    within each step:'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 不要将DevSecOps实践视为一个独立的框架；而是将其视为对DevOps模型的补充。所有安全实践在每个步骤中都紧密相连：
- en: '**Planning**: This includes security, governance, and compliance requirements
    within the initial project scope. The pitfall would be to consider these requirements
    as the last validation before releasing the application.'
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**规划**：这包括在初步项目范围内的安全性、治理和合规要求。误区是将这些要求视为发布应用程序前的最后验证。'
- en: '**Development**: This infuses security into the organization’s coding governance
    to help mitigate common exposures. It includes code analysis tooling to help identify
    vulnerabilities before the code is committed.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**开发**：将安全性融入组织的编码治理中，帮助减轻常见的安全暴露风险。它包括代码分析工具，帮助在代码提交之前发现漏洞。'
- en: '**CI/CD**: This involves performing security testing to scan code and container
    images for vulnerabilities. This helps with detecting and remediating these exposures
    before they make their way into production.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**CI/CD**：这涉及执行安全测试，扫描代码和容器镜像中的漏洞。这有助于在漏洞进入生产环境之前发现并修复这些暴露点。'
- en: '**Continuous monitoring/auditing**: This helps with detecting and responding
    in near real-time to security exposures. This can also help with risk-based approaches,
    where some security exposures might be considered acceptable to carry on with
    but should be closely monitored.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**持续监控/审计**：有助于在近实时中检测和响应安全暴露。这也有助于基于风险的方法，其中某些安全暴露可能被认为是可以接受的，但应密切监控。'
- en: Adding security within the DevOps flow will encourage all teams to collaborate
    and promote a culture of shared responsibility and accountability toward high-quality
    and secure software delivery by catching security exposures earlier in the development
    process.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 在 DevOps 流程中加入安全性将鼓励所有团队合作，并促进共享责任和问责文化，从而在开发过程中更早发现安全暴露，推动高质量和安全的软件交付。
- en: Tools
  id: totrans-94
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工具
- en: 'From our Kubernetes perspective and based on its dedicated CIS Benchmarks,
    the Secrets management part will require us to do the following:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 从 Kubernetes 的角度来看，并根据其专门的 CIS 基准，Secrets 管理部分需要我们执行以下操作：
- en: Enable encryption capabilities for the `etcd` service
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 启用 `etcd` 服务的加密功能。
- en: Define and enforce resource access policies for sensitive data payloads such
    as `Secret` but also `ConfigMap` objects
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为敏感数据负载（如 `Secret` 以及 `ConfigMap` 对象）定义并执行资源访问策略。
- en: Consider an external Secrets management solution to enhance the platform’s security
    posture
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 考虑采用外部 Secrets 管理解决方案，以增强平台的安全态势。
- en: Audit all interactions that are done with these objects within and outside of
    the platform
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 审计所有与这些对象的交互，包括平台内外的操作。
- en: 'To do so, you’ll require a set of tools that help you discover, analyze, and
    mitigate potential security exposures. We will explore five tools:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，您需要一套工具，帮助您发现、分析并缓解潜在的安全暴露。我们将探讨五种工具：
- en: '**Trivy, from Aqua Sec**: This will help you not only scan container image
    vulnerabilities but also secret-related security exposures.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Trivy，来自 Aqua Sec**：这不仅可以帮助您扫描容器镜像的漏洞，还能发现与 Secrets 相关的安全暴露。'
- en: '**kube-bench**: For assessing the CIS Benchmarks.'
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**kube-bench**：用于评估 CIS 基准。'
- en: '**Compliance Operator**: For assessing supported OpenSCAP profiles and providing
    mitigating paths.'
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**合规操作员**：用于评估支持的 OpenSCAP 配置文件并提供缓解路径。'
- en: '**StackRox**: For assessing supported security profiles for your clusters,
    container images, and networking flows. StackRox has a comprehensive user interface
    with a useful risk-based dashboard that ranks exposures by risk level.'
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**StackRox**：用于评估集群、容器镜像和网络流量的安全配置文件。StackRox 提供了一个全面的用户界面，并带有一个有用的基于风险的仪表板，按风险级别对暴露进行排名。'
- en: '**Kubernetes logging**: For harvesting all information and audit trails related
    to the interaction between the platform, the applications, and users.'
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Kubernetes 日志记录**：用于收集与平台、应用程序和用户之间交互相关的所有信息和审计痕迹。'
- en: Let’s have a look at the capabilities of these tools while illustrating their
    usage. All these tools help you comply with regulations and initiate the DevSecOps
    model while continuously improving your security posture.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看这些工具的功能，并展示它们的使用方式。所有这些工具都能帮助您遵守法规，并启动 DevSecOps 模型，同时不断提升您的安全态势。
- en: Trivy
  id: totrans-107
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Trivy
- en: Due to the immutable nature of container images, it is important to continuously
    track vulnerabilities with a scanner such as Trivy. This tool also has a particular
    interest in Secrets management as it can target specific security severity related
    to Secrets.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 由于容器镜像的不可变性，持续跟踪漏洞至关重要，可以使用像 Trivy 这样的扫描工具。该工具也特别关注 Secrets 管理，因为它能够针对与 Secrets
    相关的特定安全严重性进行扫描。
- en: 'Using the Trivy Kubernetes CLI, a scanning process can be triggered specifically
    for Secrets via the following command:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 使用 Trivy Kubernetes CLI，可以通过以下命令专门触发针对 Secrets 的扫描过程：
- en: '[PRE0]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: See the `chapter 5` folder in this book’s GitHub repository for an example of
    how to implement Trivy on a local `kind` Kubernetes cluster.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 请参见本书 GitHub 仓库中的`第5章`文件夹，了解如何在本地 `kind` Kubernetes 集群上实现 Trivy 的示例。
- en: kube-bench
  id: totrans-112
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: kube-bench
- en: Your IT department might have already invested in a security suite for your
    entire organization’s infrastructure, but let’s consider surgical tools versus
    generic ones.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 您的 IT 部门可能已经为整个组织的基础设施投资了一个安全套件，但我们还是要考虑使用外科工具与通用工具的区别。
- en: When it comes to measuring your environment against the CIS Benchmarks, `kube-bench`
    from Aqua Security Software might be one of the most interesting tools to run
    on your Kubernetes cluster(s). The benchmark job can be configured using a standard
    YAML manifest; you can customize it so that it’s relevant to your organization’s
    governance.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 在将您的环境与CIS基准进行对比时，来自Aqua Security软件的`kube-bench`可能是您在Kubernetes集群中运行的最有趣工具之一。基准作业可以通过标准的YAML清单进行配置；您可以自定义它，使其适应您组织的治理需求。
- en: 'Here is an example of a check:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是检查的一个示例：
- en: '[PRE1]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: This control example assesses if privileged containers – that is, containers
    bypassing any limitations from the `cgroup` controller – can elevate to the user
    root within the container, which also means the root on the operating system.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 该控制示例评估特权容器——即绕过`cgroup`控制器限制的容器——是否能够提升为容器内的root用户，这也意味着操作系统中的root权限。
- en: 'This example shows how to disable a control by introducing the `skip` definition:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 本示例展示了如何通过引入`skip`定义来禁用控制：
- en: '[PRE2]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: See the `chapter 5` folder in this book’s GitHub repository for an example of
    how to implement `kube-bench` on a local `kind` Kubernetes cluster.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅本书GitHub存储库中的`chapter 5`文件夹，了解如何在本地`kind` Kubernetes集群上实现`kube-bench`的示例。
- en: Compliance Operator
  id: totrans-121
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Compliance Operator
- en: Another way to utilize the capabilities of `kube-bench` on a Red Hat OpenShift
    Container Platform and Kubernetes distributions that support operators would be
    **Compliance Operator**. This tool runs compliance checks against the CIS Benchmarks
    and other **Security Content Automation Protocol** (**SCAP**) profiles, such as
    the **Australian Cyber Security Centre’s** (**ACSC’s**) Essential Eight.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种在支持操作符的Red Hat OpenShift容器平台和Kubernetes发行版上利用`kube-bench`功能的方法是**Compliance
    Operator**。此工具根据CIS基准和其他**安全内容自动化协议**（**SCAP**）配置文件进行合规性检查，例如**澳大利亚网络安全中心**（**ACSC**）的Essential
    Eight。
- en: This tool not only assesses security exposures but also provides remediation
    capabilities. Like scanning, each mitigation has a YAML definition and can be
    applied one at a time or in batches, which allows for granular testing and validation
    phases. This can also be done on existing clusters for late implementations.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 该工具不仅评估安全暴露，还提供修复功能。与扫描类似，每个缓解都有一个YAML定义，可以逐一或批量应用，这允许进行详细的测试和验证阶段。这也可以在现有集群上进行，以便在后期实施安全规则。
- en: Important notes
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 重要说明
- en: Both `kube-bench` and Compliance Operator require specific elevated privileges
    to run that might not fit a production environment. A good practice would be to
    run these scans and remediations on a test environment that reflects your production
    environment before retrofitting the security rules on a production environment.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: '`kube-bench`和Compliance Operator都需要特定的提升权限才能运行，这可能不适合生产环境。一种好的做法是在一个反映生产环境的测试环境中运行这些扫描和修复，然后再将安全规则应用到生产环境中。'
- en: StackRox
  id: totrans-126
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: StackRox
- en: 'The open source StackRox project is designed to address security challenges
    linked to the increased usage of containerized applications orchestrated by Kubernetes.
    Its fast adoption creates a growing space for security exposures, which requires
    a platform to offer a series of comprehensive capabilities so that it can do the
    following:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 开源的StackRox项目旨在解决与Kubernetes编排的容器化应用程序使用增加相关的安全挑战。其快速采用创造了一个日益增长的安全暴露空间，这需要一个平台提供一系列全面的功能，以便能够做到以下几点：
- en: Manage the vulnerabilities of container images with a remediation path. This
    reduces the known security exposures at runtime.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过修复路径管理容器镜像的漏洞。这在运行时减少已知的安全暴露。
- en: Secure the container runtime by monitoring the application patterns and detect
    any potential signs of malicious processes, also called mutations. Responses can
    be informative or isolated from the workload.
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过监控应用模式并检测任何潜在的恶意进程迹象（也称为突变），来确保容器运行时的安全。响应可以是信息性的，或者与工作负载隔离。
- en: Secure the networking flows by providing a graphical view of how containers
    in the same and different namespaces could communicate and provide mitigation
    paths with network policies to limit lateral movements from malicious workloads.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过提供图形化视图，确保网络流量的安全，展示同一命名空间和不同命名空间中的容器如何进行通信，并通过网络策略提供缓解路径，以限制恶意工作负载的横向移动。
- en: Audit and comply by scanning against the top industry and regulatory standards,
    helping organizations to baseline, improve, and maintain their security posture.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过扫描与顶级行业和监管标准进行对比进行审计和合规，帮助组织设定基准、改进并维持其安全姿态。
- en: Integrate with development pipelines by leveraging an API-driven approach, thereby
    enabling continuous security checks as early as possible within the development
    process.
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过利用基于 API 的方法与开发管道进行集成，从而在开发过程中尽早启用持续的安全检查。
- en: Available as an open source project and integrated within the OpenShift Container
    Platform from Red Hat, StackRox plays a significant role in comprehensive platforms
    to ease the security part of the DevSecOps workflow.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 作为一个开源项目并集成在 Red Hat 的 OpenShift 容器平台中，StackRox 在综合平台中发挥着重要作用，帮助简化 DevSecOps
    工作流中的安全部分。
- en: See the `chapter 5` folder in this book’s GitHub repository for an example of
    how to implement StackRox on a `kind` Kubernetes cluster.
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅本书 GitHub 仓库中的`chapter 5`文件夹，查看如何在`kind` Kubernetes 集群上实现 StackRox 的示例。
- en: Kubernetes logging
  id: totrans-135
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: Kubernetes 日志
- en: While this is a must from a compliance and best practices perspective, the diverse
    landscape of solutions available to accomplish these tasks is overwhelming. As
    such, we will address this using the `Audit` object definition from the Kubernetes
    standard API.
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 从合规性和最佳实践的角度来看，这是必须做到的，然而，市场上有各种各样的解决方案来完成这些任务，令人感到不知所措。因此，我们将通过 Kubernetes
    标准 API 中的 `Audit` 对象定义来讨论这个问题。
- en: 'Kubernetes comes with an easy way to provide security-relevant records within
    its audit logs by enabling the relevant resources to be monitored. Here is an
    example of the `Secret` and `ConfigMap` objects:'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: Kubernetes 提供了一种简单的方法，通过启用相关资源的监控，在其审计日志中提供与安全相关的记录。以下是`Secret`和`ConfigMap`对象的示例：
- en: '[PRE3]'
  id: totrans-138
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: Save the preceding code into a file called `auditlog-secrets.yaml` and apply
    this configuration against your cluster using `kubectl apply -``f auditlog-secrets.yaml`.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 将前面的代码保存到名为`auditlog-secrets.yaml`的文件中，并使用`kubectl apply -f auditlog-secrets.yaml`命令将此配置应用于您的集群。
- en: Summary
  id: totrans-140
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: While security and compliance can be overwhelming and considered to be constraining,
    this chapter drafted guidance for an organization to adopt a DevSecOps mindset
    with the support of standard and integrated tools.
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然安全和合规性可能让人感到不知所措，并且被视为具有约束性，但本章草拟了一个组织在标准和集成工具支持下采纳 DevSecOps 思维方式的指导方针。
- en: It is important to acknowledge that the concept of security and compliance is
    not a finite state, with no single and simple recipe to protect your organization
    from digital threats. (Cyber)security will be welcomed by the entire organization
    when it’s tailored to the business using a risk assessment approach, removing
    the feeling of constraints linked to operating in a so-called secured environment.
    When designed well, all stakeholders will organically participate in the continuous
    efforts of assessing, analyzing, executing, and discovering new policies, vulnerabilities,
    and potential ongoing attacks.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 重要的是要认识到，安全性和合规性并不是一个固定的状态，没有单一且简单的方案可以保护您的组织免受数字威胁。 (网络)安全在使用风险评估方法量身定制并融入业务中时，会被整个组织所欢迎，从而消除了在所谓的安全环境中操作时所带来的约束感。当设计得当时，所有利益相关者将自然而然地参与到持续的评估、分析、执行和发现新政策、漏洞以及潜在持续攻击的工作中。
- en: In the next chapter, we will address the business continuity aspect by introducing
    and implementing the disaster recovery and backup strategies of Kubernetes Secrets.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将通过介绍和实施 Kubernetes Secrets 的灾难恢复和备份策略来解决业务连续性问题。
