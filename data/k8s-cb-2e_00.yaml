- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: With the trend of microservices architecture in the recent years, a monolithic
    application is refactored into multiple microservices. Container simplifies the
    deployment of the application build from microservices. Container management,
    automation, and orchestration have become crucial problems. Kubernetes is here
    to solve these.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 随着近年来微服务架构的流行，单体应用被重构为多个微服务。容器简化了由微服务构建的应用的部署。容器管理、自动化和编排已成为关键问题。Kubernetes正是为了解决这些问题而诞生的。
- en: This book is a practical guide that provides step-by-step tips and examples
    to help you build and run your own Kubernetes cluster in both private and public
    clouds. Following along with the book will lead you to understanding how to deploy
    and manage your application and services in Kubernetes. You will also gain a deep
    understanding of how to scale and update live containers, and how to do port forwarding
    and network routing in Kubernetes. You will learn how to build a robust high-availability
    cluster with the book's hands-on examples. Finally, you will build a Continuous
    Delivery pipeline by integrating Jenkins, Docker registry, and Kubernetes.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是一本实用指南，提供了逐步的技巧和示例，帮助你在私有云和公有云中构建和运行自己的Kubernetes集群。跟随本书的内容，你将理解如何在Kubernetes中部署和管理你的应用和服务。你还将深入理解如何扩展和更新实时容器，以及如何在Kubernetes中进行端口转发和网络路由。你将通过本书的动手示例学习如何构建一个强大的高可用集群。最后，你将通过集成Jenkins、Docker注册表和Kubernetes，构建一个持续交付管道。
- en: Who this book is for
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适用对象
- en: If you've been playing with Docker containers for a while and want to orchestrate
    your containers in a modern way, this book is the right choice for you. This book
    is for those who already understand Docker and container technology, and want
    to explore further to find better ways to orchestrate, manage, and deploy containers.
    This book is perfect for going beyond a single container and working with container
    clusters, learning how to build your own Kubernetes, and making it work seamlessly
    with your Continuous Delivery pipeline.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你已经使用Docker容器一段时间，并且想要以现代的方式管理你的容器，那么本书是你的最佳选择。本书适合那些已经理解Docker和容器技术，并希望进一步探索以寻找更好的方式来编排、管理和部署容器的人。本书非常适合那些希望超越单一容器并与容器集群一起工作的读者，学习如何构建自己的Kubernetes，并使其与持续交付管道无缝对接。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[Chapter 1](4dd5324f-b753-4c80-b891-bd8e6013b2c1.xhtml), *Building Your Own
    Kubernetes Cluster*, explains how to build your own Kubernetes cluster with various
    deployment tools and run your first container on it.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](4dd5324f-b753-4c80-b891-bd8e6013b2c1.xhtml)，*构建你自己的Kubernetes集群*，讲解了如何使用各种部署工具构建自己的Kubernetes集群，并在其上运行你的第一个容器。'
- en: '[Chapter 2](e9a51674-078b-4ffc-a76c-98774150bfa3.xhtml), *Walking through Kubernetes
    Concepts*, covers both basic and advanced concepts we need to know about Kubernetes.
    Then, you will learn how to combine them to create Kubernetes objects by writing
    and applying configuration files.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](e9a51674-078b-4ffc-a76c-98774150bfa3.xhtml)，*深入理解Kubernetes概念*，涵盖了我们需要了解的Kubernetes的基础和高级概念。接下来，你将学习如何通过编写和应用配置文件，将这些概念结合起来创建Kubernetes对象。'
- en: '[Chapter 3](51ca5358-d5fe-4eb2-a52d-65a399617fcf.xhtml), *Playing with Containers*,
    explains how to scale your containers up and down and perform rolling updates
    without affecting application availability. Furthermore, you will learn how deploy
    containers for dealing with different application workloads. It will also walk
    you through best practices of configuration files.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](51ca5358-d5fe-4eb2-a52d-65a399617fcf.xhtml)，*玩转容器*，解释了如何扩展容器的规模，并执行滚动更新而不影响应用的可用性。此外，你还将学习如何部署容器来应对不同的应用负载。它还将带你了解配置文件的最佳实践。'
- en: '[Chapter 4](1a0d884d-59d3-4f67-adee-2d2e37030132.xhtml), *Building High-Availability
    Clusters*, provides information on how to build High Availability Kubernetes master
    and etcd. This will prevent Kubernetes components from being the single point
    of failure.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](1a0d884d-59d3-4f67-adee-2d2e37030132.xhtml)，*构建高可用集群*，提供了如何构建高可用的Kubernetes
    master和etcd的相关信息。这将防止Kubernetes组件成为单点故障。'
- en: '[Chapter 5](669edaf0-c274-48fa-81d8-61150fa36df5.xhtml), *Building Continuous
    Delivery Pipelines*, talks about how to integrate Kubernetes into an existing
    Continuous Delivery pipeline with Jenkins and private Docker registry.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](669edaf0-c274-48fa-81d8-61150fa36df5.xhtml)，*构建持续交付管道*，讨论了如何将Kubernetes集成到现有的持续交付管道中，使用Jenkins和私有Docker注册表。'
- en: '[Chapter 6](b7e1d803-52d0-493b-9123-5848da3fa9ec.xhtml), *Building Kubernetes
    on AWS*, walks you through AWS fundamentals. You will learn how to build a Kuberentes
    cluster on AWS in few minutes.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](b7e1d803-52d0-493b-9123-5848da3fa9ec.xhtml)，*在AWS上构建Kubernetes*，带你了解AWS基础知识。你将学习如何在几分钟内在AWS上构建一个Kubernetes集群。'
- en: '[Chapter 7](dfc46490-f109-4f07-ba76-1a381b006d76.xhtml), *Building Kubernetes
    on GCP*, leads you to the Google Cloud Platform world. You will learn the GCP
    essentials and how to launch a managed, production-ready Kubernetes cluster with
    just a few clicks.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](dfc46490-f109-4f07-ba76-1a381b006d76.xhtml)，*在GCP上构建Kubernetes*，带你进入Google
    Cloud Platform的世界。你将学习GCP的基础知识，并了解如何只需几次点击就能启动一个托管的、生产就绪的Kubernetes集群。'
- en: '[Chapter 8](d82d7591-b68a-42e7-ae48-5ee5a468975e.xhtml), *Advanced Cluster
    Administration*, talks about important resource management in Kubernetes. This
    chapter also goes through other important cluster administration, such as Kubernetes
    dashboard, authentication, and authorization.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](d82d7591-b68a-42e7-ae48-5ee5a468975e.xhtml)，*高级集群管理*，讨论了Kubernetes中的重要资源管理。本章还讲解了其他重要的集群管理内容，如Kubernetes仪表板、身份验证和授权。'
- en: '[Chapter 9](54bceded-1d48-4d1a-bdb3-e3d659940411.xhtml), *Logging and Monitoring*, explains
    how to collect both system and application logs in Kubernetes by using Elasticsearch,
    Logstash, and Kibana (ELK). You will also learn how to leverage Heapster, InfluxDB,
    and Grafana to monitor your Kubernetes cluster.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](54bceded-1d48-4d1a-bdb3-e3d659940411.xhtml)，*日志记录与监控*，解释了如何使用Elasticsearch、Logstash和Kibana（ELK）在Kubernetes中收集系统和应用程序日志。你还将学习如何利用Heapster、InfluxDB和Grafana来监控你的Kubernetes集群。'
- en: To get the most out of this book
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书
- en: Throughout the book, we use at least three servers with a Linux-based OS to
    build all of the components in Kubernetes. At the beginning of the book, you could
    use one machine, whether it is Linux or Windows, to learn about the concepts and
    basic deployment. From a scalability point of view, we recommend you start with
    three servers in order to scale out the components independently and push your
    cluster to the production level.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我们使用至少三台服务器，运行基于Linux的操作系统，来构建Kubernetes中的所有组件。在本书开始时，你可以使用一台机器，无论是Linux还是Windows，来了解概念和基础部署。从可扩展性的角度来看，我们建议你从三台服务器开始，以便独立扩展组件并将集群推向生产级别。
- en: Download the example code files
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support) and
    register to have the files emailed directly to you.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从[www.packtpub.com](http://www.packtpub.com)的账户中下载本书的示例代码文件。如果你从其他地方购买了本书，可以访问[www.packtpub.com/support](http://www.packtpub.com/support)，注册后直接将文件通过邮件发送给你。
- en: 'You can download the code files by following these steps:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过以下步骤下载代码文件：
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录或注册于[www.packtpub.com](http://www.packtpub.com/support)。
- en: Select the SUPPORT tab.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择*支持*标签。
- en: Click on Code Downloads & Errata.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击代码下载与勘误。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在*搜索*框中输入书名，并按照屏幕上的指示操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 下载文件后，请确保使用以下最新版本的工具解压或提取文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WinRAR/7-Zip for Windows
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zipeg/iZip/UnRarX for Mac
- en: 7-Zip/PeaZip for Linux
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip/PeaZip for Linux
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition](https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition). In
    case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的代码包也托管在GitHub上，地址是[https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition](https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition)。如果代码有更新，将会更新至现有的GitHub仓库。
- en: We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还从丰富的书籍和视频目录中提供其他代码包，访问**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**。快来看看吧！
- en: Download the color images
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图片
- en: We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一份包含本书中使用的截图/图示彩色图片的PDF文件。你可以在这里下载：[https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf)。
- en: Conventions used
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了若干文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here
    is an example: "Prepare the following YAML file, which is a simple Deployment that
    launches two `nginx` containers."'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码词、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟网址、用户输入和Twitter账户。这里有一个例子：“准备以下YAML文件，这是一个简单的Deployment，启动两个`nginx`容器。”'
- en: 'A block of code is set as follows:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块如下设置：
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起你对代码块中特定部分的注意时，相关行或项将以粗体显示：
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出将按如下方式编写：
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: "Installation is straightforward, so we can just choose the default
    options and click Next."'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要词汇，或者你在屏幕上看到的词汇。例如，菜单或对话框中的词汇会以这种方式出现在文本中。这里有一个例子：“安装很简单，所以我们可以选择默认选项并点击‘下一步’。”'
- en: Warnings or important notes appear like this.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明将以这种方式显示。
- en: Tips and tricks appear like this.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 提示和技巧将以这种方式显示。
- en: Sections
  id: totrans-44
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 各节
- en: In this book, you will find several headings that appear frequently (*Getting
    ready*, *How to do it...*, *How it works...*, *There's more...*, and *See also*).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，你会发现几个经常出现的标题（*准备工作*、*如何做...*、*如何运作...*、*还有更多...*，以及*另见*）。
- en: 'To give clear instructions on how to complete a recipe, use these sections
    as follows:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 为了提供清晰的完成食谱的指导，请按照以下方式使用这些部分：
- en: Getting ready
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This section tells you what to expect in the recipe and describes how to set
    up any software or any preliminary settings required for the recipe.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 本节告诉你在食谱中可以期待什么，并描述了如何设置食谱所需的任何软件或初步设置。
- en: How to do it...
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: This section contains the steps required to follow the recipe.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含执行食谱所需的步骤。
- en: How it works...
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何运作...
- en: This section usually consists of a detailed explanation of what happened in
    the previous section.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 本节通常包含对上一节内容的详细解释。
- en: There's more...
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: This section consists of additional information about the recipe in order to
    make you more knowledgeable about the recipe.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 本节包含关于食谱的附加信息，帮助你对食谱有更深入的了解。
- en: See also
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另见
- en: This section provides helpful links to other useful information for the recipe.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 本节提供了指向其他有用信息的链接，这些信息对食谱有帮助。
- en: Get in touch
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: Email `feedback@packtpub.com` and mention the book title
    in the subject of your message. If you have questions about any aspect of this
    book, please email us at `questions@packtpub.com`.'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书名。如果你对本书的任何内容有疑问，请通过`questions@packtpub.com`与我们联系。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**：尽管我们已尽最大努力确保内容的准确性，但错误难免发生。如果你在本书中发现错误，请报告给我们。请访问[www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择你的书籍，点击“勘误提交表单”链接并输入详细信息。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果你在互联网上发现任何我们作品的非法复制品，我们将感激你提供该位置地址或网站名称。请通过`copyright@packtpub.com`与我们联系，并附上材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com/).'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果你有兴趣成为作者**：如果你在某个领域有专业知识，并且有兴趣写书或为书籍做贡献，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。'
- en: Reviews
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评论
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 请留下评论。阅读并使用本书后，为什么不在你购买书籍的网站上留下评论呢？潜在读者可以看到并参考你的公正意见来做出购买决策，我们在Packt也可以了解你对我们产品的看法，而我们的作者则能看到你对他们书籍的反馈。谢谢！
- en: For more information about Packt, please visit [packtpub.com](https://www.packtpub.com/).
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 欲了解更多关于Packt的信息，请访问 [packtpub.com](https://www.packtpub.com/)。
