- en: '8'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '8'
- en: Displaying Data with Dashboards
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用仪表板显示数据
- en: Now that we have explored the topics covered in the earlier chapters together,
    we have a good understanding of the many ways to retrieve accessible data from
    Grafana. We will now create our first **dashboard** together and look at different
    ways to visualize our data. We will then explore concepts and techniques that
    help you communicate effectively with your dashboards and reduce cognitive load
    for your viewers. We will look at a few resources for inspiration out in the community
    to inspire you with your dashboards. Then, to finish, we will share guidance around
    managing your dashboard artifacts as they grow to help you get organized.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们已经一起探索了前几章所涉及的主题，并且对如何从Grafana中获取可访问的数据有了很好的理解。接下来，我们将一起创建我们的第一个**仪表板**，并查看可视化数据的不同方式。然后，我们将探索一些帮助你有效与仪表板沟通的概念和技巧，减少观众的认知负担。我们还将浏览一些社区资源，为你的仪表板提供灵感。最后，我们将分享一些管理仪表板制品的指导，帮助你在仪表板发展壮大的过程中保持组织性。
- en: 'In this chapter, we’re going to cover the following main topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主要内容：
- en: Creating your first dashboard
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 创建你的第一个仪表板
- en: Developing your dashboard further
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 进一步开发你的仪表板
- en: Using visualizations in Grafana
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Grafana中使用可视化
- en: Developing a dashboard purpose
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义仪表板的目的
- en: Advanced dashboard techniques
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 高级仪表板技巧
- en: Managing and organizing dashboards
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 管理和组织仪表板
- en: Case study – an overall system view
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 案例研究 – 整体系统视图
- en: Technical requirements
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: In this chapter, you will work with the Grafana user interface using the Grafana
    Cloud instance and the demo you set up in [*Chapter 3*](B18277_03.xhtml#_idTextAnchor063).
    Also, to ensure you have all the data sources and settings available, be sure
    to have implemented the updates in [*Chapter 6*](B18277_06.xhtml#_idTextAnchor134)
    to your stack. Let’s dive in and create our first dashboard.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，你将使用Grafana Cloud实例的Grafana用户界面，并使用在[*第3章*](B18277_03.xhtml#_idTextAnchor063)中设置的演示。此外，为确保你拥有所有数据源和设置，请确保已经在[*第6章*](B18277_06.xhtml#_idTextAnchor134)中对你的堆栈进行了更新。让我们开始创建第一个仪表板吧。
- en: Creating your first dashboard
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建你的第一个仪表板
- en: Dashboards are a medium to communicate important and sometimes urgent information
    to consumers. Before we delve into design techniques and best practices, let’s
    get familiar with the Grafana user interface to start with a simple dashboard.
    The demo application we have worked with throughout this book has a frontend store;
    let’s look at the requests we get for its shopping cart.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 仪表板是向用户传达重要且有时紧急信息的一种方式。在我们深入讨论设计技巧和最佳实践之前，让我们先熟悉一下Grafana的用户界面，开始创建一个简单的仪表板。我们在本书中使用的示例应用程序有一个前端商店；让我们来看一下我们从购物车API获取的请求数据。
- en: 'To create your first panel and dashboard, follow these steps:'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 要创建你的第一个面板和仪表板，请按照以下步骤操作：
- en: In your Grafana instance, select **Explore** in the menu.
  id: totrans-16
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在你的Grafana实例中，选择菜单中的**Explore**。
- en: Choose your Prometheus data source; this will be labeled as **grafanacloud-<team>-prom
    (default)**.
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你的Prometheus数据源，这将标记为**grafanacloud-<team>-prom（默认）**。
- en: 'In the **Metric** dropdown, choose **app_frontend_requests_total** (the metric
    count of requests to the frontend app), and in the **Label filters** dropdown,
    choose **target = /api/cart** as the filter (to restrict the results to the cart
    API only), and then click on **Run query**. You should see data like this:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**Metric**下拉菜单中，选择**app_frontend_requests_total**（前端应用程序的请求计数），在**Label filters**下拉菜单中，选择**target
    = /api/cart**作为过滤器（以限制结果仅显示购物车API的请求），然后点击**运行查询**。你应该会看到类似的数据：
- en: '![Figure 8.1 – App frontend requests](img/B18277_8.1.jpg)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.1 – 应用前端请求](img/B18277_8.1.jpg)'
- en: Figure 8.1 – App frontend requests
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.1 – 应用前端请求
- en: We now have a representation of the time series data in a graph.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经将时间序列数据呈现为图表。
- en: To add this to a dashboard, select the **Add** drop-down menu button at the
    top of the **Explore** window.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将此内容添加到仪表板中，在**Explore**窗口顶部选择**添加**下拉菜单按钮。
- en: 'Choose **Add** **to dashboard**:'
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择**添加** **到仪表板**：
- en: '![Figure 8.2 – The Add to dashboard menu](img/B18277_8.2.jpg)'
  id: totrans-24
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.2 – 添加到仪表板菜单](img/B18277_8.2.jpg)'
- en: Figure 8.2 – The Add to dashboard menu
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.2 – 添加到仪表板菜单
- en: 'From the pop-up screen, ensure **New dashboard** is selected, and then click
    **Open dashboard**:'
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在弹出窗口中，确保选择了**新建仪表板**，然后点击**打开仪表板**：
- en: '![Figure 8.3 – Add panel to dashboard](img/B18277_8.3.jpg)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.3 – 添加面板到仪表板](img/B18277_8.3.jpg)'
- en: Figure 8.3 – Add panel to dashboard
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.3 – 添加面板到仪表板
- en: 'You will now have your new dashboard on screen with its first panel. As you
    can see, there are a few problems – the legend is difficult to read, the data
    does not make much sense, and the panel title does not relate to the data:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在将在屏幕上看到新的仪表盘及其第一个面板。正如你所见，这里有一些问题——图例难以阅读，数据没有太大意义，而且面板标题与数据无关：
- en: '![Figure 8.4 – The New dashboard view](img/B18277_8.4.jpg)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.4 – 新仪表盘视图](img/B18277_8.4.jpg)'
- en: Figure 8.4 – The New dashboard view
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.4 – 新仪表盘视图
- en: 'Let’s make a few changes to improve this a little. From the triple-dots drop-down
    menu, select **Edit**. The panel editor will appear; you should see something
    like this:'
  id: totrans-32
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们进行一些小改动，稍微改进一下。从三点下拉菜单中选择**编辑**。面板编辑器将出现；你应该会看到如下内容：
- en: '![Figure 8.5 – The panel editor](img/B18277_8.5.jpg)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.5 – 面板编辑器](img/B18277_8.5.jpg)'
- en: Figure 8.5 – The panel editor
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.5 – 面板编辑器
- en: 'Give the panel a meaningful name. We’ve entered `Frontend Requests` in the
    **Title** field:'
  id: totrans-35
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给面板起一个有意义的名称。我们在**标题**字段中输入了`前端请求`：
- en: '![Figure 8.6 – Query options](img/B18277_8.6.jpg)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.6 – 查询选项](img/B18277_8.6.jpg)'
- en: Figure 8.6 – Query options
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.6 – 查询选项
- en: The graph, by default, will show data from both **Range** and **Instant** queries,
    which can look odd on a time series visualization, as you will see a timeline
    and then standalone single values. Change **Type** to **Range** only.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 默认情况下，图表将显示来自**范围**和**即时**查询的数据，这在时间序列可视化中可能看起来很奇怪，因为你会看到时间线和单独的单值。将**类型**更改为仅**范围**。
- en: 'Click the **Apply** button to update the panel and return to the dashboard:'
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击**应用**按钮更新面板并返回仪表盘：
- en: '![Figure 8.7 – The panel Apply button](img/B18277_8.7.jpg)'
  id: totrans-40
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.7 – 面板应用按钮](img/B18277_8.7.jpg)'
- en: Figure 8.7 – The panel Apply button
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.7 – 面板应用按钮
- en: 'You will now see the dashboard panel name applied to the metrics shown. Click
    the Save icon on the dashboard menu bar:'
  id: totrans-42
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到仪表盘面板名称应用于所显示的指标。点击仪表盘菜单栏上的保存图标：
- en: '![Figure 8.8 – Saving the dashboard](img/B18277_8.8.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.8 – 保存仪表盘](img/B18277_8.8.jpg)'
- en: Figure 8.8 – Saving the dashboard
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.8 – 保存仪表盘
- en: Give your new dashboard a meaningful name that reflects its purpose; we have
    a `Frontend Dashboard`.
  id: totrans-45
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 给你的新仪表盘起一个有意义的名称，能够反映它的目的；我们这里有一个`前端仪表盘`。
- en: '![Figure 8.9 – The Save dashboard panel](img/B18277_8.9.jpg)'
  id: totrans-46
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.9 – 保存仪表盘面板](img/B18277_8.9.jpg)'
- en: Figure 8.9 – The Save dashboard panel
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.9 – 保存仪表盘面板
- en: We now have our first dashboard, but it is very simple, with only one panel.
    It does not effectively communicate much, and the number of frontend requests
    alone does not give an indication of what is happening to our online store. Let’s
    explore what else we can do to improve this.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了第一个仪表盘，但它非常简单，只有一个面板。它并没有有效传达太多信息，仅凭前端请求数量并不能显示我们在线商店的状况。让我们探索一下还能做些什么来改进它。
- en: Developing your dashboard further
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步开发你的仪表盘
- en: 'Let’s now develop our dashboard further and improve the information we share.
    Approaching your dashboard as a work in progress that you can iterate over as
    you develop the message it is communicating is key to getting the right message
    across. In this section, we’ll use an example where there’s an increasing count
    of requests to the frontend app, which does not really tell us much. Showing the
    rate of those requests makes more sense, as we will be able to see the speed at
    which they arrive in our app. Let’s make that change now:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们进一步开发仪表盘，并改进我们共享的信息。将仪表盘视为一个可以反复迭代的工作进展，并随着信息传达的完善而不断优化，这是确保准确传达信息的关键。在本节中，我们将使用一个示例，其中前端应用程序的请求数量不断增加，但这并不能告诉我们太多信息。显示这些请求的速率更加合理，因为我们将能够看到它们在应用程序中的到达速度。现在让我们进行这个修改：
- en: 'From the panel’s triple-dots drop-down menu, select **Edit** and you will see
    the following screen:'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从面板的三点下拉菜单中选择**编辑**，你将看到如下界面：
- en: '![Figure 8.10 – The panel editor](img/B18277_8.10.jpg)'
  id: totrans-52
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.10 – 面板编辑器](img/B18277_8.10.jpg)'
- en: Figure 8.10 – The panel editor
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.10 – 面板编辑器
- en: 'Back in the panel editor, we can see that the query build gives us a hint to
    add a rate; this is highlighted with a blue box around it. Click on this hint
    to add the suggested aggregation to the existing query (if the hint does not appear,
    click the **Operations** button, and select **Rate** with a range of **$__rate_interval**):'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在面板编辑器中，我们可以看到查询构建提示我们添加速率；它被蓝色框高亮显示。点击此提示，将建议的聚合添加到现有查询中（如果提示未出现，请点击**操作**按钮，选择**速率**，并设置**$__rate_interval**的范围）：
- en: '![Figure 8.11 – The Rate query](img/B18277_8.11.jpg)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.11 – 速率查询](img/B18277_8.11.jpg)'
- en: Figure 8.11 – The Rate query
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.11 – 速率查询
- en: As you can see, the graph now shows how many frontend **GET** and **POST** requests
    per second come into our store. This is much more useful, but the legend is confusing,
    so let’s clean that up.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，图表现在显示了每秒进入我们商店的前端**GET**和**POST**请求的数量。这比之前更有用，但图例有些混乱，所以我们来清理一下。
- en: Expand the **Options** section just below the PromQL query preview.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 展开位于 PromQL 查询预览下方的**选项**部分。
- en: Replace the contents of the `{{method}}`), as shown in *Figure 8**.12*; this
    will extract the values from the method label as the values for the graph’s legend.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 替换`{{method}}`的内容，如*图 8.12*所示；这将从方法标签中提取值，作为图表图例的值。
- en: 'While we are here, let’s also change the title to reflect we are now showing
    a rate, not a count, and add a meaningful description, as shown in the following
    screenshot:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在此期间，我们还可以将标题更改为反映我们现在显示的是速率，而不是计数，并添加一个有意义的描述，如下图所示：
- en: '![Figure 8.12 – Panel updates](img/B18277_8.12.jpg)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.12 – 面板更新](img/B18277_8.12.jpg)'
- en: Figure 8.12 – Panel updates
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.12 – 面板更新
- en: 'Once again, click the **Apply** button to update the panel and return to the
    dashboard. You should see a dashboard like this:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次点击**应用**按钮更新面板并返回仪表盘。你应该会看到像下面这样的仪表盘：
- en: '![Figure 8.13 – Our first dashboard](img/B18277_8.13.jpg)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.13 – 我们的第一个仪表盘](img/B18277_8.13.jpg)'
- en: Figure 8.13 – Our first dashboard
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.13 – 我们的第一个仪表盘
- en: As we can see in the preceding screenshot, we now have a meaningful presentation
    of the rate of **GET** and **POST** requests coming into the frontend API. The
    name of the dashboard and panel reflect their purpose well, and there is also
    a new **i** icon next to the panel, which will display the description you added
    when you hover over it.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 如我们在前面的截图中所见，现在我们已经有了一个有意义的展示，展示了进入前端 API 的**GET**和**POST**请求的速率。仪表盘和面板的名称很好地反映了它们的目的，并且面板旁边还有一个新的**i**图标，当你将鼠标悬停在上面时，会显示你添加的描述。
- en: Let’s now look at the visualizations available in Grafana and how to use them.
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，让我们看看 Grafana 中可用的可视化以及如何使用它们。
- en: Using visualizations in Grafana
  id: totrans-68
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在 Grafana 中使用可视化
- en: 'Grafana has a large selection of visualizations to support your varying use
    cases and data formats. For example, for the counter and gauge metric types, you
    could use the **Stat** or **Gauge** visualization, and the histogram could use
    **Bar chart** or **Gauge**. Logs can be presented using the table visualization
    or by generating metrics from your logs in the time series chart. You can find
    the latest searchable list of plugins here on the Grafana website: [https://grafana.com/grafana/plugins/panel-plugins/](https://grafana.com/grafana/plugins/panel-plugins/).
    A great place to try them out and get ideas you can use in your own dashboards
    is [https://play.grafana.org](https://play.grafana.org), where you will find dashboard
    examples of all the panel visualizations along with a wide range of data types.'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: Grafana 提供了多种可视化选项，以支持你的各种使用场景和数据格式。例如，对于计数器和仪表量度类型，你可以使用**Stat**或**Gauge**可视化，直方图可以使用**条形图**或**仪表图**。日志可以使用表格可视化呈现，或者通过在时间序列图中生成来自日志的指标。你可以在
    Grafana 网站上找到最新的插件可搜索列表：[https://grafana.com/grafana/plugins/panel-plugins/](https://grafana.com/grafana/plugins/panel-plugins/)。一个很好的地方是
    [https://play.grafana.org](https://play.grafana.org)，你可以在这里尝试它们并获取可以在你自己仪表盘中使用的创意，网站上有所有面板可视化的仪表盘示例，以及各种数据类型。
- en: 'To change the panel visualization from within the panel editor, you can use
    the visualization selector, which is on the top right-hand side. Selecting it
    will display a searchable list, with a graphical representation of what the visualization
    looks like. This can be seen in the following screenshot:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 要在面板编辑器中更改面板的可视化，你可以使用可视化选择器，位于右上角。选择它将显示一个可搜索的列表，并附带可视化的图形表示。你可以在以下截图中看到这一点：
- en: '![Figure 8.14 – Grafana visualizations](img/B18277_8.14.jpg)'
  id: totrans-71
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.14 – Grafana 可视化](img/B18277_8.14.jpg)'
- en: Figure 8.14 – Grafana visualizations
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.14 – Grafana 可视化
- en: 'Let’s try this with our panel on our first dashboard:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们在我们的第一个仪表盘上尝试这个：
- en: From the panel’s triple-dots drop-down menu, select **Edit**.
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从面板的三点下拉菜单中，选择**编辑**。
- en: 'Select **Stat** from the list of panel visualizations. You should see the dashboard
    panel change to look similar to the following:'
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从面板可视化列表中选择**Stat**。你应该会看到仪表盘面板变化，类似于以下样子：
- en: '![Figure 8.15 – Stat visualisation](img/B18277_8.15.jpg)'
  id: totrans-76
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.15 – 状态可视化](img/B18277_8.15.jpg)'
- en: Figure 8.15 – Stat visualisation
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.15 – 状态可视化
- en: To better understand the options available, take some time to try out the different
    visualizations, or spend time on Grafana Play exploring the examples there. Once
    you know the visualizations available and the different panel configurations for
    each, it will become much easier for you to design your own dashboards.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更好地理解可用的选项，花点时间尝试不同的可视化效果，或花时间在Grafana Play上浏览那里的示例。一旦你了解了可用的可视化效果以及每个面板的不同配置，设计自己的仪表盘将变得更加轻松。
- en: 'A typical panel configuration will have the following items:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 一个典型的面板配置通常包含以下项：
- en: '**A title and description**: While the title should help people understand
    the data presented, the description should complement or embellish the title.'
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标题和描述**：标题应帮助人们理解展示的数据，而描述则应补充或美化标题。'
- en: '**A legend configuration**: The legend should help interpret data presented
    with context and clarity. It can be formatted to support visually processing data
    and can interact with the view, filtering data to the selected item.'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**图例配置**：图例应帮助解释展示的数据，并提供上下文和清晰度。它可以格式化以支持视觉处理数据，并且能够与视图互动，过滤数据以显示选中的项。'
- en: '**A standard options setup**: This is used to control the options for the units,
    maximum and minimum values, decimals, display name, and color scheme.'
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标准选项设置**：用于控制单位、最大值和最小值、小数位数、显示名称以及配色方案的选项。'
- en: '**A panel-specific options setup**: Each visualization can have its own panel
    configurations.'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**面板特定选项设置**：每个可视化面板都可以有自己的面板配置。'
- en: '**Thresholds**: These are used to control colors, backgrounds, or values displayed,
    based on whether a data threshold value is met or exceeded.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**阈值**：这些用于控制显示的颜色、背景或数值，依据是否达到或超过数据阈值。'
- en: '**Overrides**: Custom visualization settings can be applied to data to format
    and alter the presentation – for example, removing decimals and showing unit identifiers.'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**覆盖项**：可以对数据应用自定义可视化设置，格式化并改变展示方式——例如，移除小数并显示单位标识符。'
- en: '**Value mappings**: These are similar to the overrides used to change the visual
    treatment of your data. They can be used to replace returned values with colors
    or values based on data matches (including ranges and regular expressions) to
    alter the visual presentation.'
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**值映射**：这些类似于覆盖项，用来改变数据的视觉表现。它们可以用来将返回的数值替换为基于数据匹配（包括范围和正则表达式）的颜色或数值，从而改变视觉呈现。'
- en: Spending time developing your familiarity with the configuration of some of
    the main visualization panels will give you the confidence to shape and present
    data for your users.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 花时间熟悉一些主要可视化面板的配置，会增强你为用户构建和展示数据的信心。
- en: Let’s now take a look at some design concepts that will help you present your
    data more effectively.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看一下几个设计概念，帮助你更有效地展示数据。
- en: Developing a dashboard purpose
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开发仪表盘的目的
- en: 'When creating a dashboard, it is very important that it has an objective. There
    are three key questions you can ask yourself to help you get the answers that
    identify those objectives:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 在创建仪表盘时，非常重要的一点是它必须有一个明确的目标。你可以问自己三个关键问题，帮助你识别这些目标并得到答案：
- en: Who is the audience?
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 目标用户是谁？
- en: What are their requirements?
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 他们的需求是什么？
- en: Where will the dashboard be viewed (on a big screen or a mobile phone)?
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仪表盘将在哪里查看（大屏幕还是手机）？
- en: 'A dashboard must tell a story or answer a question, but we cannot do either
    of those things without answering the preceding questions. Let’s refer to the
    personas introduced in [*Chapter 1*](B18277_01.xhtml#_idTextAnchor018) to think
    about the type of people who need dashboards, what they want from them, and where
    they will see them:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 一个仪表盘必须讲述一个故事或回答一个问题，但在回答这些问题之前，我们不能做任何事情。让我们参考[*第一章*](B18277_01.xhtml#_idTextAnchor018)中介绍的角色，思考需要仪表盘的人群、他们的需求以及他们将在哪里查看仪表盘：
- en: '|  | **Persona** | **Requirements** |'
  id: totrans-95
  prefs: []
  type: TYPE_TB
  zh: '|  | **角色** | **需求** |'
- en: '| ![A person in a suit and tie'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: '| ![穿着西装和领带的人'
- en: Description automatically generated with medium confidence](img/B18277_Table__Person_8.1.png)
    | Diego the Developer | Insight into the traffic flowing through the systems I
    develop. This will inform how customers are using our product and help me make
    it better. Often, I need to investigate bugs and dig deeper into errors with much
    more detail. |
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成，信心中等](img/B18277_Table__Person_8.1.png) | Diego开发者 | 获取我开发的系统中流量的洞察。这将帮助我了解客户如何使用我们的产品，并帮助我改进产品。通常，我需要调查错误，并深入挖掘错误的更多细节。
    |
- en: '| ![A cartoon of a person'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: '| ![一个人的卡通画'
- en: Description automatically generated](img/B18277_Table__Person_8.2.png) | Ophelia
    the Operator | Visibility of problems as they happen, with clear indicators and
    colors to represent system states. Things need to be simple to understand at a
    glance. Dashboards will usually be on a large screen but need to be on my computer
    if I am investigating an issue. |
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18277_Table__Person_8.2.png) | Ophelia 操作员 | 事件发生时的问题可见性，系统状态通过清晰的指示器和颜色表示。信息需要简单易懂，一目了然。仪表板通常会显示在大屏幕上，但如果我正在调查一个问题，它也需要在我的电脑上显示。
    |
- en: '| ![A person wearing a suit and tie'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: '| ![一位穿着西装打领带的人'
- en: Description automatically generated](img/B18277_Table__Person_8.3.png) | Steven
    the Service Manager | Overall, a system view that helps me see the wider picture.
    If there is a problem, I need the information to identify who can solve it. I
    will view this on my computer. |
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18277_Table__Person_8.3.png) | Steven 服务经理 | 总体而言，这是一个系统视图，帮助我看到更广泛的全貌。如果出现问题，我需要信息来识别谁能解决它。我将在电脑上查看这些信息。
    |
- en: '| ![A cartoon of a person wearing glasses'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: '| ![戴眼镜的卡通人物'
- en: Description automatically generated](img/B18277_Table__Person_8.4.png) | Pelé
    the Product Manager | Clear and comprehensive metrics that show me how our products
    are used and with which devices. I will view this on my computer, and often, I
    want to export it to a spreadsheet for further analysis. |
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18277_Table__Person_8.4.png) | Pelé 产品经理 | 清晰而全面的度量标准，展示了我们的产品如何使用以及使用了哪些设备。我将在电脑上查看这些数据，通常我还想将其导出为电子表格以便进一步分析。
    |
- en: '| ![A picture containing vector graphics'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: '| ![包含矢量图形的图片'
- en: Description automatically generated](img/B18277_Table__Person_8.5.png) | Masha
    the Manager | Aggregated data is useful to me, showing trends with details on
    recovery rates and capacity so that I can plan ahead. I will view these on my
    computer, but periodic PDF reports via email help me. |
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 描述自动生成](img/B18277_Table__Person_8.5.png) | Masha 经理 | 聚合数据对我很有用，展示了恢复率和容量的趋势，帮助我提前做好计划。我将在电脑上查看这些数据，但通过电子邮件接收定期的PDF报告也很有帮助。
    |
- en: Table 8.1 – Dashboard users and needs
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 表8.1 – 仪表板用户与需求
- en: Capturing end user requirements and delivering them with the dashboards you
    create will ensure value is taken from your observability platform and increase
    adoption. Once you have your user requirements and have analyzed your data (so
    that you understand what important information is there), you can start pulling
    your dashboards together. We say pulling together because it’s important to remember
    you are creating something to answer a question, and that’s going to take time.
    Do not be afraid to try out different styles, layouts, and visualizations as you
    work on the goal for each dashboard. Be sure to test under the different presentation
    requirements; if it’s a large wall screen display or an emailed PDF, you want
    to ensure you have verified that it displays correctly.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 捕捉最终用户需求并通过你创建的仪表板提供这些需求，将确保从你的可观察性平台中获取价值并提高用户采纳率。一旦你拥有了用户需求并分析了数据（以便了解哪些信息是重要的），你就可以开始整理你的仪表板。我们说是“整理”而不是“创建”，因为你要记住，你是在创建一个用来回答问题的工具，这个过程需要时间。在制作每个仪表板的过程中，不要害怕尝试不同的风格、布局和可视化效果。确保在不同的展示需求下进行测试；无论是大型墙面屏幕显示，还是电子邮件中的PDF文件，你都需要确认它的显示效果正确。
- en: Let’s look at some techniques that will help with presentation.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看看一些有助于展示的技巧。
- en: Advanced dashboard techniques
  id: totrans-109
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 高级仪表板技巧
- en: 'To communicate effectively with our dashboards, we can use a layout and some
    technical features to up our game. Let’s start looking at some of these in detail:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 为了有效地与我们的仪表板进行沟通，我们可以使用布局和一些技术特性来提升我们的表现。让我们开始详细了解其中的一些技巧：
- en: '**Layout tricks**: To help get your message across, you need to consider a
    few layout tricks that really make your message pop. These include the following:'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**布局技巧**：为了有效地传达信息，你需要考虑一些布局技巧，这些技巧能真正让你的信息脱颖而出。包括以下几点：'
- en: Use a short top title in the **Overview** panel to make it clearer to read.
  id: totrans-112
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在**概览**面板中使用简短的标题，以使其更加清晰易读。
- en: Add a description showing how to use the information and who it’s for to give
    the users the best chance of understanding the data presented.
  id: totrans-113
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加描述，说明如何使用这些信息以及它的目标用户是谁，以便为用户提供最佳的理解数据的机会。
- en: Call out key indicators using visualizations such as **Stat** with sparklines,
    and show them first at the top of your dashboard.
  id: totrans-114
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用**Stat**带有小趋势图的可视化来突出显示关键指标，并将它们放在仪表板的顶部。
- en: Present panels in a grid to visually guide viewers through your dashboard and
    control their focus.
  id: totrans-115
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将面板以网格形式呈现，视觉上引导观众浏览你的仪表盘并控制他们的焦点。
- en: Do not cram too many panels into a single dashboard; this makes it hard to digest.
    Instead, use datalinks to other dashboards and separate the data more.
  id: totrans-116
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 不要将太多面板塞入一个仪表盘中，这样会让内容难以消化。相反，使用数据链接到其他仪表盘，并将数据分隔开。
- en: Use transparent panels to introduce visual spacing on your dashboard and help
    key data stand out.
  id: totrans-117
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用透明面板在仪表盘上引入视觉间距，帮助突出关键信息。
- en: Use rows to group relevant panels and data together, creating a context for
    the data.
  id: totrans-118
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用行将相关面板和数据分组在一起，创建数据的上下文。
- en: Use the collapse feature of rows to hide certain data when the dashboard loads;
    this will also have the performance benefit of not running those queries until
    the row is expanded.
  id: totrans-119
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用行的折叠功能来隐藏仪表盘加载时的某些数据；这也有助于性能，因为在行展开之前不会运行那些查询。
- en: Group similar visualizations to make the dashboard easier to read; this makes
    it easier to process the data presented.
  id: totrans-120
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将相似的可视化项分组，使仪表盘更容易阅读，这样有助于处理所呈现的数据。
- en: '`now-15m` to show the last 15 minutes.'
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`now-15m` 显示过去 15 分钟的数据。'
- en: 'Use transformations to present your data in more digestible formats. The **Transform**
    tab and available transforms are shown in the following screenshot:'
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用转换来将数据以更易消化的格式呈现。**转换** 标签和可用的转换方法在下图中显示：
- en: '![Figure 8.16 – The transformation selection screen](img/B18277_8.16.jpg)'
  id: totrans-123
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.16 – 转换选择屏幕](img/B18277_8.16.jpg)'
- en: Figure 8.16 – The transformation selection screen
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.16 – 转换选择屏幕
- en: 'Use annotations; mark points on a graph with rich events from other data sources
    or even manual annotations to communicate key events:'
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用注释；用来自其他数据源的丰富事件或甚至手动注释标记图表上的关键点，以传达重要事件：
- en: '![Figure 8.17 – Annotations](img/B18277_8.17.jpg)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.17 – 注释](img/B18277_8.17.jpg)'
- en: Figure 8.17 – Annotations
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.17 – 注释
- en: Let’s now look at how we can develop good practices to maintain control over
    our dashboards.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们来看一下如何开发一些良好的实践，来保持对仪表盘的控制。
- en: Managing and organizing dashboards
  id: totrans-129
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 管理和组织仪表盘
- en: 'As the list of dashboards and teams using them grows, you will need a way to
    manage them easier. Grafana provides folders, tags, and permissions that give
    us the capability to get organized. From the main **Dashboards** screen, you can
    create folders, move and delete dashboards, and star them, as you can see in the
    following screenshot:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 随着仪表盘和使用它们的团队数量增加，你将需要一种更轻松的管理方式。Grafana 提供了文件夹、标签和权限，使我们能够更好地组织。你可以从主 **仪表盘**
    屏幕创建文件夹、移动和删除仪表盘，并对它们进行加星标记，正如下图所示：
- en: '![Figure 8.18 – The Dashboards screen](img/B18277_8.18.jpg)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.18 – 仪表盘屏幕](img/B18277_8.18.jpg)'
- en: Figure 8.18 – The Dashboards screen
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.18 – 仪表盘屏幕
- en: 'From the dashboard **Settings** screen, you can add or remove tags from individual
    dashboards, as shown in the following screenshot:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 从仪表盘 **设置** 屏幕，你可以为单个仪表盘添加或移除标签，如下图所示：
- en: '![Figure 8.19 – Dashboard settings](img/B18277_8.19.jpg)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.19 – 仪表盘设置](img/B18277_8.19.jpg)'
- en: Figure 8.19 – Dashboard settings
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.19 – 仪表盘设置
- en: 'Let’s look at the available settings for folders, tags, and permissions:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们看看可用的文件夹、标签和权限设置：
- en: '**Folders**:'
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**文件夹**：'
- en: Provide easy organization and grouping
  id: totrans-138
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 提供简便的组织和分组方式
- en: Enhanced security by segregating permissions at the folder level
  id: totrans-139
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过在文件夹级别划分权限来增强安全性
- en: '**Tags**:'
  id: totrans-140
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**标签**：'
- en: Useful when searching for related dashboards
  id: totrans-141
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在搜索相关仪表盘时非常有用
- en: Color-coded for visual recognition
  id: totrans-142
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用颜色编码便于视觉识别
- en: '**Permissions**:'
  id: totrans-143
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**权限**：'
- en: Control access to folders and their dashboards
  id: totrans-144
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 控制对文件夹及其仪表盘的访问
- en: Give viewer access only to those who do not need to edit
  id: totrans-145
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 仅为不需要编辑的用户提供查看权限
- en: Hide folders on a *need-to-know* basis
  id: totrans-146
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 根据需要隐藏文件夹
- en: Available for both individual users and teams
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 可供个人用户和团队使用
- en: Now that you have an understanding of the concepts involved, let’s look at a
    case study to develop a dashboard for one of our personas.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经理解了相关概念，接下来我们来看一个案例研究，帮助我们为其中一个人物角色开发仪表盘。
- en: Case study – an overall system view
  id: totrans-149
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 案例研究 – 整体系统视图
- en: We will now walk through the process you would take to develop dashboards for
    *Steven* the Service Manager. If you recall from [*Chapter 1*](B18277_01.xhtml#_idTextAnchor018),
    he works in service delivery. He wants the organization’s services to run as smoothly
    as possible.
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将一起走过开发 *Steven* 服务经理仪表盘的过程。如果你还记得在 [*第 1 章*](B18277_01.xhtml#_idTextAnchor018)
    中提到的，他从事服务交付工作。他希望组织的服务能尽可能平稳运行。
- en: 'We will start with a use case; in an earlier section in this chapter, *Developing
    a dashboard purpose*, we recorded the following requirement from Steven:'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将从一个用例开始；在本章的前一个部分，*开发仪表板目的*，我们记录了 Steven 提出的以下需求：
- en: “Overall, a system view that helps me see the wider picture. If there is a problem,
    I need the information to identify who can solve it. I will view this on my computer.”
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: “总体来说，这是一个能帮助我看到更大局面的系统视图。如果有问题，我需要相关信息来识别谁能解决它。我将通过电脑查看这个信息。”
- en: 'This can be broken down into the following:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 这可以细分为以下几个方面：
- en: A top-level system view
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 顶层系统视图
- en: Problem indicators (to highlight issues)
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 问题指标（用于突出问题）
- en: More detail when needed
  id: totrans-156
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 需要时提供更多细节
- en: Assistance in identifying who can help
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 协助识别谁能提供帮助
- en: We then need to gather information from documentation and by having conversations.
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 然后我们需要通过文档和与人交谈来收集信息。
- en: We have been using the OpenTelemetry demo app throughout the book; fortunately,
    architecture diagrams are provided at https://opentelemetry.io/docs/demo/architecture/,
    which will help us understand the system better.
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 我们在整本书中都使用了 OpenTelemetry 演示应用程序；幸运的是，架构图可以在 https://opentelemetry.io/docs/demo/architecture/
    上找到，这将帮助我们更好地理解系统。
- en: 'Let’s look at the OpenTelemetry demo system architecture diagram:'
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一下 OpenTelemetry 演示系统的架构图：
- en: '![Figure 8.20 – OpenTelemetry demo system architecture](img/B18277_8.20.jpg)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.20 – OpenTelemetry 演示系统架构](img/B18277_8.20.jpg)'
- en: Figure 8.20 – OpenTelemetry demo system architecture
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.20 – OpenTelemetry 演示系统架构
- en: We will also look at what telemetry is being ingested for these applications.
    This could be done by exploring Grafana ourselves; we have system names now and
    application flows. Alternatively, we could talk to *Diego* the Developer and obtain
    his insight into the system.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还将查看这些应用程序正在收集的遥测数据。这可以通过自己探索 Grafana 来完成；现在我们有了系统名称和应用流。或者，我们可以与开发者 *Diego*
    交流，获取他对系统的见解。
- en: If you are exploring by yourself, this is a good time to build a research dashboard.
    This is where you add panels as you explore and discover interesting data. We
    did this with our first dashboard earlier in this chapter, starting with frontend
    requests and then enhancing it to show the rate of frontend requests. Otherwise,
    start building up a scrapbook dashboard of data you may want to use; do not worry
    about layout or visualizations right now.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是自己探索，这是建立研究仪表板的好时机。这里你可以在探索和发现有趣数据时添加面板。我们在本章早些时候通过第一个仪表板做了这个，先是前端请求，然后改进它以显示前端请求的速率。否则，你可以开始建立一个数据备忘录仪表板，收集你可能想要使用的数据；现在不用担心布局或可视化。
- en: To help us choose useful metrics, we can use a methodology such as the **Four
    Golden Signals**, as identified in Google’s *Site Reliability Engineering* handbook
    (https://sre.google/sre-book/monitoring-distributed-systems/#xref_monitoring_golden-signals).
    There are other popular methods available – for example, the **Utilization, Saturation,
    Errors** (**USE**) and **Rate, Errors, Duration** (**RED**) methods, which we
    will discuss in the next chapter.
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助我们选择有用的度量指标，我们可以使用一种方法论，比如 Google 的 *Site Reliability Engineering* 手册中提出的
    **四大黄金信号**（https://sre.google/sre-book/monitoring-distributed-systems/#xref_monitoring_golden-signals）。还有其他流行的方法，比如
    **利用率、饱和度、错误**（**USE**）方法和 **速率、错误、时长**（**RED**）方法，我们将在下一章讨论这些方法。
- en: 'Let’s quickly take a look at the Four Golden Signals:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们快速看一下四大黄金信号：
- en: '**Latency**: The time taken to service a request'
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**延迟**：处理请求的时间'
- en: '**Traffic**: How much demand is placed on your system'
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**流量**：系统承受的需求量'
- en: '**Errors**: The rate of requests that fail'
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**错误**：请求失败的比率'
- en: '**Saturation**: How full your system services are'
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**饱和度**：系统服务的负载程度'
- en: 'When you have some key metric data ready for use, you can start shaping your
    dashboard. Remember that a dashboard should tell a story or answer a question;
    *Steven* has said he wants a top-level system view that highlights problems with
    access to more detailed information as and when needed. We can follow these steps:'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 当你有一些关键的度量数据可以使用时，你可以开始构建你的仪表板。记住，仪表板应该讲述一个故事或回答一个问题；*Steven* 说他希望有一个顶层系统视图，能够突出显示问题，并在需要时访问更详细的信息。我们可以按照以下步骤进行：
- en: Let’s start with the first row of the dashboard, creating the first-look area.
    By choosing metrics detailing the flow of traffic through our system, we can use
    visualizations such as **Stats** (with a timeline) to stand out. Lead the viewer,
    *Steven,* from left to right, with the most important information first.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 让我们从仪表盘的第一行开始，创建第一视图区域。通过选择详细描述流量通过我们系统的指标，我们可以使用如**统计信息**（带时间轴）的可视化来突出显示。引导观众，*Steven*，从左到右展示最重要的信息。
- en: 'Here’s an example of **Stats** with timeline visualizations for the first-look
    area:'
  id: totrans-173
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这是一个包含时间轴可视化的**统计信息**示例，用于第一视图区域：
- en: '![Figure 8.21 – A system overview](img/B18277_8.21.jpg)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.21 – 系统概览](img/B18277_8.21.jpg)'
- en: Figure 8.21 – A system overview
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.21 – 系统概览
- en: Other visualizations such as **Gauge** are good to represent the saturation
    of a system.
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 其他可视化方式，如**仪表盘**，适合表示系统的饱和度。
- en: To ensure Steven’s attention is drawn to the most important information first,
    we can enhance our panels with thresholds, overrides, and value mappings. In certain
    panels, we can even overlay further context as annotations.
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保*Steven*首先关注最重要的信息，我们可以通过阈值、覆盖和数值映射来增强我们的面板。在某些面板中，我们甚至可以将更多的上下文作为注释覆盖在上面。
- en: 'We then need to find a way to communicate more detailed information and decide
    this based on how much information we have to display. We have to ask two questions:'
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，我们需要找到一种方式来传达更详细的信息，并根据需要展示的信息量来决定这一点。我们需要问两个问题：
- en: Can we present the detailed information here on this dashboard itself (is there
    enough room)?
  id: totrans-179
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们能否在这个仪表盘上展示详细信息（这里有足够的空间吗）？
- en: Do we need to drill down into other, more focused dashboards?
  id: totrans-180
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们是否需要深入其他更专注的仪表盘？
- en: 'For our use case, we will work on the *same* dashboard. To support *Steven*
    with the identification of who he needs to support in the event of an incident,
    we can do the following:'
  id: totrans-181
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 对于我们的用例，我们将在*相同*的仪表盘上进行工作。为了支持*Steven*识别在事件发生时他需要支持的人，我们可以做如下操作：
- en: We can logically group our visualizations in rows. Each row can be a team, and
    the first panel can be a text panel used to share contact information and provide
    details on how to engage the team. This means the cognitive load when using the
    dashboard is greatly reduced, helping *Steven* solve problems more quickly.
  id: totrans-182
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们可以在行中逻辑地分组我们的可视化。每一行可以代表一个团队，第一个面板可以是一个文本面板，用于共享联系信息并提供如何与团队互动的详细信息。这意味着使用仪表盘时认知负担大大减少，帮助*Steven*更快地解决问题。
- en: We can also use panel descriptions to share useful information that helps viewers,
    including *Steven*, understand the data, and dashboard links to callout support
    pages will also help.
  id: totrans-183
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们还可以使用面板描述来共享有助于观众，包括*Steven*，理解数据的有用信息，仪表盘链接到支持页面的提示也会有所帮助。
- en: To represent more detailed information better, we could use visualizations such
    as the table panel along with color coding to provide visual aids, helping to
    process the information quicker.
  id: totrans-184
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为了更好地展示更详细的信息，我们可以使用诸如表格面板这样的可视化，并结合颜色编码来提供视觉辅助，帮助更快地处理信息。
- en: 'Here, we have an example with top-level insights and more detailed and directional
    (i.e., identifying the owning or supporting teams) panels and rows:'
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 这里是一个包含顶级洞察以及更详细和有方向性的（即识别负责或支持的团队）面板和行的示例：
- en: '![Figure 8.22 – A detailed dashboard](img/B18277_8.22.jpg)'
  id: totrans-186
  prefs: []
  type: TYPE_IMG
  zh: '![图 8.22 – 详细的仪表盘](img/B18277_8.22.jpg)'
- en: Figure 8.22 – A detailed dashboard
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 图 8.22 – 详细的仪表盘
- en: As you can see from this fictional example, building a useful dashboard requires
    several iterations. Much more than telemetry alone goes into the process, but
    the results mean *Steven* can do his job and have the best shot at delivering
    customer satisfaction.
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 从这个虚构的例子中可以看出，构建一个有用的仪表盘需要多次迭代。这个过程不仅仅涉及遥测数据，还需要更多的元素，但最终的结果意味着*Steven*能够完成他的工作，并有最大的机会提供客户满意度。
- en: Let’s now close this chapter with a few words on how you can support your development
    with dashboards.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们通过几句话来结束这一章，讨论如何通过仪表盘支持你的开发工作。
- en: Summary
  id: totrans-190
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we explored the different components of a dashboard and looked
    at the different details we need to factor in. These techniques will take time
    to build, so approach your dashboard development in the same way, get something
    simple built early, and iterate on it. We talked about the visualizations available
    for panels and inspiration on websites such as [play.grafana.org](http://play.grafana.org).
    Have some fun, and try out alternative methods to present your data and find a
    style you like. Finally, we looked at some tricks and tips to improve your dashboarding,
    wrapping up with some simple ideas to help you manage your dashboards.
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了仪表板的不同组件，并查看了我们需要考虑的各种细节。这些技巧需要时间来建立，所以请以同样的方式来开发你的仪表板，尽早构建一些简单的东西，然后在此基础上不断迭代。我们讨论了面板可用的可视化效果，以及来自像[play.grafana.org](http://play.grafana.org)等网站的灵感。玩得开心，尝试不同的方式展示你的数据，找到你喜欢的风格。最后，我们介绍了一些技巧和窍门，以帮助你改进仪表板的制作，最后总结了一些简单的想法，帮助你管理你的仪表板。
- en: In the next chapter, we will learn about **incident management** and the great
    tools available from Grafana that support it.
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章，我们将学习**事件管理**以及来自 Grafana 的强大工具，这些工具可以支持事件管理。
